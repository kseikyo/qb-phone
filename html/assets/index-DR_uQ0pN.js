var mm=Object.defineProperty;var zf=e=>{throw TypeError(e)};var gm=(e,t,n)=>t in e?mm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Be=(e,t,n)=>gm(e,typeof t!="symbol"?t+"":t,n),Df=(e,t,n)=>t.has(e)||zf("Cannot "+n);var me=(e,t,n)=>(Df(e,t,"read from private field"),n?n.call(e):t.get(e)),zn=(e,t,n)=>t.has(e)?zf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Dn=(e,t,n,r)=>(Df(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function wm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sa={exports:{}},aa={exports:{}},Hf;function bm(){return Hf||(Hf=1,function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],o=0,i=0;o<n.length;o++,i+=8)r[i>>>5]|=n[o]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],o=0;o<n.length*32;o+=8)r.push(n[o>>>5]>>>24-o%32&255);return r},bytesToHex:function(n){for(var r=[],o=0;o<n.length;o++)r.push((n[o]>>>4).toString(16)),r.push((n[o]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],o=0;o<n.length;o+=2)r.push(parseInt(n.substr(o,2),16));return r},bytesToBase64:function(n){for(var r=[],o=0;o<n.length;o+=3)for(var i=n[o]<<16|n[o+1]<<8|n[o+2],s=0;s<4;s++)o*8+s*6<=n.length*8?r.push(e.charAt(i>>>6*(3-s)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],o=0,i=0;o<n.length;i=++o%4)i!=0&&r.push((e.indexOf(n.charAt(o-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(o))>>>6-i*2);return r}};aa.exports=t}()),aa.exports}var ca,qf;function Gf(){if(qf)return ca;qf=1;var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r)&255);return n},bytesToString:function(t){for(var n=[],r=0;r<t.length;r++)n.push(String.fromCharCode(t[r]));return n.join("")}}};return ca=e,ca}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ua,Vf;function vm(){if(Vf)return ua;Vf=1,ua=function(n){return n!=null&&(e(n)||t(n)||!!n._isBuffer)};function e(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function t(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&e(n.slice(0,0))}return ua}var Kf;function xm(){return Kf||(Kf=1,function(){var e=bm(),t=Gf().utf8,n=vm(),r=Gf().bin,o=function(i,s){i.constructor==String?s&&s.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var a=e.bytesToWords(i),l=i.length*8,h=1732584193,p=-271733879,m=-1732584194,g=271733878,w=0;w<a.length;w++)a[w]=(a[w]<<8|a[w]>>>24)&16711935|(a[w]<<24|a[w]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var S=o._ff,I=o._gg,P=o._hh,R=o._ii,w=0;w<a.length;w+=16){var U=h,k=p,j=m,N=g;h=S(h,p,m,g,a[w+0],7,-680876936),g=S(g,h,p,m,a[w+1],12,-389564586),m=S(m,g,h,p,a[w+2],17,606105819),p=S(p,m,g,h,a[w+3],22,-1044525330),h=S(h,p,m,g,a[w+4],7,-176418897),g=S(g,h,p,m,a[w+5],12,1200080426),m=S(m,g,h,p,a[w+6],17,-1473231341),p=S(p,m,g,h,a[w+7],22,-45705983),h=S(h,p,m,g,a[w+8],7,1770035416),g=S(g,h,p,m,a[w+9],12,-1958414417),m=S(m,g,h,p,a[w+10],17,-42063),p=S(p,m,g,h,a[w+11],22,-1990404162),h=S(h,p,m,g,a[w+12],7,1804603682),g=S(g,h,p,m,a[w+13],12,-40341101),m=S(m,g,h,p,a[w+14],17,-1502002290),p=S(p,m,g,h,a[w+15],22,1236535329),h=I(h,p,m,g,a[w+1],5,-165796510),g=I(g,h,p,m,a[w+6],9,-1069501632),m=I(m,g,h,p,a[w+11],14,643717713),p=I(p,m,g,h,a[w+0],20,-373897302),h=I(h,p,m,g,a[w+5],5,-701558691),g=I(g,h,p,m,a[w+10],9,38016083),m=I(m,g,h,p,a[w+15],14,-660478335),p=I(p,m,g,h,a[w+4],20,-405537848),h=I(h,p,m,g,a[w+9],5,568446438),g=I(g,h,p,m,a[w+14],9,-1019803690),m=I(m,g,h,p,a[w+3],14,-187363961),p=I(p,m,g,h,a[w+8],20,1163531501),h=I(h,p,m,g,a[w+13],5,-1444681467),g=I(g,h,p,m,a[w+2],9,-51403784),m=I(m,g,h,p,a[w+7],14,1735328473),p=I(p,m,g,h,a[w+12],20,-1926607734),h=P(h,p,m,g,a[w+5],4,-378558),g=P(g,h,p,m,a[w+8],11,-2022574463),m=P(m,g,h,p,a[w+11],16,1839030562),p=P(p,m,g,h,a[w+14],23,-35309556),h=P(h,p,m,g,a[w+1],4,-1530992060),g=P(g,h,p,m,a[w+4],11,1272893353),m=P(m,g,h,p,a[w+7],16,-155497632),p=P(p,m,g,h,a[w+10],23,-1094730640),h=P(h,p,m,g,a[w+13],4,681279174),g=P(g,h,p,m,a[w+0],11,-358537222),m=P(m,g,h,p,a[w+3],16,-722521979),p=P(p,m,g,h,a[w+6],23,76029189),h=P(h,p,m,g,a[w+9],4,-640364487),g=P(g,h,p,m,a[w+12],11,-421815835),m=P(m,g,h,p,a[w+15],16,530742520),p=P(p,m,g,h,a[w+2],23,-995338651),h=R(h,p,m,g,a[w+0],6,-198630844),g=R(g,h,p,m,a[w+7],10,1126891415),m=R(m,g,h,p,a[w+14],15,-1416354905),p=R(p,m,g,h,a[w+5],21,-57434055),h=R(h,p,m,g,a[w+12],6,1700485571),g=R(g,h,p,m,a[w+3],10,-1894986606),m=R(m,g,h,p,a[w+10],15,-1051523),p=R(p,m,g,h,a[w+1],21,-2054922799),h=R(h,p,m,g,a[w+8],6,1873313359),g=R(g,h,p,m,a[w+15],10,-30611744),m=R(m,g,h,p,a[w+6],15,-1560198380),p=R(p,m,g,h,a[w+13],21,1309151649),h=R(h,p,m,g,a[w+4],6,-145523070),g=R(g,h,p,m,a[w+11],10,-1120210379),m=R(m,g,h,p,a[w+2],15,718787259),p=R(p,m,g,h,a[w+9],21,-343485551),h=h+U>>>0,p=p+k>>>0,m=m+j>>>0,g=g+N>>>0}return e.endian([h,p,m,g])};o._ff=function(i,s,a,l,h,p,m){var g=i+(s&a|~s&l)+(h>>>0)+m;return(g<<p|g>>>32-p)+s},o._gg=function(i,s,a,l,h,p,m){var g=i+(s&l|a&~l)+(h>>>0)+m;return(g<<p|g>>>32-p)+s},o._hh=function(i,s,a,l,h,p,m){var g=i+(s^a^l)+(h>>>0)+m;return(g<<p|g>>>32-p)+s},o._ii=function(i,s,a,l,h,p,m){var g=i+(a^(s|~l))+(h>>>0)+m;return(g<<p|g>>>32-p)+s},o._blocksize=16,o._digestsize=16,sa.exports=function(i,s){if(i==null)throw new Error("Illegal argument "+i);var a=e.wordsToBytes(o(i,s));return s&&s.asBytes?a:s&&s.asString?r.bytesToString(a):e.bytesToHex(a)}}()),sa.exports}var Em=xm();const Sm=wm(Em);var Wf={};function Am(){try{return typeof navigator<"u"&&navigator.product==="ReactNative"}catch{return!1}}function Bm(){try{if(typeof window>"u")return typeof process<"u"&&Wf&&"__NEXT_PROCESSED_ENV"in Wf;const e=window;return!!(e.__NEXT_DATA__||e.next||document.getElementById("__next"))}catch{return!1}}function _m(){try{if(typeof window>"u")return!1;const e=window;return!!(e.__VUE__||e.__VUE_DEVTOOLS_GLOBAL_HOOK__||document.querySelector("[data-v-]"))}catch{return!1}}function Im(){try{if(typeof window>"u")return!1;const e=window;return e.__REACT_DEVTOOLS_GLOBAL_HOOK__||e.React?!0:!!document.querySelector("[data-reactroot], [data-reactid], ._reactRoot, ._reactRootContainer")}catch{return!1}}function $m(){return Im()?"react":Am()?"react-native":Bm()?"nextjs":_m()?"vue":"unknown"}let fa=null;function Tm(){return fa===null&&(fa=$m()),fa}const Pm="1f8d3e558f493e38a037dbfadb8ba344",Om="d473b1dcc969105adab157226cd9cf63",la=Symbol.for("@coinbase/cdp-analytics");function Rm(){const e=globalThis;return e[la]||(e[la]={identifier:"",enabled:!0,isProduction:!1,isUsingMocks:!1,sendEvent:wi,sendActionCallEvent:t=>wi({...t,type:"action_call"}),sendHookCallEvent:t=>wi({...t,type:"hook_call"}),sendComponentCallEvent:t=>wi({...t,type:"component_call"}),versionRegistry:{},registerPackageVersion:(t,n)=>{Jn.versionRegistry[t]=n}}),e[la]}const Jn=Rm();async function wi(e){if(!Jn.enabled||!Jn.identifier)return;const t=Date.now(),n=[{user_id:Jn.identifier,event_type:e.type,platform:zh()?"web":"native",timestamp:t,event_properties:{project_name:"cdp-embedded-wallet",framework:Tm(),isLocalHost:Cm(),isUsingMocks:Jn.isUsingMocks,package_versions:Jn.versionRegistry,...e}}],r=JSON.stringify(n),o=t.toString(),i=Sm(r+o),s={client:Jn.isProduction?Om:Pm,e:r,checksum:i};await fetch("https://cca-lite.coinbase.com/amp",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}function zh(){return typeof window<"u"&&typeof document<"u"}function Cm(){return zh()?window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1":!1}var ha={exports:{}},xe={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Zf;function Mm(){if(Zf)return xe;Zf=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(b){return b===null||typeof b!="object"?null:(b=m&&b[m]||b["@@iterator"],typeof b=="function"?b:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function P(b,x,y){this.props=b,this.context=x,this.refs=I,this.updater=y||w}P.prototype.isReactComponent={},P.prototype.setState=function(b,x){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,x,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function R(){}R.prototype=P.prototype;function U(b,x,y){this.props=b,this.context=x,this.refs=I,this.updater=y||w}var k=U.prototype=new R;k.constructor=U,S(k,P.prototype),k.isPureReactComponent=!0;var j=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function Y(b,x,y,_,z,V){return y=V.ref,{$$typeof:e,type:b,key:x,ref:y!==void 0?y:null,props:V}}function ne(b,x){return Y(b.type,x,void 0,void 0,void 0,b.props)}function G(b){return typeof b=="object"&&b!==null&&b.$$typeof===e}function Q(b){var x={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(y){return x[y]})}var K=/\/+/g;function X(b,x){return typeof b=="object"&&b!==null&&b.key!=null?Q(""+b.key):x.toString(36)}function B(){}function d(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(B,B):(b.status="pending",b.then(function(x){b.status==="pending"&&(b.status="fulfilled",b.value=x)},function(x){b.status==="pending"&&(b.status="rejected",b.reason=x)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function v(b,x,y,_,z){var V=typeof b;(V==="undefined"||V==="boolean")&&(b=null);var H=!1;if(b===null)H=!0;else switch(V){case"bigint":case"string":case"number":H=!0;break;case"object":switch(b.$$typeof){case e:case t:H=!0;break;case p:return H=b._init,v(H(b._payload),x,y,_,z)}}if(H)return z=z(b),H=_===""?"."+X(b,0):_,j(z)?(y="",H!=null&&(y=H.replace(K,"$&/")+"/"),v(z,x,y,"",function(le){return le})):z!=null&&(G(z)&&(z=ne(z,y+(z.key==null||b&&b.key===z.key?"":(""+z.key).replace(K,"$&/")+"/")+H)),x.push(z)),1;H=0;var ue=_===""?".":_+":";if(j(b))for(var J=0;J<b.length;J++)_=b[J],V=ue+X(_,J),H+=v(_,x,y,V,z);else if(J=g(b),typeof J=="function")for(b=J.call(b),J=0;!(_=b.next()).done;)_=_.value,V=ue+X(_,J++),H+=v(_,x,y,V,z);else if(V==="object"){if(typeof b.then=="function")return v(d(b),x,y,_,z);throw x=String(b),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.")}return H}function A(b,x,y){if(b==null)return b;var _=[],z=0;return v(b,_,"","",function(V){return x.call(y,V,z++)}),_}function T(b){if(b._status===-1){var x=b._result;x=x(),x.then(function(y){(b._status===0||b._status===-1)&&(b._status=1,b._result=y)},function(y){(b._status===0||b._status===-1)&&(b._status=2,b._result=y)}),b._status===-1&&(b._status=0,b._result=x)}if(b._status===1)return b._result.default;throw b._result}var O=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function M(){}return xe.Children={map:A,forEach:function(b,x,y){A(b,function(){x.apply(this,arguments)},y)},count:function(b){var x=0;return A(b,function(){x++}),x},toArray:function(b){return A(b,function(x){return x})||[]},only:function(b){if(!G(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},xe.Component=P,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=U,xe.StrictMode=r,xe.Suspense=l,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,xe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return N.H.useMemoCache(b)}},xe.cache=function(b){return function(){return b.apply(null,arguments)}},xe.cloneElement=function(b,x,y){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var _=S({},b.props),z=b.key,V=void 0;if(x!=null)for(H in x.ref!==void 0&&(V=void 0),x.key!==void 0&&(z=""+x.key),x)!Z.call(x,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&x.ref===void 0||(_[H]=x[H]);var H=arguments.length-2;if(H===1)_.children=y;else if(1<H){for(var ue=Array(H),J=0;J<H;J++)ue[J]=arguments[J+2];_.children=ue}return Y(b.type,z,void 0,void 0,V,_)},xe.createContext=function(b){return b={$$typeof:s,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:i,_context:b},b},xe.createElement=function(b,x,y){var _,z={},V=null;if(x!=null)for(_ in x.key!==void 0&&(V=""+x.key),x)Z.call(x,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(z[_]=x[_]);var H=arguments.length-2;if(H===1)z.children=y;else if(1<H){for(var ue=Array(H),J=0;J<H;J++)ue[J]=arguments[J+2];z.children=ue}if(b&&b.defaultProps)for(_ in H=b.defaultProps,H)z[_]===void 0&&(z[_]=H[_]);return Y(b,V,void 0,void 0,null,z)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(b){return{$$typeof:a,render:b}},xe.isValidElement=G,xe.lazy=function(b){return{$$typeof:p,_payload:{_status:-1,_result:b},_init:T}},xe.memo=function(b,x){return{$$typeof:h,type:b,compare:x===void 0?null:x}},xe.startTransition=function(b){var x=N.T,y={};N.T=y;try{var _=b(),z=N.S;z!==null&&z(y,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(M,O)}catch(V){O(V)}finally{N.T=x}},xe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},xe.use=function(b){return N.H.use(b)},xe.useActionState=function(b,x,y){return N.H.useActionState(b,x,y)},xe.useCallback=function(b,x){return N.H.useCallback(b,x)},xe.useContext=function(b){return N.H.useContext(b)},xe.useDebugValue=function(){},xe.useDeferredValue=function(b,x){return N.H.useDeferredValue(b,x)},xe.useEffect=function(b,x,y){var _=N.H;if(typeof y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _.useEffect(b,x)},xe.useId=function(){return N.H.useId()},xe.useImperativeHandle=function(b,x,y){return N.H.useImperativeHandle(b,x,y)},xe.useInsertionEffect=function(b,x){return N.H.useInsertionEffect(b,x)},xe.useLayoutEffect=function(b,x){return N.H.useLayoutEffect(b,x)},xe.useMemo=function(b,x){return N.H.useMemo(b,x)},xe.useOptimistic=function(b,x){return N.H.useOptimistic(b,x)},xe.useReducer=function(b,x,y){return N.H.useReducer(b,x,y)},xe.useRef=function(b){return N.H.useRef(b)},xe.useState=function(b){return N.H.useState(b)},xe.useSyncExternalStore=function(b,x,y){return N.H.useSyncExternalStore(b,x,y)},xe.useTransition=function(){return N.H.useTransition()},xe.version="19.1.0",xe}var Jf;function km(){return Jf||(Jf=1,ha.exports=Mm()),ha.exports}km();const Um="0.0.67";function Dh(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fm}=Object.prototype,{getPrototypeOf:pu}=Object,{iterator:cs,toStringTag:Hh}=Symbol,us=(e=>t=>{const n=Fm.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ln=e=>(e=e.toLowerCase(),t=>us(t)===e),fs=e=>t=>typeof t===e,{isArray:mo}=Array,ro=fs("undefined");function Yo(e){return e!==null&&!ro(e)&&e.constructor!==null&&!ro(e.constructor)&&zt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qh=ln("ArrayBuffer");function Nm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qh(e.buffer),t}const jm=fs("string"),zt=fs("function"),Gh=fs("number"),Qo=e=>e!==null&&typeof e=="object",Lm=e=>e===!0||e===!1,Mi=e=>{if(us(e)!=="object")return!1;const t=pu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Hh in e)&&!(cs in e)},zm=e=>{if(!Qo(e)||Yo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Dm=ln("Date"),Hm=ln("File"),qm=ln("Blob"),Gm=ln("FileList"),Vm=e=>Qo(e)&&zt(e.pipe),Km=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||zt(e.append)&&((t=us(e))==="formdata"||t==="object"&&zt(e.toString)&&e.toString()==="[object FormData]"))},Wm=ln("URLSearchParams"),[Zm,Jm,Xm,Ym]=["ReadableStream","Request","Response","Headers"].map(ln),Qm=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ei(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),mo(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(Yo(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let a;for(r=0;r<s;r++)a=i[r],t.call(null,e[a],a,e)}}function Vh(e,t){if(Yo(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Kh=e=>!ro(e)&&e!==pr;function sc(){const{caseless:e,skipUndefined:t}=Kh(this)&&this||{},n={},r=(o,i)=>{const s=e&&Vh(n,i)||i;Mi(n[s])&&Mi(o)?n[s]=sc(n[s],o):Mi(o)?n[s]=sc({},o):mo(o)?n[s]=o.slice():(!t||!ro(o))&&(n[s]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&ei(arguments[o],r);return n}const eg=(e,t,n,{allOwnKeys:r}={})=>(ei(t,(o,i)=>{n&&zt(o)?e[i]=Dh(o,n):e[i]=o},{allOwnKeys:r}),e),tg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ng=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},rg=(e,t,n,r)=>{let o,i,s;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&pu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},og=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ig=e=>{if(!e)return null;if(mo(e))return e;let t=e.length;if(!Gh(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},sg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pu(Uint8Array)),ag=(e,t)=>{const r=(e&&e[cs]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},cg=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ug=ln("HTMLFormElement"),fg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Xf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),lg=ln("RegExp"),Wh=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ei(n,(o,i)=>{let s;(s=t(o,i,e))!==!1&&(r[i]=s||o)}),Object.defineProperties(e,r)},hg=e=>{Wh(e,(t,n)=>{if(zt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(zt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},dg=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return mo(e)?r(e):r(String(e).split(t)),n},pg=()=>{},yg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function mg(e){return!!(e&&zt(e.append)&&e[Hh]==="FormData"&&e[cs])}const gg=e=>{const t=new Array(10),n=(r,o)=>{if(Qo(r)){if(t.indexOf(r)>=0)return;if(Yo(r))return r;if(!("toJSON"in r)){t[o]=r;const i=mo(r)?[]:{};return ei(r,(s,a)=>{const l=n(s,o+1);!ro(l)&&(i[a]=l)}),t[o]=void 0,i}}return r};return n(e,0)},wg=ln("AsyncFunction"),bg=e=>e&&(Qo(e)||zt(e))&&zt(e.then)&&zt(e.catch),Zh=((e,t)=>e?setImmediate:t?((n,r)=>(pr.addEventListener("message",({source:o,data:i})=>{o===pr&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),pr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",zt(pr.postMessage)),vg=typeof queueMicrotask<"u"?queueMicrotask.bind(pr):typeof process<"u"&&process.nextTick||Zh,xg=e=>e!=null&&zt(e[cs]),q={isArray:mo,isArrayBuffer:qh,isBuffer:Yo,isFormData:Km,isArrayBufferView:Nm,isString:jm,isNumber:Gh,isBoolean:Lm,isObject:Qo,isPlainObject:Mi,isEmptyObject:zm,isReadableStream:Zm,isRequest:Jm,isResponse:Xm,isHeaders:Ym,isUndefined:ro,isDate:Dm,isFile:Hm,isBlob:qm,isRegExp:lg,isFunction:zt,isStream:Vm,isURLSearchParams:Wm,isTypedArray:sg,isFileList:Gm,forEach:ei,merge:sc,extend:eg,trim:Qm,stripBOM:tg,inherits:ng,toFlatObject:rg,kindOf:us,kindOfTest:ln,endsWith:og,toArray:ig,forEachEntry:ag,matchAll:cg,isHTMLForm:ug,hasOwnProperty:Xf,hasOwnProp:Xf,reduceDescriptors:Wh,freezeMethods:hg,toObjectSet:dg,toCamelCase:fg,noop:pg,toFiniteNumber:yg,findKey:Vh,global:pr,isContextDefined:Kh,isSpecCompliantForm:mg,toJSONObject:gg,isAsyncFn:wg,isThenable:bg,setImmediate:Zh,asap:vg,isIterable:xg};function be(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}q.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Jh=be.prototype,Xh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Xh[e]={value:e}});Object.defineProperties(be,Xh);Object.defineProperty(Jh,"isAxiosError",{value:!0});be.from=(e,t,n,r,o,i)=>{const s=Object.create(Jh);q.toFlatObject(e,s,function(p){return p!==Error.prototype},h=>h!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return be.call(s,a,l,n,r,o),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const Eg=null;function ac(e){return q.isPlainObject(e)||q.isArray(e)}function Yh(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function Yf(e,t,n){return e?e.concat(t).map(function(o,i){return o=Yh(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function Sg(e){return q.isArray(e)&&!e.some(ac)}const Ag=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function ls(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,P){return!q.isUndefined(P[I])});const r=n.metaTokens,o=n.visitor||p,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(o))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(q.isDate(S))return S.toISOString();if(q.isBoolean(S))return S.toString();if(!l&&q.isBlob(S))throw new be("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(S)||q.isTypedArray(S)?l&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,I,P){let R=S;if(S&&!P&&typeof S=="object"){if(q.endsWith(I,"{}"))I=r?I:I.slice(0,-2),S=JSON.stringify(S);else if(q.isArray(S)&&Sg(S)||(q.isFileList(S)||q.endsWith(I,"[]"))&&(R=q.toArray(S)))return I=Yh(I),R.forEach(function(k,j){!(q.isUndefined(k)||k===null)&&t.append(s===!0?Yf([I],j,i):s===null?I:I+"[]",h(k))}),!1}return ac(S)?!0:(t.append(Yf(P,I,i),h(S)),!1)}const m=[],g=Object.assign(Ag,{defaultVisitor:p,convertValue:h,isVisitable:ac});function w(S,I){if(!q.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+I.join("."));m.push(S),q.forEach(S,function(R,U){(!(q.isUndefined(R)||R===null)&&o.call(t,R,q.isString(U)?U.trim():U,I,g))===!0&&w(R,I?I.concat(U):[U])}),m.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return w(e),t}function Qf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function yu(e,t){this._pairs=[],e&&ls(e,this,t)}const Qh=yu.prototype;Qh.append=function(t,n){this._pairs.push([t,n])};Qh.toString=function(t){const n=t?function(r){return t.call(this,r,Qf)}:Qf;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Bg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ed(e,t,n){if(!t)return e;const r=n&&n.encode||Bg;q.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=q.isURLSearchParams(t)?t.toString():new yu(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class el{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(r){r!==null&&t(r)})}}const td={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_g=typeof URLSearchParams<"u"?URLSearchParams:yu,Ig=typeof FormData<"u"?FormData:null,$g=typeof Blob<"u"?Blob:null,Tg={isBrowser:!0,classes:{URLSearchParams:_g,FormData:Ig,Blob:$g},protocols:["http","https","file","blob","url","data"]},mu=typeof window<"u"&&typeof document<"u",cc=typeof navigator=="object"&&navigator||void 0,Pg=mu&&(!cc||["ReactNative","NativeScript","NS"].indexOf(cc.product)<0),Og=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rg=mu&&window.location.href||"http://localhost",Cg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mu,hasStandardBrowserEnv:Pg,hasStandardBrowserWebWorkerEnv:Og,navigator:cc,origin:Rg},Symbol.toStringTag,{value:"Module"})),Ct={...Cg,...Tg};function Mg(e,t){return ls(e,new Ct.classes.URLSearchParams,{visitor:function(n,r,o,i){return Ct.isNode&&q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function kg(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ug(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function nd(e){function t(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&q.isArray(o)?o.length:s,l?(q.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!q.isObject(o[s]))&&(o[s]=[]),t(n,r,o[s],i)&&q.isArray(o[s])&&(o[s]=Ug(o[s])),!a)}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,(r,o)=>{t(kg(r),o,n,0)}),n}return null}function Fg(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ti={transitional:td,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=q.isObject(t);if(i&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return o?JSON.stringify(nd(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t)||q.isReadableStream(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Mg(t,this.formSerializer).toString();if((a=q.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ls(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),Fg(t)):t}],transformResponse:[function(t){const n=this.transitional||ti.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(q.isResponse(t)||q.isReadableStream(t))return t;if(t&&q.isString(t)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?be.from(a,be.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{ti.headers[e]={}});const Ng=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jg=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||t[n]&&Ng[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},tl=Symbol("internals");function Io(e){return e&&String(e).trim().toLowerCase()}function ki(e){return e===!1||e==null?e:q.isArray(e)?e.map(ki):String(e)}function Lg(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const zg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function da(e,t,n,r,o){if(q.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!q.isString(t)){if(q.isString(r))return t.indexOf(r)!==-1;if(q.isRegExp(r))return r.test(t)}}function Dg(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Hg(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,s){return this[r].call(this,t,o,i,s)},configurable:!0})})}let Dt=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(a,l,h){const p=Io(l);if(!p)throw new Error("header name must be a non-empty string");const m=q.findKey(o,p);(!m||o[m]===void 0||h===!0||h===void 0&&o[m]!==!1)&&(o[m||l]=ki(a))}const s=(a,l)=>q.forEach(a,(h,p)=>i(h,p,l));if(q.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(q.isString(t)&&(t=t.trim())&&!zg(t))s(jg(t),n);else if(q.isObject(t)&&q.isIterable(t)){let a={},l,h;for(const p of t){if(!q.isArray(p))throw TypeError("Object iterator must return a key-value pair");a[h=p[0]]=(l=a[h])?q.isArray(l)?[...l,p[1]]:[l,p[1]]:p[1]}s(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Io(t),t){const r=q.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return Lg(o);if(q.isFunction(n))return n.call(this,o,r);if(q.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Io(t),t){const r=q.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||da(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(s){if(s=Io(s),s){const a=q.findKey(r,s);a&&(!n||da(r,r[a],a,n))&&(delete r[a],o=!0)}}return q.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||da(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return q.forEach(this,(o,i)=>{const s=q.findKey(r,i);if(s){n[s]=ki(o),delete n[i];return}const a=t?Dg(i):String(i).trim();a!==i&&delete n[i],n[a]=ki(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return q.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[tl]=this[tl]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=Io(s);r[a]||(Hg(o,s),r[a]=!0)}return q.isArray(t)?t.forEach(i):i(t),this}};Dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(Dt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});q.freezeMethods(Dt);function pa(e,t){const n=this||ti,r=t||n,o=Dt.from(r.headers);let i=r.data;return q.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function rd(e){return!!(e&&e.__CANCEL__)}function go(e,t,n){be.call(this,e??"canceled",be.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(go,be,{__CANCEL__:!0});function od(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new be("Request failed with status code "+n.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Gg(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,s;return t=t!==void 0?t:1e3,function(l){const h=Date.now(),p=r[i];s||(s=h),n[o]=l,r[o]=h;let m=i,g=0;for(;m!==o;)g+=n[m++],m=m%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),h-s<t)return;const w=p&&h-p;return w?Math.round(g*1e3/w):void 0}}function Vg(e,t){let n=0,r=1e3/t,o,i;const s=(h,p=Date.now())=>{n=p,o=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=r?s(h,p):(o=h,i||(i=setTimeout(()=>{i=null,s(o)},r-m)))},()=>o&&s(o)]}const ji=(e,t,n=3)=>{let r=0;const o=Gg(50,250);return Vg(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,l=s-r,h=o(l),p=s<=a;r=s;const m={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:h||void 0,estimated:h&&a&&p?(a-s)/h:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(m)},n)},nl=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},rl=e=>(...t)=>q.asap(()=>e(...t)),Kg=Ct.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ct.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ct.origin),Ct.navigator&&/(msie|trident)/i.test(Ct.navigator.userAgent)):()=>!0,Wg=Ct.hasStandardBrowserEnv?{write(e,t,n,r,o,i,s){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];q.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),q.isString(r)&&a.push(`path=${r}`),q.isString(o)&&a.push(`domain=${o}`),i===!0&&a.push("secure"),q.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Zg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Jg(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function id(e,t,n){let r=!Zg(t);return e&&(r||n==!1)?Jg(e,t):t}const ol=e=>e instanceof Dt?{...e}:e;function Ar(e,t){t=t||{};const n={};function r(h,p,m,g){return q.isPlainObject(h)&&q.isPlainObject(p)?q.merge.call({caseless:g},h,p):q.isPlainObject(p)?q.merge({},p):q.isArray(p)?p.slice():p}function o(h,p,m,g){if(q.isUndefined(p)){if(!q.isUndefined(h))return r(void 0,h,m,g)}else return r(h,p,m,g)}function i(h,p){if(!q.isUndefined(p))return r(void 0,p)}function s(h,p){if(q.isUndefined(p)){if(!q.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function a(h,p,m){if(m in t)return r(h,p);if(m in e)return r(void 0,h)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(h,p,m)=>o(ol(h),ol(p),m,!0)};return q.forEach(Object.keys({...e,...t}),function(p){const m=l[p]||o,g=m(e[p],t[p],p);q.isUndefined(g)&&m!==a||(n[p]=g)}),n}const sd=e=>{const t=Ar({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=t;if(t.headers=s=Dt.from(s),t.url=ed(id(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),q.isFormData(n)){if(Ct.hasStandardBrowserEnv||Ct.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(q.isFunction(n.getHeaders)){const l=n.getHeaders(),h=["content-type","content-length"];Object.entries(l).forEach(([p,m])=>{h.includes(p.toLowerCase())&&s.set(p,m)})}}if(Ct.hasStandardBrowserEnv&&(r&&q.isFunction(r)&&(r=r(t)),r||r!==!1&&Kg(t.url))){const l=o&&i&&Wg.read(i);l&&s.set(o,l)}return t},Xg=typeof XMLHttpRequest<"u",Yg=Xg&&function(e){return new Promise(function(n,r){const o=sd(e);let i=o.data;const s=Dt.from(o.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:h}=o,p,m,g,w,S;function I(){w&&w(),S&&S(),o.cancelToken&&o.cancelToken.unsubscribe(p),o.signal&&o.signal.removeEventListener("abort",p)}let P=new XMLHttpRequest;P.open(o.method.toUpperCase(),o.url,!0),P.timeout=o.timeout;function R(){if(!P)return;const k=Dt.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:k,config:e,request:P};od(function(Y){n(Y),I()},function(Y){r(Y),I()},N),P=null}"onloadend"in P?P.onloadend=R:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(R)},P.onabort=function(){P&&(r(new be("Request aborted",be.ECONNABORTED,e,P)),P=null)},P.onerror=function(j){const N=j&&j.message?j.message:"Network Error",Z=new be(N,be.ERR_NETWORK,e,P);Z.event=j||null,r(Z),P=null},P.ontimeout=function(){let j=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const N=o.transitional||td;o.timeoutErrorMessage&&(j=o.timeoutErrorMessage),r(new be(j,N.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,e,P)),P=null},i===void 0&&s.setContentType(null),"setRequestHeader"in P&&q.forEach(s.toJSON(),function(j,N){P.setRequestHeader(N,j)}),q.isUndefined(o.withCredentials)||(P.withCredentials=!!o.withCredentials),a&&a!=="json"&&(P.responseType=o.responseType),h&&([g,S]=ji(h,!0),P.addEventListener("progress",g)),l&&P.upload&&([m,w]=ji(l),P.upload.addEventListener("progress",m),P.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(p=k=>{P&&(r(!k||k.type?new go(null,e,P):k),P.abort(),P=null)},o.cancelToken&&o.cancelToken.subscribe(p),o.signal&&(o.signal.aborted?p():o.signal.addEventListener("abort",p)));const U=qg(o.url);if(U&&Ct.protocols.indexOf(U)===-1){r(new be("Unsupported protocol "+U+":",be.ERR_BAD_REQUEST,e));return}P.send(i||null)})},Qg=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(h){if(!o){o=!0,a();const p=h instanceof Error?h:this.reason;r.abort(p instanceof be?p:new go(p instanceof Error?p.message:p))}};let s=t&&setTimeout(()=>{s=null,i(new be(`timeout ${t} of ms exceeded`,be.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>q.asap(a),l}},ew=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},tw=async function*(e,t){for await(const n of nw(e))yield*ew(n,t)},nw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},il=(e,t,n,r)=>{const o=tw(e,t);let i=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:h,value:p}=await o.next();if(h){a(),l.close();return}let m=p.byteLength;if(n){let g=i+=m;n(g)}l.enqueue(new Uint8Array(p))}catch(h){throw a(h),h}},cancel(l){return a(l),o.return()}},{highWaterMark:2})},sl=64*1024,{isFunction:bi}=q,rw=(({Request:e,Response:t})=>({Request:e,Response:t}))(q.global),{ReadableStream:al,TextEncoder:cl}=q.global,ul=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ow=e=>{e=q.merge.call({skipUndefined:!0},rw,e);const{fetch:t,Request:n,Response:r}=e,o=t?bi(t):typeof fetch=="function",i=bi(n),s=bi(r);if(!o)return!1;const a=o&&bi(al),l=o&&(typeof cl=="function"?(S=>I=>S.encode(I))(new cl):async S=>new Uint8Array(await new n(S).arrayBuffer())),h=i&&a&&ul(()=>{let S=!1;const I=new n(Ct.origin,{body:new al,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!I}),p=s&&a&&ul(()=>q.isReadableStream(new r("").body)),m={stream:p&&(S=>S.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!m[S]&&(m[S]=(I,P)=>{let R=I&&I[S];if(R)return R.call(I);throw new be(`Response type '${S}' is not supported`,be.ERR_NOT_SUPPORT,P)})});const g=async S=>{if(S==null)return 0;if(q.isBlob(S))return S.size;if(q.isSpecCompliantForm(S))return(await new n(Ct.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(q.isArrayBufferView(S)||q.isArrayBuffer(S))return S.byteLength;if(q.isURLSearchParams(S)&&(S=S+""),q.isString(S))return(await l(S)).byteLength},w=async(S,I)=>{const P=q.toFiniteNumber(S.getContentLength());return P??g(I)};return async S=>{let{url:I,method:P,data:R,signal:U,cancelToken:k,timeout:j,onDownloadProgress:N,onUploadProgress:Z,responseType:Y,headers:ne,withCredentials:G="same-origin",fetchOptions:Q}=sd(S),K=t||fetch;Y=Y?(Y+"").toLowerCase():"text";let X=Qg([U,k&&k.toAbortSignal()],j),B=null;const d=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let v;try{if(Z&&h&&P!=="get"&&P!=="head"&&(v=await w(ne,R))!==0){let x=new n(I,{method:"POST",body:R,duplex:"half"}),y;if(q.isFormData(R)&&(y=x.headers.get("content-type"))&&ne.setContentType(y),x.body){const[_,z]=nl(v,ji(rl(Z)));R=il(x.body,sl,_,z)}}q.isString(G)||(G=G?"include":"omit");const A=i&&"credentials"in n.prototype,T={...Q,signal:X,method:P.toUpperCase(),headers:ne.normalize().toJSON(),body:R,duplex:"half",credentials:A?G:void 0};B=i&&new n(I,T);let O=await(i?K(B,Q):K(I,T));const M=p&&(Y==="stream"||Y==="response");if(p&&(N||M&&d)){const x={};["status","statusText","headers"].forEach(V=>{x[V]=O[V]});const y=q.toFiniteNumber(O.headers.get("content-length")),[_,z]=N&&nl(y,ji(rl(N),!0))||[];O=new r(il(O.body,sl,_,()=>{z&&z(),d&&d()}),x)}Y=Y||"text";let b=await m[q.findKey(m,Y)||"text"](O,S);return!M&&d&&d(),await new Promise((x,y)=>{od(x,y,{data:b,headers:Dt.from(O.headers),status:O.status,statusText:O.statusText,config:S,request:B})})}catch(A){throw d&&d(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,S,B),{cause:A.cause||A}):be.from(A,A&&A.code,S,B)}}},iw=new Map,ad=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:o}=t,i=[r,o,n];let s=i.length,a=s,l,h,p=iw;for(;a--;)l=i[a],h=p.get(l),h===void 0&&p.set(l,h=a?new Map:ow(t)),p=h;return h};ad();const gu={http:Eg,xhr:Yg,fetch:{get:ad}};q.forEach(gu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const fl=e=>`- ${e}`,sw=e=>q.isFunction(e)||e===null||e===!1;function aw(e,t){e=q.isArray(e)?e:[e];const{length:n}=e;let r,o;const i={};for(let s=0;s<n;s++){r=e[s];let a;if(o=r,!sw(r)&&(o=gu[(a=String(r)).toLowerCase()],o===void 0))throw new be(`Unknown adapter '${a}'`);if(o&&(q.isFunction(o)||(o=o.get(t))))break;i[a||"#"+s]=o}if(!o){const s=Object.entries(i).map(([l,h])=>`adapter ${l} `+(h===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(fl).join(`
`):" "+fl(s[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return o}const cd={getAdapter:aw,adapters:gu};function ya(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new go(null,e)}function ll(e){return ya(e),e.headers=Dt.from(e.headers),e.data=pa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cd.getAdapter(e.adapter||ti.adapter,e)(e).then(function(r){return ya(e),r.data=pa.call(e,e.transformResponse,r),r.headers=Dt.from(r.headers),r},function(r){return rd(r)||(ya(e),r&&r.response&&(r.response.data=pa.call(e,e.transformResponse,r.response),r.response.headers=Dt.from(r.response.headers))),Promise.reject(r)})}const ud="1.13.2",hs={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hs[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const hl={};hs.transitional=function(t,n,r){function o(i,s){return"[Axios v"+ud+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(t===!1)throw new be(o(s," has been removed"+(n?" in "+n:"")),be.ERR_DEPRECATED);return n&&!hl[s]&&(hl[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,a):!0}};hs.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function cw(e,t,n){if(typeof e!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const a=e[i],l=a===void 0||s(a,i,e);if(l!==!0)throw new be("option "+i+" must be "+l,be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new be("Unknown option "+i,be.ERR_BAD_OPTION)}}const Ui={assertOptions:cw,validators:hs},pn=Ui.validators;let br=class{constructor(t){this.defaults=t||{},this.interceptors={request:new el,response:new el}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ar(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Ui.assertOptions(r,{silentJSONParsing:pn.transitional(pn.boolean),forcedJSONParsing:pn.transitional(pn.boolean),clarifyTimeoutError:pn.transitional(pn.boolean)},!1),o!=null&&(q.isFunction(o)?n.paramsSerializer={serialize:o}:Ui.assertOptions(o,{encode:pn.function,serialize:pn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ui.assertOptions(n,{baseUrl:pn.spelling("baseURL"),withXsrfToken:pn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&q.merge(i.common,i[n.method]);i&&q.forEach(["delete","get","head","post","put","patch","common"],S=>{delete i[S]}),n.headers=Dt.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(n)===!1||(l=l&&I.synchronous,a.unshift(I.fulfilled,I.rejected))});const h=[];this.interceptors.response.forEach(function(I){h.push(I.fulfilled,I.rejected)});let p,m=0,g;if(!l){const S=[ll.bind(this),void 0];for(S.unshift(...a),S.push(...h),g=S.length,p=Promise.resolve(n);m<g;)p=p.then(S[m++],S[m++]);return p}g=a.length;let w=n;for(;m<g;){const S=a[m++],I=a[m++];try{w=S(w)}catch(P){I.call(this,P);break}}try{p=ll.call(this,w)}catch(S){return Promise.reject(S)}for(m=0,g=h.length;m<g;)p=p.then(h[m++],h[m++]);return p}getUri(t){t=Ar(this.defaults,t);const n=id(t.baseURL,t.url,t.allowAbsoluteUrls);return ed(n,t.params,t.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(t){br.prototype[t]=function(n,r){return this.request(Ar(r||{},{method:t,url:n,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,a){return this.request(Ar(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}br.prototype[t]=n(),br.prototype[t+"Form"]=n(!0)});let uw=class fd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,a){r.reason||(r.reason=new go(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new fd(function(o){t=o}),cancel:t}}};function fw(e){return function(n){return e.apply(null,n)}}function lw(e){return q.isObject(e)&&e.isAxiosError===!0}const uc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(uc).forEach(([e,t])=>{uc[t]=e});function ld(e){const t=new br(e),n=Dh(br.prototype.request,t);return q.extend(n,br.prototype,t,{allOwnKeys:!0}),q.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return ld(Ar(e,o))},n}const Ve=ld(ti);Ve.Axios=br;Ve.CanceledError=go;Ve.CancelToken=uw;Ve.isCancel=rd;Ve.VERSION=ud;Ve.toFormData=ls;Ve.AxiosError=be;Ve.Cancel=Ve.CanceledError;Ve.all=function(t){return Promise.all(t)};Ve.spread=fw;Ve.isAxiosError=lw;Ve.mergeConfig=Ar;Ve.AxiosHeaders=Dt;Ve.formToJSON=e=>nd(q.isHTMLForm(e)?new FormData(e):e);Ve.getAdapter=cd.getAdapter;Ve.HttpStatusCode=uc;Ve.default=Ve;const{Axios:N4,AxiosError:j4,CanceledError:L4,isCancel:z4,CancelToken:D4,VERSION:H4,all:q4,Cancel:G4,isAxiosError:V4,spread:K4,toFormData:W4,AxiosHeaders:Z4,HttpStatusCode:J4,formToJSON:X4,getAdapter:Y4,mergeConfig:Q4}=Ve,$o="https://docs.cdp.coinbase.com/api-v2/docs/errors",fr={unexpected_error:"unexpected_error",unauthorized:"unauthorized",not_found:"not_found",bad_gateway:"bad_gateway",service_unavailable:"service_unavailable",unknown:"unknown"};let Xn=class extends Error{constructor(n,r,o,i,s,a){super(o,{cause:a});Be(this,"statusCode");Be(this,"errorType");Be(this,"errorMessage");Be(this,"correlationId");Be(this,"errorLink");this.name="APIError",this.statusCode=n,this.errorType=r,this.errorMessage=o,i!==void 0&&(this.correlationId=i),s!==void 0&&(this.errorLink=s)}toJSON(){return{name:this.name,statusCode:this.statusCode,errorType:this.errorType,errorMessage:this.errorMessage,...this.correlationId&&{correlationId:this.correlationId},...this.errorLink&&{errorLink:this.errorLink}}}},hw=class extends Xn{constructor(t,n,r){super(0,t,n,void 0,void 0,r),this.name="UnknownApiError"}},dw=class extends Error{constructor(t,n){super(t,{cause:n}),this.name="UnknownError"}};function pw(e){return e!==null&&typeof e=="object"&&"errorType"in e&&typeof e.errorType=="string"&&"errorMessage"in e&&typeof e.errorMessage=="string"}const dl=()=>typeof window<"u"&&typeof document<"u";let Yt=Ve.create({baseURL:"https://api.cdp.coinbase.com/platform"}),lr=null;const yw=e=>{Yt=Ve.create({baseURL:e.basePath||"https://api.cdp.coinbase.com/platform",withCredentials:dl()}),Yt.interceptors.request.use(async t=>{const n=Ew(t),r=pl(t);if(!lr||yl(r.pathname)||ml(r.pathname)&&!await lr.isSignedIn()||!Sw(r.pathname))return t;const o=await lr.getXWalletAuth({requestMethod:n,requestHost:r.host,requestPath:r.pathname,requestData:t.data});return o&&(t.headers["X-Wallet-Auth"]=o),t}),Yt.interceptors.request.use(async t=>{const n=pl(t);if(!lr||yl(n.pathname)||ml(n.pathname)&&!await lr.isSignedIn())return t;const r=await lr.getToken();return r&&r!==""&&(t.headers.Authorization=`Bearer ${r}`),t}),dl()||Yt.interceptors.request.use(async t=>{let n=t.headers["User-Agent"];return n=n?`${n} CDP/reactnative`:"CDP/reactnative",t.headers["User-Agent"]=n,t}),e.refreshTokenStorage&&gw(e.refreshTokenStorage),e.debugging&&(Yt.interceptors.request.use(t=>(console.log("Request:",t),t)),Yt.interceptors.response.use(t=>(console.log("Response:",t),t)))},mw=e=>{lr=e},Ne=async(e,t)=>{xw(e);try{return(await Yt(e)).data}catch(n){if(Ve.isAxiosError(n)&&!n.response)throw new hw(fr.unknown,n.cause instanceof Error?n.cause.message:n.message,n.cause);if(Ve.isAxiosError(n)&&n.response){if(pw(n.response.data))throw new Xn(n.response.status,n.response.data.errorType,n.response.data.errorMessage,n.response.data.correlationId,n.response.data.errorLink,n.cause);{const r=n.response.status;switch(r){case 401:throw new Xn(r,fr.unauthorized,"Unauthorized.",void 0,`${$o}#unauthorized`,n.cause);case 404:throw new Xn(r,fr.not_found,"API not found.",void 0,`${$o}#not_found`,n.cause);case 502:throw new Xn(r,fr.bad_gateway,"Bad gateway.",void 0,`${$o}`,n.cause);case 503:throw new Xn(r,fr.service_unavailable,"Service unavailable. Please try again later.",void 0,`${$o}`,n.cause);default:{let o="";if(n.response.data)try{o=JSON.stringify(n.response.data)}catch{o=String(n.response.data)}const i=o?`An unexpected error occurred: ${o}`:"An unexpected error occurred.";throw new Xn(r,fr.unexpected_error,i,void 0,`${$o}`,n.cause)}}}}throw new dw("Something went wrong. Please reach out at https://discord.com/channels/1220414409550336183/1271495764580896789 for help.",n instanceof Error?n:void 0)}},gw=e=>{Yt.interceptors.response.use(async t=>{var n;try{if(vw(t)){const r=(n=t.data)==null?void 0:n.refreshToken;r&&await e.setRefreshToken(r)}}catch(r){console.warn("Failed to store refresh token:",r)}return t},t=>Promise.reject(t)),Yt.interceptors.request.use(async t=>{try{if(bw(t.url)){const n=await e.getRefreshToken();n&&(t.data={...t.data,refreshToken:n})}ww(t.url)&&await e.removeRefreshToken()}catch(n){console.warn("Failed to retrieve refresh token:",n)}return t})},ww=e=>e?/^\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/logout$/.test(e):!1,bw=e=>e?/^\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/(refresh|logout)$/.test(e):!1,vw=e=>{const t=e.config.url;return t?/^\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/(verify\/(email|sms|oauth\/.*)|refresh)$/.test(t):!1},xw=e=>{if(!Yt.getUri()||Yt.getUri()==="")throw new Error("CDP client URI not configured. Call configure() first.");if(!e.url||e.url==="")throw new Error("AxiosRequestConfig URL is empty. This should never happen.");if(!e.method||e.method==="")throw new Error("AxiosRequestConfig method is empty. This should never happen.")},Ew=e=>{var t;return((t=e.method)==null?void 0:t.toString().toUpperCase())||"GET"},pl=e=>{if(!e.url)throw new Error("URL is required for authentication");const t=Yt.getUri()+e.url;return new URL(t)},yl=e=>/^\/platform\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/(refresh|logout)$/.test(e),Sw=e=>!/^\/platform\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/custom\/authenticate$/.test(e),ml=e=>{const t=/^\/platform\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/(init)$/,n=/^\/platform\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/verify\//;return t.test(e)||n.test(e)},wo=(e,t,n)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/auth/init`,method:"POST",headers:{"Content-Type":"application/json"},data:t}),Aw=(e,t,n)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/auth/verify/email`,method:"POST",headers:{"Content-Type":"application/json"},data:t}),Bw=(e,t,n)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/auth/verify/sms`,method:"POST",headers:{"Content-Type":"application/json"},data:t}),_w=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/auth/verify/oauth/${t}`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Iw=(e,t,n)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/auth/refresh`,method:"POST",headers:{"Content-Type":"application/json"},data:t}),$w=(e,t,n)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/auth/logout`,method:"POST",headers:{"Content-Type":"application/json"},data:t}),Tw=(e,t)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/auth/custom/authenticate`,method:"POST"}),Pw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/wallet-secrets`,method:"PUT",headers:{"Content-Type":"application/json"},data:n}),hd=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Ow=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/sign`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Rw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/sign/transaction`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Cw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/send/transaction`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Mw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/sign/message`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),kw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/sign/typed-data`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Uw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/export`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),fc=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Fw=(e,t,n,r,o)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${n}/user-operations/${r}`,method:"GET"}),Nw=(e,t,n,r,o)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${n}/send`,method:"POST",headers:{"Content-Type":"application/json"},data:r}),jw=(e,t,n,r,o)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${n}/spend-permissions`,method:"POST",headers:{"Content-Type":"application/json"},data:r}),Lw=(e,t,n,r,o)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${n}/spend-permissions/list`,method:"GET",params:r}),zw=(e,t,n,r,o)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${n}/spend-permissions/revoke`,method:"POST",headers:{"Content-Type":"application/json"},data:r}),dd=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Dw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana/export`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Hw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana/sign/message`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),qw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana/sign/transaction`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Gw=(e,t,n,r)=>Ne({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana/send/transaction`,method:"POST",headers:{"Content-Type":"application/json"},data:n}),Vw={already_exists:"already_exists",bad_gateway:"bad_gateway",faucet_limit_exceeded:"faucet_limit_exceeded",forbidden:"forbidden",idempotency_error:"idempotency_error",internal_server_error:"internal_server_error",invalid_request:"invalid_request",invalid_sql_query:"invalid_sql_query",invalid_signature:"invalid_signature",malformed_transaction:"malformed_transaction",not_found:"not_found",payment_method_required:"payment_method_required",rate_limit_exceeded:"rate_limit_exceeded",request_canceled:"request_canceled",service_unavailable:"service_unavailable",timed_out:"timed_out",unauthorized:"unauthorized",policy_violation:"policy_violation",policy_in_use:"policy_in_use",account_limit_exceeded:"account_limit_exceeded",network_not_tradable:"network_not_tradable",guest_permission_denied:"guest_permission_denied",guest_region_forbidden:"guest_region_forbidden",guest_transaction_limit:"guest_transaction_limit",guest_transaction_count:"guest_transaction_count",phone_number_verification_expired:"phone_number_verification_expired",document_verification_failed:"document_verification_failed",recipient_allowlist_violation:"recipient_allowlist_violation",recipient_allowlist_pending:"recipient_allowlist_pending",travel_rules_recipient_violation:"travel_rules_recipient_violation"},Kw={google:"google",apple:"apple",x:"x"},pd={base:"base","base-sepolia":"base-sepolia",ethereum:"ethereum","ethereum-sepolia":"ethereum-sepolia",avalanche:"avalanche",polygon:"polygon",optimism:"optimism",arbitrum:"arbitrum"},Ww={solana:"solana","solana-devnet":"solana-devnet"};Jn.registerPackageVersion("api_client",Um);function Zw(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const gl=/^tuple(?<array>(\[(\d*)\])*)$/;function lc(e){let t=e.type;if(gl.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let o=0;o<n;o++){const i=e.components[o];t+=lc(i),o<n-1&&(t+=", ")}const r=Zw(gl,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,lc({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function To(e){let t="";const n=e.length;for(let r=0;r<n;r++){const o=e[r];t+=lc(o),r!==n-1&&(t+=", ")}return t}function Jw(e){var t;return e.type==="function"?`function ${e.name}(${To(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${To(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${To(e.inputs)})`:e.type==="error"?`error ${e.name}(${To(e.inputs)})`:e.type==="constructor"?`constructor(${To(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}function ke(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const o=e[n];return typeof o=="function"?o:i=>t(e,i)}function oo(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new s1(e.type);return`${e.name}(${wu(e.inputs,{includeName:t})})`}function wu(e,{includeName:t=!1}={}){return e?e.map(n=>Xw(n,{includeName:t})).join(t?", ":","):""}function Xw(e,{includeName:t}){return e.type.startsWith("tuple")?`(${wu(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function nr(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Qe(e){return nr(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const yd="2.39.3";let Po={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${yd}`};class ee extends Error{constructor(t,n={}){var a;const r=(()=>{var l;return n.cause instanceof ee?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),o=n.cause instanceof ee&&n.cause.docsPath||n.docsPath,i=(a=Po.getDocsUrl)==null?void 0:a.call(Po,{...n,docsPath:o}),s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Po.version?[`Version: ${Po.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=yd}walk(t){return md(this,t)}}function md(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?md(e.cause,t):t?null:e}class Yw extends ee{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class wl extends ee{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Qw extends ee{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${wu(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class bu extends ee{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class e1 extends ee{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class t1 extends ee{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Qe(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class gd extends ee{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class wd extends ee{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class bl extends ee{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class n1 extends ee{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${oo(t.abiItem)}\`, and`,`\`${n.type}\` in \`${oo(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class bd extends ee{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class r1 extends ee{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class o1 extends ee{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class i1 extends ee{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class s1 extends ee{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class a1 extends ee{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class vd extends ee{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class xd extends ee{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class vl extends ee{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function xn(e,{dir:t,size:n=32}={}){return typeof e=="string"?tr(e,{dir:t,size:n}):c1(e,{dir:t,size:n})}function tr(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new xd({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function c1(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new xd({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let o=0;o<n;o++){const i=t==="right";r[i?o:n-o-1]=e[i?o:e.length-o-1]}return r}class Ed extends ee{constructor({max:t,min:n,signed:r,size:o,value:i}){super(`Number "${i}" is not in safe ${o?`${o*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class u1 extends ee{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class f1 extends ee{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function ni(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let o=0;o<n.length-1&&n[t==="left"?o:n.length-o-1].toString()==="0";o++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function hn(e,{size:t}){if(Qe(e)>t)throw new f1({givenSize:Qe(e),maxSize:t})}function Fn(e,t={}){const{signed:n}=t;t.size&&hn(e,{size:t.size});const r=BigInt(e);if(!n)return r;const o=(e.length-2)/2,i=(1n<<BigInt(o)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function Nn(e,t={}){return Number(Fn(e,t))}function Sd(e,t={}){let n=cn(e);return t.size&&(hn(n,{size:t.size}),n=ni(n,{dir:"right"})),new TextDecoder().decode(n)}const l1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Br(e,t={}){return typeof e=="number"||typeof e=="bigint"?ve(e,t):typeof e=="string"?io(e,t):typeof e=="boolean"?vu(e,t):kt(e,t)}function vu(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(hn(n,{size:t.size}),xn(n,{size:t.size})):n}function kt(e,t={}){let n="";for(let o=0;o<e.length;o++)n+=l1[e[o]];const r=`0x${n}`;return typeof t.size=="number"?(hn(r,{size:t.size}),xn(r,{dir:"right",size:t.size})):r}function ve(e,t={}){const{signed:n,size:r}=t,o=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<s){const l=typeof e=="bigint"?"n":"";throw new Ed({max:i?`${i}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${e}${l}`})}const a=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?xn(a,{size:r}):a}const h1=new TextEncoder;function io(e,t={}){const n=h1.encode(e);return kt(n,t)}const d1=new TextEncoder;function xu(e,t={}){return typeof e=="number"||typeof e=="bigint"?y1(e,t):typeof e=="boolean"?p1(e,t):nr(e)?cn(e,t):Ad(e,t)}function p1(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(hn(n,{size:t.size}),xn(n,{size:t.size})):n}const $n={zero:48,nine:57,A:65,F:70,a:97,f:102};function xl(e){if(e>=$n.zero&&e<=$n.nine)return e-$n.zero;if(e>=$n.A&&e<=$n.F)return e-($n.A-10);if(e>=$n.a&&e<=$n.f)return e-($n.a-10)}function cn(e,t={}){let n=e;t.size&&(hn(n,{size:t.size}),n=xn(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,i=new Uint8Array(o);for(let s=0,a=0;s<o;s++){const l=xl(r.charCodeAt(a++)),h=xl(r.charCodeAt(a++));if(l===void 0||h===void 0)throw new ee(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[s]=l*16+h}return i}function y1(e,t){const n=ve(e,t);return cn(n)}function Ad(e,t={}){const n=d1.encode(e);return typeof t.size=="number"?(hn(n,{size:t.size}),xn(n,{dir:"right",size:t.size})):n}const vi=BigInt(2**32-1),El=BigInt(32);function m1(e,t=!1){return t?{h:Number(e&vi),l:Number(e>>El&vi)}:{h:Number(e>>El&vi)|0,l:Number(e&vi)|0}}function Bd(e,t=!1){const n=e.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let i=0;i<n;i++){const{h:s,l:a}=m1(e[i],t);[r[i],o[i]]=[s,a]}return[r,o]}const Sl=(e,t,n)=>e>>>n,Al=(e,t,n)=>e<<32-n|t>>>n,jr=(e,t,n)=>e>>>n|t<<32-n,Lr=(e,t,n)=>e<<32-n|t>>>n,xi=(e,t,n)=>e<<64-n|t>>>n-32,Ei=(e,t,n)=>e>>>n-32|t<<64-n,g1=(e,t,n)=>e<<n|t>>>32-n,w1=(e,t,n)=>t<<n|e>>>32-n,b1=(e,t,n)=>t<<n-32|e>>>64-n,v1=(e,t,n)=>e<<n-32|t>>>64-n;function Tn(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:o|0}}const x1=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),E1=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,S1=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),A1=(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,B1=(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0),_1=(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,zr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ri(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function jo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function jn(e,...t){if(!ri(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function _d(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");jo(e.outputLen),jo(e.blockLen)}function so(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Id(e,t){jn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function I1(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function rr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ma(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function yn(e,t){return e<<32-t|e>>>t}const $1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function T1(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function P1(e){for(let t=0;t<e.length;t++)e[t]=T1(e[t]);return e}const Bl=$1?e=>e:P1,$d=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",O1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vr(e){if(jn(e),$d)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=O1[e[n]];return t}const Pn={_0:48,_9:57,A:65,F:70,a:97,f:102};function _l(e){if(e>=Pn._0&&e<=Pn._9)return e-Pn._0;if(e>=Pn.A&&e<=Pn.F)return e-(Pn.A-10);if(e>=Pn.a&&e<=Pn.f)return e-(Pn.a-10)}function Li(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if($d)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const s=_l(e.charCodeAt(i)),a=_l(e.charCodeAt(i+1));if(s===void 0||a===void 0){const l=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[o]=s*16+a}return r}function R1(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ds(e){return typeof e=="string"&&(e=R1(e)),jn(e),e}function wn(...e){let t=0;for(let r=0;r<e.length;r++){const o=e[r];jn(o),t+=o.length}const n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){const i=e[r];n.set(i,o),o+=i.length}return n}class Eu{}function Su(e){const t=r=>e().update(ds(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Au(e=32){if(zr&&typeof zr.getRandomValues=="function")return zr.getRandomValues(new Uint8Array(e));if(zr&&typeof zr.randomBytes=="function")return Uint8Array.from(zr.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const C1=BigInt(0),Oo=BigInt(1),M1=BigInt(2),k1=BigInt(7),U1=BigInt(256),F1=BigInt(113),Td=[],Pd=[],Od=[];for(let e=0,t=Oo,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Td.push(2*(5*r+n)),Pd.push((e+1)*(e+2)/2%64);let o=C1;for(let i=0;i<7;i++)t=(t<<Oo^(t>>k1)*F1)%U1,t&M1&&(o^=Oo<<(Oo<<BigInt(i))-Oo);Od.push(o)}const Rd=Bd(Od,!0),N1=Rd[0],j1=Rd[1],Il=(e,t,n)=>n>32?b1(e,t,n):g1(e,t,n),$l=(e,t,n)=>n>32?v1(e,t,n):w1(e,t,n);function L1(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,h=n[l],p=n[l+1],m=Il(h,p,1)^n[a],g=$l(h,p,1)^n[a+1];for(let w=0;w<50;w+=10)e[s+w]^=m,e[s+w+1]^=g}let o=e[2],i=e[3];for(let s=0;s<24;s++){const a=Pd[s],l=Il(o,i,a),h=$l(o,i,a),p=Td[s];o=e[p],i=e[p+1],e[p]=l,e[p+1]=h}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=N1[r],e[1]^=j1[r]}rr(n)}class Bu extends Eu{constructor(t,n,r,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,jo(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=I1(this.state)}clone(){return this._cloneInto()}keccak(){Bl(this.state32),L1(this.state32,this.rounds),Bl(this.state32),this.posOut=0,this.pos=0}update(t){so(this),t=ds(t),jn(t);const{blockLen:n,state:r}=this,o=t.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);for(let a=0;a<s;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:o}=this;t[r]^=n,n&128&&r===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){so(this,!1),jn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=t.length;o<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-o);t.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return jo(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Id(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,rr(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return t||(t=new Bu(n,r,o,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=o,t.enableXOF=s,t.destroyed=this.destroyed,t}}const z1=(e,t,n)=>Su(()=>new Bu(t,e,n)),D1=z1(1,136,256/8);function Qt(e,t){const n=t||"hex",r=D1(nr(e,{strict:!1})?xu(e):e);return n==="bytes"?r:Br(r)}const H1=e=>Qt(xu(e));function q1(e){return H1(e)}function G1(e){let t=!0,n="",r=0,o="",i=!1;for(let s=0;s<e.length;s++){const a=e[s];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(o))o="";else if(o+=a,a===")"){i=!0;break}continue}if(a===" "){e[s-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}o+=a,n+=a}}if(!i)throw new ee("Unable to normalize signature.");return o}const V1=e=>{const t=typeof e=="string"?e:Jw(e);return G1(t)};function Cd(e){return q1(V1(e))}const K1=Cd;class Ln extends ee{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class ps extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const ga=new ps(8192);function oi(e,t){if(ga.has(`${e}.${t}`))return ga.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Qt(Ad(n),"bytes"),o=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&o[s]&&(o[s]=o[s].toUpperCase()),(r[s>>1]&15)>=8&&o[s+1]&&(o[s+1]=o[s+1].toUpperCase());const i=`0x${o.join("")}`;return ga.set(`${e}.${t}`,i),i}function W1(e,t){if(!qt(e,{strict:!1}))throw new Ln({address:e});return oi(e,t)}const Z1=/^0x[a-fA-F0-9]{40}$/,wa=new ps(8192);function qt(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(wa.has(r))return wa.get(r);const o=Z1.test(e)?e.toLowerCase()===e?!0:n?oi(e)===e:!0:!1;return wa.set(r,o),o}function Sn(e){return typeof e[0]=="string"?Pr(e):J1(e)}function J1(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}function Pr(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function zi(e,t,n,{strict:r}={}){return nr(e,{strict:!1})?Lo(e,t,n,{strict:r}):Ud(e,t,n,{strict:r})}function Md(e,t){if(typeof t=="number"&&t>0&&t>Qe(e)-1)throw new vd({offset:t,position:"start",size:Qe(e)})}function kd(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Qe(e)!==n-t)throw new vd({offset:n,position:"end",size:Qe(e)})}function Ud(e,t,n,{strict:r}={}){Md(e,t);const o=e.slice(t,n);return r&&kd(o,t,n),o}function Lo(e,t,n,{strict:r}={}){Md(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&kd(o,t,n),o}const X1=/^(.*)\[([0-9]*)\]$/,Fd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_u=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function bo(e,t){if(e.length!==t.length)throw new gd({expectedLength:e.length,givenLength:t.length});const n=Y1({params:e,values:t}),r=$u(n);return r.length===0?"0x":r}function Y1({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Iu({param:e[r],value:t[r]}));return n}function Iu({param:e,value:t}){const n=Tu(e.type);if(n){const[r,o]=n;return eb(t,{length:r,param:{...e,type:o}})}if(e.type==="tuple")return ib(t,{param:e});if(e.type==="address")return Q1(t);if(e.type==="bool")return nb(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,o="256"]=_u.exec(e.type)??[];return rb(t,{signed:r,size:Number(o)})}if(e.type.startsWith("bytes"))return tb(t,{param:e});if(e.type==="string")return ob(t);throw new r1(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function $u(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:a}=e[i];s?t+=32:t+=Qe(a)}const n=[],r=[];let o=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:a}=e[i];s?(n.push(ve(t+o,{size:32})),r.push(a),o+=Qe(a)):n.push(a)}return Sn([...n,...r])}function Q1(e){if(!qt(e))throw new Ln({address:e});return{dynamic:!1,encoded:tr(e.toLowerCase())}}function eb(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new i1(e);if(!r&&e.length!==t)throw new e1({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let o=!1;const i=[];for(let s=0;s<e.length;s++){const a=Iu({param:n,value:e[s]});a.dynamic&&(o=!0),i.push(a)}if(r||o){const s=$u(i);if(r){const a=ve(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Sn([a,s]):a}}if(o)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:Sn(i.map(({encoded:s})=>s))}}function tb(e,{param:t}){const[,n]=t.type.split("bytes"),r=Qe(e);if(!n){let o=e;return r%32!==0&&(o=tr(o,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Sn([tr(ve(r,{size:32})),o])}}if(r!==Number.parseInt(n,10))throw new t1({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:tr(e,{dir:"right"})}}function nb(e){if(typeof e!="boolean")throw new ee(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:tr(vu(e))}}function rb(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,o=t?-r-1n:0n;if(e>r||e<o)throw new Ed({max:r.toString(),min:o.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ve(e,{size:32,signed:t})}}function ob(e){const t=io(e),n=Math.ceil(Qe(t)/32),r=[];for(let o=0;o<n;o++)r.push(tr(zi(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Sn([tr(ve(Qe(t),{size:32})),...r])}}function ib(e,{param:t}){let n=!1;const r=[];for(let o=0;o<t.components.length;o++){const i=t.components[o],s=Array.isArray(e)?o:i.name,a=Iu({param:i,value:e[s]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?$u(r):Sn(r.map(({encoded:o})=>o))}}function Tu(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Pu=e=>zi(Cd(e),0,4);function Nd(e){const{abi:t,args:n=[],name:r}=e,o=nr(r,{strict:!1}),i=t.filter(a=>o?a.type==="function"?Pu(a)===r:a.type==="event"?K1(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let s;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((h,p)=>{const m="inputs"in a&&a.inputs[p];return m?hc(h,m):!1})){if(s&&"inputs"in s&&s.inputs){const h=jd(a.inputs,s.inputs,n);if(h)throw new n1({abiItem:a,type:h[0]},{abiItem:s,type:h[1]})}s=a}}return s||i[0]}function hc(e,t){const n=typeof e,r=t.type;switch(r){case"address":return qt(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((o,i)=>hc(Object.values(e)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(o=>hc(o,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function jd(e,t,n){for(const r in e){const o=e[r],i=t[r];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return jd(o.components,i.components,n[r]);const s=[o.type,i.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?qt(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?qt(n[r],{strict:!1}):!1)return s}}function Ut(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Tl="/docs/contract/encodeFunctionData";function sb(e){const{abi:t,args:n,functionName:r}=e;let o=t[0];if(r){const i=Nd({abi:t,args:n,name:r});if(!i)throw new bl(r,{docsPath:Tl});o=i}if(o.type!=="function")throw new bl(void 0,{docsPath:Tl});return{abi:[o],functionName:Pu(oo(o))}}function Ou(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:sb(e)})(),o=n[0],i=r,s="inputs"in o&&o.inputs?bo(o.inputs,t??[]):void 0;return Pr([i,s??"0x"])}const ab={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},cb={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},ub={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class Pl extends ee{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class fb extends ee{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class lb extends ee{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const hb={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new lb({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new fb({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Pl({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Pl({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Ru(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(hb);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function db(e,t={}){typeof t.size<"u"&&hn(e,{size:t.size});const n=kt(e,t);return Fn(n,t)}function pb(e,t={}){let n=e;if(typeof t.size<"u"&&(hn(n,{size:t.size}),n=ni(n)),n.length>1||n[0]>1)throw new u1(n);return!!n[0]}function Un(e,t={}){typeof t.size<"u"&&hn(e,{size:t.size});const n=kt(e,t);return Nn(n,t)}function Cu(e,t={}){let n=e;return typeof t.size<"u"&&(hn(n,{size:t.size}),n=ni(n,{dir:"right"})),new TextDecoder().decode(n)}function yb(e,t){const n=typeof t=="string"?cn(t):t,r=Ru(n);if(Qe(n)===0&&e.length>0)throw new bu;if(Qe(t)&&Qe(t)<32)throw new Qw({data:typeof t=="string"?t:kt(t),params:e,size:Qe(t)});let o=0;const i=[];for(let s=0;s<e.length;++s){const a=e[s];r.setPosition(o);const[l,h]=Yr(r,a,{staticPosition:0});o+=h,i.push(l)}return i}function Yr(e,t,{staticPosition:n}){const r=Tu(t.type);if(r){const[o,i]=r;return gb(e,{...t,type:i},{length:o,staticPosition:n})}if(t.type==="tuple")return xb(e,t,{staticPosition:n});if(t.type==="address")return mb(e);if(t.type==="bool")return wb(e);if(t.type.startsWith("bytes"))return bb(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return vb(e,t);if(t.type==="string")return Eb(e,{staticPosition:n});throw new o1(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Ol=32,dc=32;function mb(e){const t=e.readBytes(32);return[oi(kt(Ud(t,-20))),32]}function gb(e,t,{length:n,staticPosition:r}){if(!n){const s=Un(e.readBytes(dc)),a=r+s,l=a+Ol;e.setPosition(a);const h=Un(e.readBytes(Ol)),p=zo(t);let m=0;const g=[];for(let w=0;w<h;++w){e.setPosition(l+(p?w*32:m));const[S,I]=Yr(e,t,{staticPosition:l});m+=I,g.push(S)}return e.setPosition(r+32),[g,32]}if(zo(t)){const s=Un(e.readBytes(dc)),a=r+s,l=[];for(let h=0;h<n;++h){e.setPosition(a+h*32);const[p]=Yr(e,t,{staticPosition:a});l.push(p)}return e.setPosition(r+32),[l,32]}let o=0;const i=[];for(let s=0;s<n;++s){const[a,l]=Yr(e,t,{staticPosition:r+o});o+=l,i.push(a)}return[i,o]}function wb(e){return[pb(e.readBytes(32),{size:32}),32]}function bb(e,t,{staticPosition:n}){const[r,o]=t.type.split("bytes");if(!o){const s=Un(e.readBytes(32));e.setPosition(n+s);const a=Un(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const l=e.readBytes(a);return e.setPosition(n+32),[kt(l),32]}return[kt(e.readBytes(Number.parseInt(o,10),32)),32]}function vb(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),o=e.readBytes(32);return[r>48?db(o,{signed:n}):Un(o,{signed:n}),32]}function xb(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:s})=>!s),o=r?[]:{};let i=0;if(zo(t)){const s=Un(e.readBytes(dc)),a=n+s;for(let l=0;l<t.components.length;++l){const h=t.components[l];e.setPosition(a+i);const[p,m]=Yr(e,h,{staticPosition:a});i+=m,o[r?l:h==null?void 0:h.name]=p}return e.setPosition(n+32),[o,32]}for(let s=0;s<t.components.length;++s){const a=t.components[s],[l,h]=Yr(e,a,{staticPosition:n});o[r?s:a==null?void 0:a.name]=l,i+=h}return[o,i]}function Eb(e,{staticPosition:t}){const n=Un(e.readBytes(32)),r=t+n;e.setPosition(r);const o=Un(e.readBytes(32));if(o===0)return e.setPosition(t+32),["",32];const i=e.readBytes(o,32),s=Cu(ni(i));return e.setPosition(t+32),[s,32]}function zo(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(zo);const n=Tu(e.type);return!!(n&&zo({...e,type:n[1]}))}function Sb(e){const{abi:t,data:n}=e,r=zi(n,0,4);if(r==="0x")throw new bu;const i=[...t||[],cb,ub].find(s=>s.type==="error"&&r===Pu(oo(s)));if(!i)throw new wd(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?yb(i.inputs,zi(n,4)):void 0,errorName:i.name}}const or=(e,t,n)=>JSON.stringify(e,(r,o)=>typeof o=="bigint"?o.toString():o,n);function Ld({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((o,i)=>`${r&&o.name?`${o.name}: `:""}${typeof t[i]=="object"?or(t[i]):t[i]}`).join(", ")})`}const Ab={gwei:9,wei:18},Bb={ether:-9,wei:9};function zd(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[o,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${o||"0"}${i?`.${i}`:""}`}function Dd(e,t="wei"){return zd(e,Ab[t])}function sn(e,t="wei"){return zd(e,Bb[t])}class _b extends ee{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Ib extends ee{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ys(e){const t=Object.entries(e).map(([r,o])=>o===void 0||o===!1?null:[r,o]).filter(Boolean),n=t.reduce((r,[o])=>Math.max(r,o.length),0);return t.map(([r,o])=>`  ${`${r}:`.padEnd(n+1)}  ${o}`).join(`
`)}class $b extends ee{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Tb extends ee{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ys(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Pb extends ee{constructor(t,{account:n,docsPath:r,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:p,to:m,value:g}){var S;const w=ys({chain:o&&`${o==null?void 0:o.name} (id: ${o==null?void 0:o.id})`,from:n==null?void 0:n.address,to:m,value:typeof g<"u"&&`${Dd(g)} ${((S=o==null?void 0:o.nativeCurrency)==null?void 0:S.symbol)||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${sn(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${sn(l)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${sn(h)} gwei`,nonce:p});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Hd extends ee{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:o,index:i}){let s="Transaction";r&&i!==void 0&&(s=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(s=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(s=`Transaction at block number "${n}" at index "${i}"`),o&&(s=`Transaction with hash "${o}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class qd extends ee{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Gd extends ee{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Ob extends ee{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Rb=e=>e,Cb=e=>e;class Mb extends ee{constructor(t,{abi:n,args:r,contractAddress:o,docsPath:i,functionName:s,sender:a}){const l=Nd({abi:n,args:r,name:s}),h=l?Ld({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,p=l?oo(l,{includeName:!0}):void 0,m=ys({address:o&&Rb(o),function:p,args:h&&h!=="()"&&`${[...Array((s==null?void 0:s.length)??0).keys()].map(()=>" ").join("")}${h}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],m&&"Contract Call:",m].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=o,this.functionName=s,this.sender=a}}class kb extends ee{constructor({abi:t,data:n,functionName:r,message:o}){let i,s,a,l;if(n&&n!=="0x")try{s=Sb({abi:t,data:n});const{abiItem:p,errorName:m,args:g}=s;if(m==="Error")l=g[0];else if(m==="Panic"){const[w]=g;l=ab[w]}else{const w=p?oo(p,{includeName:!0}):void 0,S=p&&g?Ld({abiItem:p,args:g,includeFunctionName:!1,includeName:!1}):void 0;a=[w?`Error: ${w}`:"",S&&S!=="()"?`       ${[...Array((m==null?void 0:m.length)??0).keys()].map(()=>" ").join("")}${S}`:""]}}catch(p){i=p}else o&&(l=o);let h;i instanceof wd&&(h=i.signature,a=[`Unable to decode signature "${h}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${h}.`]),super(l&&l!=="execution reverted"||h?[`The contract function "${r}" reverted with the following ${h?"signature":"reason"}:`,l||h].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=l,this.signature=h}}class Ub extends ee{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Fb extends ee{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Vd extends ee{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Cb(r)}`,`Request body: ${or(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}const Nb=-1;class Mu extends ee{constructor(t,{code:n,docsPath:r,metaMessages:o,name:i,shortMessage:s}){super(s,{cause:t,docsPath:r,metaMessages:o||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof Vd?t.code:n??Nb}}class Kd extends Mu{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class ms extends Mu{constructor(t){super(t,{code:ms.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ms,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class gs extends Mu{constructor(t){super(t,{code:gs.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(gs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ws extends Kd{constructor(t){super(t,{code:ws.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(ws,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class bs extends Kd{constructor(t){super(t,{code:bs.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(bs,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});const jb=3;function Lb(e,{abi:t,address:n,args:r,docsPath:o,functionName:i,sender:s}){const a=e instanceof Fb?e:e instanceof ee?e.walk(S=>"data"in S)||e.walk():{},{code:l,data:h,details:p,message:m,shortMessage:g}=a,w=e instanceof bu?new Ub({functionName:i}):[jb,ms.code].includes(l)&&(h||p||m||g)||l===gs.code&&p==="execution reverted"&&h?new kb({abi:t,data:typeof h=="object"?h.data:h,functionName:i,message:a instanceof Vd?p:g??m}):e;return new Mb(w,{abi:t,args:r,contractAddress:n,docsPath:o,functionName:i,sender:s})}function zb(e){const t=Qt(`0x${e.substring(4)}`).substring(26);return oi(`0x${t}`)}const Db="modulepreload",Hb=function(e){return"/"+e},Rl={},Wd=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(l=>{if(l=Hb(l),l in Rl)return;Rl[l]=!0;const h=l.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":Db,h||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),h)return new Promise((g,w)=>{m.addEventListener("load",g),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};async function qb({hash:e,signature:t}){const n=nr(e)?e:Br(e),{secp256k1:r}=await Wd(async()=>{const{secp256k1:s}=await import("./secp256k1-DrD0kLgn.js");return{secp256k1:s}},[]);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:h,s:p,v:m,yParity:g}=t,w=Number(g??m),S=Cl(w);return new r.Signature(Fn(h),Fn(p)).addRecoveryBit(S)}const s=nr(t)?t:Br(t);if(Qe(s)!==65)throw new Error("invalid signature length");const a=Nn(`0x${s.slice(130)}`),l=Cl(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Cl(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Gb({hash:e,signature:t}){return zb(await qb({hash:e,signature:t}))}function Vb(e,t="hex"){const n=Zd(e),r=Ru(new Uint8Array(n.length));return n.encode(r),t==="hex"?kt(r.bytes):r.bytes}function Zd(e){return Array.isArray(e)?Kb(e.map(t=>Zd(t))):Wb(e)}function Kb(e){const t=e.reduce((o,i)=>o+i.length,0),n=Jd(t);return{length:t<=55?1+t:1+n+t,encode(o){t<=55?o.pushByte(192+t):(o.pushByte(247+n),n===1?o.pushUint8(t):n===2?o.pushUint16(t):n===3?o.pushUint24(t):o.pushUint32(t));for(const{encode:i}of e)i(o)}}}function Wb(e){const t=typeof e=="string"?cn(e):e,n=Jd(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(o){t.length===1&&t[0]<128?o.pushBytes(t):t.length<=55?(o.pushByte(128+t.length),o.pushBytes(t)):(o.pushByte(183+n),n===1?o.pushUint8(t.length):n===2?o.pushUint16(t.length):n===3?o.pushUint24(t.length):o.pushUint32(t.length),o.pushBytes(t))}}}function Jd(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new ee("Length is too large.")}function Zb(e){const{chainId:t,nonce:n,to:r}=e,o=e.contractAddress??e.address,i=Qt(Pr(["0x05",Vb([t?ve(t):"0x",o,n?ve(n):"0x"])]));return r==="bytes"?cn(i):i}async function ku(e){const{authorization:t,signature:n}=e;return Gb({hash:Zb(t),signature:n??t})}class Jb extends ee{constructor(t,{account:n,docsPath:r,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:p,to:m,value:g}){var S;const w=ys({from:n==null?void 0:n.address,to:m,value:typeof g<"u"&&`${Dd(g)} ${((S=o==null?void 0:o.nativeCurrency)==null?void 0:S.symbol)||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${sn(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${sn(l)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${sn(h)} gwei`,nonce:p});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Gr extends ee{constructor({cause:t,message:n}={}){var o;const r=(o=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:o.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Gr,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Gr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Di extends ee{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${sn(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Di,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class pc extends ee{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${sn(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(pc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class yc extends ee{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(yc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class mc extends ee{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(mc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class gc extends ee{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(gc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class wc extends ee{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(wc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class bc extends ee{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(bc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class vc extends ee{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(vc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class xc extends ee{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(xc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Hi extends ee{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${sn(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${sn(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Hi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Uu extends ee{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Xd(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof ee?e.walk(o=>(o==null?void 0:o.code)===Gr.code):e;return r instanceof ee?new Gr({cause:e,message:r.details}):Gr.nodeMessage.test(n)?new Gr({cause:e,message:e.details}):Di.nodeMessage.test(n)?new Di({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):pc.nodeMessage.test(n)?new pc({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):yc.nodeMessage.test(n)?new yc({cause:e,nonce:t==null?void 0:t.nonce}):mc.nodeMessage.test(n)?new mc({cause:e,nonce:t==null?void 0:t.nonce}):gc.nodeMessage.test(n)?new gc({cause:e,nonce:t==null?void 0:t.nonce}):wc.nodeMessage.test(n)?new wc({cause:e}):bc.nodeMessage.test(n)?new bc({cause:e,gas:t==null?void 0:t.gas}):vc.nodeMessage.test(n)?new vc({cause:e,gas:t==null?void 0:t.gas}):xc.nodeMessage.test(n)?new xc({cause:e}):Hi.nodeMessage.test(n)?new Hi({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Uu({cause:e})}function Xb(e,{docsPath:t,...n}){const r=(()=>{const o=Xd(e,n);return o instanceof Uu?e:o})();return new Jb(r,{docsPath:t,...n})}function Fu(e,{format:t}){if(!t)return{};const n={};function r(i){const s=Object.keys(i);for(const a of s)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const o=t(e||{});return r(o),n}const Yb={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function vs(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Qb(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>kt(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=ve(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=ve(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=ve(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=ve(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=ve(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=ve(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Yb[e.type]),typeof e.value<"u"&&(n.value=ve(e.value)),n}function Qb(e){return e.map(t=>({address:t.address,r:t.r?ve(BigInt(t.r)):t.r,s:t.s?ve(BigInt(t.s)):t.s,chainId:ve(t.chainId),nonce:ve(t.nonce),...typeof t.yParity<"u"?{yParity:ve(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:ve(t.v)}:{}}))}function Ml(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new vl({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new vl({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function e2(e){const{balance:t,nonce:n,state:r,stateDiff:o,code:i}=e,s={};if(i!==void 0&&(s.code=i),t!==void 0&&(s.balance=ve(t)),n!==void 0&&(s.nonce=ve(n)),r!==void 0&&(s.state=Ml(r)),o!==void 0){if(s.state)throw new Ib;s.stateDiff=Ml(o)}return s}function t2(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!qt(n,{strict:!1}))throw new Ln({address:n});if(t[n])throw new _b({address:n});t[n]=e2(r)}return t}const n2=2n**256n-1n;function ii(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:o,to:i}=e,s=t?Ut(t):void 0;if(s&&!qt(s.address))throw new Ln({address:s.address});if(i&&!qt(i))throw new Ln({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof o<"u"))throw new $b;if(r&&r>n2)throw new Di({maxFeePerGas:r});if(o&&r&&o>r)throw new Hi({maxFeePerGas:r,maxPriorityFeePerGas:o})}class r2 extends ee{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Nu extends ee{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class o2 extends ee{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${sn(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Yd extends ee{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Qd={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ep(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Nn(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Nn(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Qd[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=i2(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function i2(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function s2(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:ep(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Do(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:o}={}){var h,p,m;const i=o??!1,s=n!==void 0?ve(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[s||r,i]},{dedupe:!!s}),!a)throw new Yd({blockHash:t,blockNumber:n});return(((m=(p=(h=e.chain)==null?void 0:h.formatters)==null?void 0:p.block)==null?void 0:m.format)||s2)(a,"getBlock")}async function tp(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function a2(e,t){var i,s;const{block:n,chain:r=e.chain,request:o}=t||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((s=r==null?void 0:r.fees)==null?void 0:s.defaultPriorityFee);if(typeof a=="function"){const h=n||await ke(e,Do,"getBlock")({}),p=await a({block:h,client:e,request:o});if(p===null)throw new Error;return p}if(typeof a<"u")return a;const l=await e.request({method:"eth_maxPriorityFeePerGas"});return Fn(l)}catch{const[a,l]=await Promise.all([n?Promise.resolve(n):ke(e,Do,"getBlock")({}),ke(e,tp,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Nu;const h=l-a.baseFeePerGas;return h<0n?0n:h}}async function kl(e,t){var g,w;const{block:n,chain:r=e.chain,request:o,type:i="eip1559"}=t||{},s=await(async()=>{var S,I;return typeof((S=r==null?void 0:r.fees)==null?void 0:S.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:o}):((I=r==null?void 0:r.fees)==null?void 0:I.baseFeeMultiplier)??1.2})();if(s<1)throw new r2;const l=10**(((g=s.toString().split(".")[1])==null?void 0:g.length)??0),h=S=>S*BigInt(Math.ceil(s*l))/BigInt(l),p=n||await ke(e,Do,"getBlock")({});if(typeof((w=r==null?void 0:r.fees)==null?void 0:w.estimateFeesPerGas)=="function"){const S=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:h,request:o,type:i});if(S!==null)return S}if(i==="eip1559"){if(typeof p.baseFeePerGas!="bigint")throw new Nu;const S=typeof(o==null?void 0:o.maxPriorityFeePerGas)=="bigint"?o.maxPriorityFeePerGas:await a2(e,{block:p,chain:r,request:o}),I=h(p.baseFeePerGas);return{maxFeePerGas:(o==null?void 0:o.maxFeePerGas)??I+S,maxPriorityFeePerGas:S}}return{gasPrice:(o==null?void 0:o.gasPrice)??h(await ke(e,tp,"getGasPrice")({}))}}async function np(e,{address:t,blockTag:n="latest",blockNumber:r}){const o=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?ve(r):n]},{dedupe:!!r});return Nn(o)}function rp(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>cn(i)):e.blobs,o=[];for(const i of r)o.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?o:o.map(i=>kt(i))}function op(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>cn(s)):e.blobs,o=typeof e.commitments[0]=="string"?e.commitments.map(s=>cn(s)):e.commitments,i=[];for(let s=0;s<r.length;s++){const a=r[s],l=o[s];i.push(Uint8Array.from(t.computeBlobKzgProof(a,l)))}return n==="bytes"?i:i.map(s=>kt(s))}function c2(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),l=r?4:0,h=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+h,a,r)}function u2(e,t,n){return e&t^~e&n}function f2(e,t,n){return e&t^e&n^t&n}class ip extends Eu{constructor(t,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(t),this.view=ma(this.buffer)}update(t){so(this),t=ds(t),jn(t);const{view:n,buffer:r,blockLen:o}=this,i=t.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const l=ma(t);for(;o<=i-s;s+=o)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){so(this),Id(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,rr(this.buffer.subarray(s)),this.padOffset>o-s&&(this.process(r,0),s=0);for(let m=s;m<o;m++)n[m]=0;c2(r,o-8,BigInt(this.length*8),i),this.process(r,0);const a=ma(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=l/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<h;m++)a.setUint32(4*m,p[m],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=i,t.length=o,t.pos=a,o%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Hn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$t=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),l2=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),qn=new Uint32Array(64);class h2 extends ip{constructor(t=32){super(64,t,8,!1),this.A=Hn[0]|0,this.B=Hn[1]|0,this.C=Hn[2]|0,this.D=Hn[3]|0,this.E=Hn[4]|0,this.F=Hn[5]|0,this.G=Hn[6]|0,this.H=Hn[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:s,G:a,H:l}=this;return[t,n,r,o,i,s,a,l]}set(t,n,r,o,i,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let m=0;m<16;m++,n+=4)qn[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const g=qn[m-15],w=qn[m-2],S=yn(g,7)^yn(g,18)^g>>>3,I=yn(w,17)^yn(w,19)^w>>>10;qn[m]=I+qn[m-7]+S+qn[m-16]|0}let{A:r,B:o,C:i,D:s,E:a,F:l,G:h,H:p}=this;for(let m=0;m<64;m++){const g=yn(a,6)^yn(a,11)^yn(a,25),w=p+g+u2(a,l,h)+l2[m]+qn[m]|0,I=(yn(r,2)^yn(r,13)^yn(r,22))+f2(r,o,i)|0;p=h,h=l,l=a,a=s+w|0,s=i,i=o,o=r,r=w+I|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(r,o,i,s,a,l,h,p)}roundClean(){rr(qn)}destroy(){this.set(0,0,0,0,0,0,0,0),rr(this.buffer)}}const sp=Bd(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),d2=sp[0],p2=sp[1],Gn=new Uint32Array(80),Vn=new Uint32Array(80);class y2 extends ip{constructor(t=64){super(128,t,16,!1),this.Ah=$t[0]|0,this.Al=$t[1]|0,this.Bh=$t[2]|0,this.Bl=$t[3]|0,this.Ch=$t[4]|0,this.Cl=$t[5]|0,this.Dh=$t[6]|0,this.Dl=$t[7]|0,this.Eh=$t[8]|0,this.El=$t[9]|0,this.Fh=$t[10]|0,this.Fl=$t[11]|0,this.Gh=$t[12]|0,this.Gl=$t[13]|0,this.Hh=$t[14]|0,this.Hl=$t[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:o,Ch:i,Cl:s,Dh:a,Dl:l,Eh:h,El:p,Fh:m,Fl:g,Gh:w,Gl:S,Hh:I,Hl:P}=this;return[t,n,r,o,i,s,a,l,h,p,m,g,w,S,I,P]}set(t,n,r,o,i,s,a,l,h,p,m,g,w,S,I,P){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=h|0,this.El=p|0,this.Fh=m|0,this.Fl=g|0,this.Gh=w|0,this.Gl=S|0,this.Hh=I|0,this.Hl=P|0}process(t,n){for(let k=0;k<16;k++,n+=4)Gn[k]=t.getUint32(n),Vn[k]=t.getUint32(n+=4);for(let k=16;k<80;k++){const j=Gn[k-15]|0,N=Vn[k-15]|0,Z=jr(j,N,1)^jr(j,N,8)^Sl(j,N,7),Y=Lr(j,N,1)^Lr(j,N,8)^Al(j,N,7),ne=Gn[k-2]|0,G=Vn[k-2]|0,Q=jr(ne,G,19)^xi(ne,G,61)^Sl(ne,G,6),K=Lr(ne,G,19)^Ei(ne,G,61)^Al(ne,G,6),X=S1(Y,K,Vn[k-7],Vn[k-16]),B=A1(X,Z,Q,Gn[k-7],Gn[k-16]);Gn[k]=B|0,Vn[k]=X|0}let{Ah:r,Al:o,Bh:i,Bl:s,Ch:a,Cl:l,Dh:h,Dl:p,Eh:m,El:g,Fh:w,Fl:S,Gh:I,Gl:P,Hh:R,Hl:U}=this;for(let k=0;k<80;k++){const j=jr(m,g,14)^jr(m,g,18)^xi(m,g,41),N=Lr(m,g,14)^Lr(m,g,18)^Ei(m,g,41),Z=m&w^~m&I,Y=g&S^~g&P,ne=B1(U,N,Y,p2[k],Vn[k]),G=_1(ne,R,j,Z,d2[k],Gn[k]),Q=ne|0,K=jr(r,o,28)^xi(r,o,34)^xi(r,o,39),X=Lr(r,o,28)^Ei(r,o,34)^Ei(r,o,39),B=r&i^r&a^i&a,d=o&s^o&l^s&l;R=I|0,U=P|0,I=w|0,P=S|0,w=m|0,S=g|0,{h:m,l:g}=Tn(h|0,p|0,G|0,Q|0),h=a|0,p=l|0,a=i|0,l=s|0,i=r|0,s=o|0;const v=x1(Q,X,d);r=E1(v,G,K,B),o=v|0}({h:r,l:o}=Tn(this.Ah|0,this.Al|0,r|0,o|0)),{h:i,l:s}=Tn(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l}=Tn(this.Ch|0,this.Cl|0,a|0,l|0),{h,l:p}=Tn(this.Dh|0,this.Dl|0,h|0,p|0),{h:m,l:g}=Tn(this.Eh|0,this.El|0,m|0,g|0),{h:w,l:S}=Tn(this.Fh|0,this.Fl|0,w|0,S|0),{h:I,l:P}=Tn(this.Gh|0,this.Gl|0,I|0,P|0),{h:R,l:U}=Tn(this.Hh|0,this.Hl|0,R|0,U|0),this.set(r,o,i,s,a,l,h,p,m,g,w,S,I,P,R,U)}roundClean(){rr(Gn,Vn)}destroy(){rr(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ap=Su(()=>new h2),m2=Su(()=>new y2),Ec=ap;function g2(e,t){return Ec(nr(e,{strict:!1})?xu(e):e)}function w2(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),o=g2(t);return o.set([n],0),r==="bytes"?o:kt(o)}function b2(e){const{commitments:t,version:n}=e,r=e.to,o=[];for(const i of t)o.push(w2({commitment:i,to:r,version:n}));return o}const Ul=6,cp=32,ju=4096,up=cp*ju,Fl=up*Ul-1-1*ju*Ul;class v2 extends ee{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class x2 extends ee{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function E2(e){const t=typeof e.data=="string"?cn(e.data):e.data,n=Qe(t);if(!n)throw new x2;if(n>Fl)throw new v2({maxSize:Fl,size:n});const r=[];let o=!0,i=0;for(;o;){const s=Ru(new Uint8Array(up));let a=0;for(;a<ju;){const l=t.slice(i,i+(cp-1));if(s.pushByte(0),s.pushBytes(l),l.length<31){s.pushByte(128),o=!1;break}a++,i+=31}r.push(s)}return r.map(s=>kt(s.bytes))}function S2(e){const{data:t,kzg:n,to:r}=e,o=e.blobs??E2({data:t}),i=e.commitments??rp({blobs:o,kzg:n,to:r}),s=e.proofs??op({blobs:o,commitments:i,kzg:n,to:r}),a=[];for(let l=0;l<o.length;l++)a.push({blob:o[l],commitment:i[l],proof:s[l]});return a}function A2(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Tb({transaction:e})}async function vo(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Nn(t)}const Lu=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Nl=new Map;async function xs(e,t){const{account:n=e.account,blobs:r,chain:o,gas:i,kzg:s,nonce:a,nonceManager:l,parameters:h=Lu,type:p}=t,m=n&&Ut(n),g={...t,...m?{from:m==null?void 0:m.address}:{}};let w;async function S(){return w||(w=await ke(e,Do,"getBlock")({blockTag:"latest"}),w)}let I;async function P(){return I||(o?o.id:typeof t.chainId<"u"?t.chainId:(I=await ke(e,vo,"getChainId")({}),I))}if(h.includes("nonce")&&typeof a>"u"&&m)if(l){const R=await P();g.nonce=await l.consume({address:m.address,chainId:R,client:e})}else g.nonce=await ke(e,np,"getTransactionCount")({address:m.address,blockTag:"pending"});if((h.includes("blobVersionedHashes")||h.includes("sidecars"))&&r&&s){const R=rp({blobs:r,kzg:s});if(h.includes("blobVersionedHashes")){const U=b2({commitments:R,to:"hex"});g.blobVersionedHashes=U}if(h.includes("sidecars")){const U=op({blobs:r,commitments:R,kzg:s}),k=S2({blobs:r,commitments:R,proofs:U,to:"hex"});g.sidecars=k}}if(h.includes("chainId")&&(g.chainId=await P()),(h.includes("fees")||h.includes("type"))&&typeof p>"u")try{g.type=A2(g)}catch{let R=Nl.get(e.uid);if(typeof R>"u"){const U=await S();R=typeof(U==null?void 0:U.baseFeePerGas)=="bigint",Nl.set(e.uid,R)}g.type=R?"eip1559":"legacy"}if(h.includes("fees"))if(g.type!=="legacy"&&g.type!=="eip2930"){if(typeof g.maxFeePerGas>"u"||typeof g.maxPriorityFeePerGas>"u"){const R=await S(),{maxFeePerGas:U,maxPriorityFeePerGas:k}=await kl(e,{block:R,chain:o,request:g});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<k)throw new o2({maxPriorityFeePerGas:k});g.maxPriorityFeePerGas=k,g.maxFeePerGas=U}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Nu;if(typeof t.gasPrice>"u"){const R=await S(),{gasPrice:U}=await kl(e,{block:R,chain:o,request:g,type:"legacy"});g.gasPrice=U}}return h.includes("gas")&&typeof i>"u"&&(g.gas=await ke(e,B2,"estimateGas")({...g,account:m,prepare:(m==null?void 0:m.type)==="local"?[]:["blobVersionedHashes"]})),ii(g),delete g.parameters,g}async function B2(e,t){var s,a,l;const{account:n=e.account,prepare:r=!0}=t,o=n?Ut(n):void 0,i=(()=>{if(Array.isArray(r))return r;if((o==null?void 0:o.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:h,authorizationList:p,blobs:m,blobVersionedHashes:g,blockNumber:w,blockTag:S,data:I,gas:P,gasPrice:R,maxFeePerBlobGas:U,maxFeePerGas:k,maxPriorityFeePerGas:j,nonce:N,value:Z,stateOverride:Y,...ne}=r?await xs(e,{...t,parameters:i}):t,Q=(typeof w=="bigint"?ve(w):void 0)||S,K=t2(Y),X=await(async()=>{if(ne.to)return ne.to;if(p&&p.length>0)return await ku({authorization:p[0]}).catch(()=>{throw new ee("`to` is required. Could not infer from `authorizationList`")})})();ii(t);const B=(l=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:l.format,v=(B||vs)({...Fu(ne,{format:B}),account:o,accessList:h,authorizationList:p,blobs:m,blobVersionedHashes:g,data:I,gas:P,gasPrice:R,maxFeePerBlobGas:U,maxFeePerGas:k,maxPriorityFeePerGas:j,nonce:N,to:X,value:Z},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:K?[v,Q??e.experimental_blockTag??"latest",K]:Q?[v,Q]:[v]}))}catch(h){throw Xb(h,{...t,account:o,chain:e.chain})}}function _2(e,t){if(!qt(e,{strict:!1}))throw new Ln({address:e});if(!qt(t,{strict:!1}))throw new Ln({address:t});return e.toLowerCase()===t.toLowerCase()}function I2(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}class $2 extends ee{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class T2 extends ee{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}const ba="/docs/contract/encodeDeployData";function P2(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const o=t.find(s=>"type"in s&&s.type==="constructor");if(!o)throw new Yw({docsPath:ba});if(!("inputs"in o))throw new wl({docsPath:ba});if(!o.inputs||o.inputs.length===0)throw new wl({docsPath:ba});const i=bo(o.inputs,n);return Pr([r,i])}function fp(){let e=()=>{},t=()=>{};return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}const va=new Map,jl=new Map;let O2=0;function qi(e,t,n){const r=++O2,o=()=>va.get(e)||[],i=()=>{const p=o();va.set(e,p.filter(m=>m.id!==r))},s=()=>{const p=o();if(!p.some(g=>g.id===r))return;const m=jl.get(e);if(p.length===1&&m){const g=m();g instanceof Promise&&g.catch(()=>{})}i()},a=o();if(va.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return s;const l={};for(const p in t)l[p]=(...m)=>{var w,S;const g=o();if(g.length!==0)for(const I of g)(S=(w=I.fns)[p])==null||S.call(w,...m)};const h=n(l);return typeof h=="function"&&jl.set(e,h),s}async function Sc(e){return new Promise(t=>setTimeout(t,e))}function lp(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let o=!0;const i=()=>o=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const l=await(n==null?void 0:n(a))??r;await Sc(l);const h=async()=>{o&&(await e({unpoll:i}),await Sc(r),h())};h()})(),i}const R2=new Map,C2=new Map;function M2(e){const t=(o,i)=>({clear:()=>i.delete(o),get:()=>i.get(o),set:s=>i.set(o,s)}),n=t(e,R2),r=t(e,C2);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function k2(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=M2(t),o=r.response.get();if(o&&n>0&&Date.now()-o.created.getTime()<n)return o.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const s=await i;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const U2=e=>`blockNumber.${e}`;async function F2(e,{cacheTime:t=e.cacheTime}={}){const n=await k2(()=>e.request({method:"eth_blockNumber"}),{cacheKey:U2(e.uid),cacheTime:t});return BigInt(n)}class ir extends ee{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class xr extends ee{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function zu({chain:e,currentChainId:t}){if(!e)throw new T2;if(t!==e.id)throw new $2({chain:e,currentChainId:t})}function Du(e,{docsPath:t,...n}){const r=(()=>{const o=Xd(e,n);return o instanceof Uu?e:o})();return new Pb(r,{docsPath:t,...n})}async function hp(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const xa=new ps(128);async function Es(e,t){var U,k,j,N;const{account:n=e.account,chain:r=e.chain,accessList:o,authorizationList:i,blobs:s,data:a,gas:l,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,type:S,value:I,...P}=t;if(typeof n>"u")throw new ir({docsPath:"/docs/actions/wallet/sendTransaction"});const R=n?Ut(n):null;try{ii(t);const Z=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await ku({authorization:i[0]}).catch(()=>{throw new ee("`to` is required. Could not infer from `authorizationList`.")})})();if((R==null?void 0:R.type)==="json-rpc"||R===null){let Y;r!==null&&(Y=await ke(e,vo,"getChainId")({}),zu({currentChainId:Y,chain:r}));const ne=(j=(k=(U=e.chain)==null?void 0:U.formatters)==null?void 0:k.transactionRequest)==null?void 0:j.format,Q=(ne||vs)({...Fu(P,{format:ne}),accessList:o,account:R,authorizationList:i,blobs:s,chainId:Y,data:a,gas:l,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,to:Z,type:S,value:I},"sendTransaction"),K=xa.get(e.uid),X=K?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:X,params:[Q]},{retryCount:0})}catch(B){if(K===!1)throw B;const d=B;if(d.name==="InvalidInputRpcError"||d.name==="InvalidParamsRpcError"||d.name==="MethodNotFoundRpcError"||d.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[Q]},{retryCount:0}).then(v=>(xa.set(e.uid,!0),v)).catch(v=>{const A=v;throw A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError"?(xa.set(e.uid,!1),d):A});throw d}}if((R==null?void 0:R.type)==="local"){const Y=await ke(e,xs,"prepareTransactionRequest")({account:R,accessList:o,authorizationList:i,blobs:s,chain:r,data:a,gas:l,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,nonceManager:R.nonceManager,parameters:[...Lu,"sidecars"],type:S,value:I,...P,to:Z}),ne=(N=r==null?void 0:r.serializers)==null?void 0:N.transaction,G=await R.signTransaction(Y,{serializer:ne});return await ke(e,hp,"sendRawTransaction")({serializedTransaction:G})}throw(R==null?void 0:R.type)==="smart"?new xr({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new xr({docsPath:"/docs/actions/wallet/sendTransaction",type:R==null?void 0:R.type})}catch(Z){throw Z instanceof xr?Z:Du(Z,{...t,account:R,chain:t.chain||void 0})}}async function Ho(e,t){return Ho.internal(e,Es,"sendTransaction",t)}(function(e){async function t(n,r,o,i){const{abi:s,account:a=n.account,address:l,args:h,dataSuffix:p,functionName:m,...g}=i;if(typeof a>"u")throw new ir({docsPath:"/docs/contract/writeContract"});const w=a?Ut(a):null,S=Ou({abi:s,args:h,functionName:m});try{return await ke(n,r,o)({data:`${S}${p?p.replace("0x",""):""}`,to:l,account:w,...g})}catch(I){throw Lb(I,{abi:s,address:l,args:h,docsPath:"/docs/contract/writeContract",functionName:m,sender:w==null?void 0:w.address})}}e.internal=t})(Ho||(Ho={}));class N2 extends ee{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function Ac(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((o,i)=>{const s=async({count:a=0}={})=>{const l=async({error:h})=>{const p=typeof t=="function"?t({count:a,error:h}):t;p&&await Sc(p),s({count:a+1})};try{const h=await e();o(h)}catch(h){if(a<n&&await r({count:a,error:h}))return l({error:h});i(h)}};s()})}const dp={"0x0":"reverted","0x1":"success"};function pp(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>I2(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Nn(e.transactionIndex):null,status:e.status?dp[e.status]:null,type:e.type?Qd[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const yp="0x5792579257925792579257925792579257925792579257925792579257925792",mp=ve(0,{size:32});async function gp(e,t){const{account:n=e.account,capabilities:r,chain:o=e.chain,experimental_fallback:i,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:l,version:h="2.0.0"}=t,p=n?Ut(n):null,m=t.calls.map(g=>{const w=g,S=w.abi?Ou({abi:w.abi,functionName:w.functionName,args:w.args}):w.data;return{data:w.dataSuffix&&S?Sn([S,w.dataSuffix]):S,to:w.to,value:w.value?ve(w.value):void 0}});try{const g=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:m,capabilities:r,chainId:ve(o.id),from:p==null?void 0:p.address,id:l,version:h}]},{retryCount:0});return typeof g=="string"?{id:g}:g}catch(g){const w=g;if(i&&(w.name==="MethodNotFoundRpcError"||w.name==="MethodNotSupportedRpcError"||w.name==="UnknownRpcError"||w.details.toLowerCase().includes("does not exist / is not available")||w.details.toLowerCase().includes("missing or invalid. request()")||w.details.toLowerCase().includes("did not match any variant of untagged enum")||w.details.toLowerCase().includes("account upgraded to unsupported contract")||w.details.toLowerCase().includes("eip-7702 not supported")||w.details.toLowerCase().includes("unsupported wc_ method")||w.details.toLowerCase().includes("feature toggled misconfigured")||w.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(U=>!U.optional)){const U="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new ws(new ee(U,{details:U}))}if(a&&m.length>1){const R="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new bs(new ee(R,{details:R}))}const S=[];for(const R of m){const U=Es(e,{account:p,chain:o,data:R.data,to:R.to,value:R.value?Fn(R.value):void 0});S.push(U),s>0&&await new Promise(k=>setTimeout(k,s))}const I=await Promise.allSettled(S);if(I.every(R=>R.status==="rejected"))throw I[0].reason;const P=I.map(R=>R.status==="fulfilled"?R.value:mp);return{id:Sn([...P,ve(o.id,{size:32}),yp])}}throw Du(g,{...t,account:p,chain:t.chain})}}async function wp(e,t){async function n(p){if(p.endsWith(yp.slice(2))){const g=ni(Lo(p,-64,-32)),w=Lo(p,0,-64).slice(2).match(/.{1,64}/g),S=await Promise.all(w.map(P=>mp.slice(2)!==P?e.request({method:"eth_getTransactionReceipt",params:[`0x${P}`]},{dedupe:!0}):void 0)),I=S.some(P=>P===null)?100:S.every(P=>(P==null?void 0:P.status)==="0x1")?200:S.every(P=>(P==null?void 0:P.status)==="0x0")?500:600;return{atomic:!1,chainId:Nn(g),receipts:S.filter(Boolean),status:I,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[p]})}const{atomic:r=!1,chainId:o,receipts:i,version:s="2.0.0",...a}=await n(t.id),[l,h]=(()=>{const p=a.status;return p>=100&&p<200?["pending",p]:p>=200&&p<300?["success",p]:p>=300&&p<700?["failure",p]:p==="CONFIRMED"?["success",200]:p==="PENDING"?["pending",100]:[void 0,p]})();return{...a,atomic:r,chainId:o?Nn(o):void 0,receipts:(i==null?void 0:i.map(p=>({...p,blockNumber:Fn(p.blockNumber),gasUsed:Fn(p.gasUsed),status:dp[p.status]})))??[],statusCode:h,status:l,version:s}}async function bp(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:o=({statusCode:I})=>I===200||I>=300,retryCount:i=4,retryDelay:s=({count:I})=>~~(1<<I)*200,timeout:a=6e4,throwOnFailure:l=!1}=t,h=or(["waitForCallsStatus",e.uid,n]),{promise:p,resolve:m,reject:g}=fp();let w;const S=qi(h,{resolve:m,reject:g},I=>{const P=lp(async()=>{const R=U=>{clearTimeout(w),P(),U(),S()};try{const U=await Ac(async()=>{const k=await ke(e,wp,"getCallsStatus")({id:n});if(l&&k.status==="failure")throw new N2(k);return k},{retryCount:i,delay:s});if(!o(U))return;R(()=>I.resolve(U))}catch(U){R(()=>I.reject(U))}},{interval:r,emitOnBegin:!0});return P});return w=a?setTimeout(()=>{S(),clearTimeout(w),g(new j2({id:n}))},a):void 0,await p}class j2 extends ee{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Bc=256;let Si=Bc,Ai;function L2(e=11){if(!Ai||Si+e>Bc*2){Ai="",Si=0;for(let t=0;t<Bc;t++)Ai+=(256+Math.random()*256|0).toString(16).substring(1)}return Ai.substring(Si,Si+++e)}function z2(e){const{batch:t,chain:n,ccipRead:r,key:o="base",name:i="Base Client",type:s="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,h=Math.min(Math.max(Math.floor(l/2),500),4e3),p=e.pollingInterval??h,m=e.cacheTime??p,g=e.account?Ut(e.account):void 0,{config:w,request:S,value:I}=e.transport({account:g,chain:n,pollingInterval:p}),P={...w,...I},R={account:g,batch:t,cacheTime:m,ccipRead:r,chain:n,key:o,name:i,pollingInterval:p,request:S,transport:P,type:s,uid:L2(),...a?{experimental_blockTag:a}:{}};function U(k){return j=>{const N=j(k);for(const Y in R)delete N[Y];const Z={...k,...N};return Object.assign(Z,{extend:U(Z)})}}return Object.assign(R,{extend:U(R)})}function D2(e,t){if(e.length!==t.length)throw new gd({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r];n.push(vp(o,i))}return Pr(n)}function vp(e,t,n=!1){if(e==="address"){const s=t;if(!qt(s))throw new Ln({address:s});return xn(s.toLowerCase(),{size:n?32:null})}if(e==="string")return io(t);if(e==="bytes")return t;if(e==="bool")return xn(vu(t),{size:n?32:1});const r=e.match(_u);if(r){const[s,a,l="256"]=r,h=Number.parseInt(l,10)/8;return ve(t,{size:n?32:h,signed:a==="int"})}const o=e.match(Fd);if(o){const[s,a]=o;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new bd({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return xn(t,{dir:"right",size:n?32:null})}const i=e.match(X1);if(i&&Array.isArray(t)){const[s,a]=i,l=[];for(let h=0;h<t.length;h++)l.push(vp(a,t[h],!0));return l.length===0?"0x":Pr(l)}throw new a1(e)}const H2=`Ethereum Signed Message:
`;function q2(e){const t=typeof e=="string"?io(e):typeof e.raw=="string"?e.raw:kt(e.raw),n=io(`${H2}${Qe(t)}`);return Sn([n,t])}function _c(e,t){return Qt(q2(e),t)}class G2 extends ee{constructor({domain:t}){super(`Invalid domain "${or(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class V2 extends ee{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class K2 extends ee{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function W2(e){const{domain:t,message:n,primaryType:r,types:o}=e,i=(l,h)=>{const p={...h};for(const m of l){const{name:g,type:w}=m;w==="address"&&(p[g]=p[g].toLowerCase())}return p},s=o.EIP712Domain?t?i(o.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(o[r],n)})();return or({domain:s,message:a,primaryType:r,types:o})}function xp(e){const{domain:t,message:n,primaryType:r,types:o}=e,i=(s,a)=>{for(const l of s){const{name:h,type:p}=l,m=a[h],g=p.match(_u);if(g&&(typeof m=="number"||typeof m=="bigint")){const[I,P,R]=g;ve(m,{signed:P==="int",size:Number.parseInt(R,10)/8})}if(p==="address"&&typeof m=="string"&&!qt(m))throw new Ln({address:m});const w=p.match(Fd);if(w){const[I,P]=w;if(P&&Qe(m)!==Number.parseInt(P,10))throw new bd({expectedSize:Number.parseInt(P,10),givenSize:Qe(m)})}const S=o[p];S&&(Z2(p),i(S,m))}};if(o.EIP712Domain&&t){if(typeof t!="object")throw new G2({domain:t});i(o.EIP712Domain,t)}if(r!=="EIP712Domain")if(o[r])i(o[r],n);else throw new V2({primaryType:r,types:o})}function Hu({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Z2(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new K2({type:e})}function Ep(e){const{domain:t={},message:n,primaryType:r}=e,o={EIP712Domain:Hu({domain:t}),...e.types};xp({domain:t,message:n,primaryType:r,types:o});const i=["0x1901"];return t&&i.push(J2({domain:t,types:o})),r!=="EIP712Domain"&&i.push(Sp({data:n,primaryType:r,types:o})),Qt(Sn(i))}function J2({domain:e,types:t}){return Sp({data:e,primaryType:"EIP712Domain",types:t})}function Sp({data:e,primaryType:t,types:n}){const r=Ap({data:e,primaryType:t,types:n});return Qt(r)}function Ap({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],o=[X2({primaryType:t,types:n})];for(const i of n[t]){const[s,a]=_p({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(s),o.push(a)}return bo(r,o)}function X2({primaryType:e,types:t}){const n=Br(Y2({primaryType:e,types:t}));return Qt(n)}function Y2({primaryType:e,types:t}){let n="";const r=Bp({primaryType:e,types:t});r.delete(e);const o=[e,...Array.from(r).sort()];for(const i of o)n+=`${i}(${t[i].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return n}function Bp({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),o=r==null?void 0:r[0];if(n.has(o)||t[o]===void 0)return n;n.add(o);for(const i of t[o])Bp({primaryType:i.type,types:t},n);return n}function _p({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Qt(Ap({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},Qt(r)];if(n==="string")return[{type:"bytes32"},Qt(Br(r))];if(n.lastIndexOf("]")===n.length-1){const o=n.slice(0,n.lastIndexOf("[")),i=r.map(s=>_p({name:t,type:o,types:e,value:s}));return[{type:"bytes32"},Qt(bo(i.map(([s])=>s),i.map(([,s])=>s)))]}return[{type:n},r]}const Q2="0x6492649264926492649264926492649264926492649264926492649264926492";class Ip extends Eu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,_d(t);const r=ds(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),rr(i)}update(t){return so(this),this.iHash.update(t),this}digestInto(t){so(this),jn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $p=(e,t,n)=>new Ip(e,t).update(n).digest();$p.create=(e,t)=>new Ip(e,t);function ev(e){const{address:t,data:n,signature:r,to:o="hex"}=e,i=Pr([bo([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Q2]);return o==="hex"?i:cn(i)}async function tv(e,{blockHash:t,blockNumber:n,blockTag:r,hash:o,index:i,sender:s,nonce:a}){var g,w,S;const l=r||"latest",h=n!==void 0?ve(n):void 0;let p=null;if(o?p=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?p=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,ve(i)]},{dedupe:!0}):typeof i=="number"?p=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[h||l,ve(i)]},{dedupe:!!h}):s&&typeof a=="number"&&(p=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[s,ve(a)]},{dedupe:!0})),!p)throw new Hd({blockHash:t,blockNumber:n,blockTag:l,hash:o,index:i});return(((S=(w=(g=e.chain)==null?void 0:g.formatters)==null?void 0:w.transaction)==null?void 0:S.format)||ep)(p,"getTransaction")}async function Ea(e,{hash:t}){var o,i,s;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new qd({hash:t});return(((s=(i=(o=e.chain)==null?void 0:o.formatters)==null?void 0:i.transactionReceipt)==null?void 0:s.format)||pp)(n,"getTransactionReceipt")}function nv(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:o,poll:i,pollingInterval:s=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const m=or(["watchBlockNumber",e.uid,t,n,s]);return qi(m,{onBlockNumber:r,onError:o},g=>lp(async()=>{var w;try{const S=await ke(e,F2,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(S===l)return;if(S-l>1&&n)for(let I=l+1n;I<S;I++)g.onBlockNumber(I,l),l=I}(l===void 0||S>l)&&(g.onBlockNumber(S,l),l=S)}catch(S){(w=g.onError)==null||w.call(g,S)}},{emitOnBegin:t,interval:s}))})():(()=>{const m=or(["watchBlockNumber",e.uid,t,n]);return qi(m,{onBlockNumber:r,onError:o},g=>{let w=!0,S=()=>w=!1;return(async()=>{try{const I=(()=>{if(e.transport.type==="fallback"){const R=e.transport.transports.find(U=>U.config.type==="webSocket"||U.config.type==="ipc");return R?R.value:e.transport}return e.transport})(),{unsubscribe:P}=await I.subscribe({params:["newHeads"],onData(R){var k;if(!w)return;const U=Fn((k=R.result)==null?void 0:k.number);g.onBlockNumber(U,l),l=U},onError(R){var U;(U=g.onError)==null||U.call(g,R)}});S=P,w||S()}catch(I){o==null||o(I)}})(),()=>S()})})()}async function rv(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:o,onReplaced:i,retryCount:s=6,retryDelay:a=({count:N})=>~~(1<<N)*200,timeout:l=18e4}=t,h=or(["waitForTransactionReceipt",e.uid,o]),p=(()=>{var N;return t.pollingInterval?t.pollingInterval:(N=e.chain)!=null&&N.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let m,g,w,S=!1,I,P;const{promise:R,resolve:U,reject:k}=fp(),j=l?setTimeout(()=>{P==null||P(),I==null||I(),k(new Ob({hash:o}))},l):void 0;return I=qi(h,{onReplaced:i,resolve:U,reject:k},async N=>{if(w=await ke(e,Ea,"getTransactionReceipt")({hash:o}).catch(()=>{}),w&&r<=1){clearTimeout(j),N.resolve(w),I==null||I();return}P=ke(e,nv,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:p,async onBlockNumber(Z){const Y=G=>{clearTimeout(j),P==null||P(),G(),I==null||I()};let ne=Z;if(!S)try{if(w){if(r>1&&(!w.blockNumber||ne-w.blockNumber+1n<r))return;Y(()=>N.resolve(w));return}if(n&&!m&&(S=!0,await Ac(async()=>{m=await ke(e,tv,"getTransaction")({hash:o}),m.blockNumber&&(ne=m.blockNumber)},{delay:a,retryCount:s}),S=!1),w=await ke(e,Ea,"getTransactionReceipt")({hash:o}),r>1&&(!w.blockNumber||ne-w.blockNumber+1n<r))return;Y(()=>N.resolve(w))}catch(G){if(G instanceof Hd||G instanceof qd){if(!m){S=!1;return}try{g=m,S=!0;const Q=await Ac(()=>ke(e,Do,"getBlock")({blockNumber:ne,includeTransactions:!0}),{delay:a,retryCount:s,shouldRetry:({error:B})=>B instanceof Yd});S=!1;const K=Q.transactions.find(({from:B,nonce:d})=>B===g.from&&d===g.nonce);if(!K||(w=await ke(e,Ea,"getTransactionReceipt")({hash:K.hash}),r>1&&(!w.blockNumber||ne-w.blockNumber+1n<r)))return;let X="replaced";K.to===g.to&&K.value===g.value&&K.input===g.input?X="repriced":K.from===K.to&&K.value===0n&&(X="cancelled"),Y(()=>{var B;(B=N.onReplaced)==null||B.call(N,{reason:X,replacedTransaction:g,transaction:K,transactionReceipt:w}),N.resolve(w)})}catch(Q){Y(()=>N.reject(Q))}}else Y(()=>N.reject(G))}}})}),R}async function Tp(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,l,h;const o=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,ve(r)]:[t]},{retryCount:0}),s=(((h=(l=(a=e.chain)==null?void 0:a.formatters)==null?void 0:l.transactionReceipt)==null?void 0:h.format)||pp)(o);if(s.status==="reverted"&&n)throw new Gd({receipt:s});return s}async function ov(e,{chain:t}){const{id:n,name:r,nativeCurrency:o,rpcUrls:i,blockExplorers:s}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:ve(n),chainName:r,nativeCurrency:o,rpcUrls:i.default.http,blockExplorerUrls:s?Object.values(s).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function iv(e,t){const{abi:n,args:r,bytecode:o,...i}=t,s=P2({abi:n,args:r,bytecode:o});return Es(e,{...i,...i.authorizationList?{to:null}:{},data:s})}async function sv(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>oi(r))}async function av(e,t={}){const{account:n=e.account,chainId:r}=t,o=n?Ut(n):void 0,i=r?[o==null?void 0:o.address,[ve(r)]]:[o==null?void 0:o.address],s=await e.request({method:"wallet_getCapabilities",params:i}),a={};for(const[l,h]of Object.entries(s)){a[Number(l)]={};for(let[p,m]of Object.entries(h))p==="addSubAccount"&&(p="unstable_addSubAccount"),a[Number(l)][p]=m}return typeof r=="number"?a[r]:a}async function cv(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Pp(e,t){var l;const{account:n=e.account,chainId:r,nonce:o}=t;if(!n)throw new ir({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Ut(n),s=(()=>{if(t.executor)return t.executor==="self"?t.executor:Ut(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:o};return typeof a.chainId>"u"&&(a.chainId=((l=e.chain)==null?void 0:l.id)??await ke(e,vo,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await ke(e,np,"getTransactionCount")({address:i.address,blockTag:"pending"}),(s==="self"||s!=null&&s.address&&_2(s.address,i.address))&&(a.nonce+=1)),a}async function uv(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>W1(n))}async function fv(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function lv(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),o=await gp(e,t);return await bp(e,{...t,id:o.id,timeout:r})}const Sa=new ps(128);async function Op(e,t){var N,Z,Y,ne;const{account:n=e.account,chain:r=e.chain,accessList:o,authorizationList:i,blobs:s,data:a,gas:l,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,pollingInterval:S,throwOnReceiptRevert:I,type:P,value:R,...U}=t,k=t.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new ir({docsPath:"/docs/actions/wallet/sendTransactionSync"});const j=n?Ut(n):null;try{ii(t);const G=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await ku({authorization:i[0]}).catch(()=>{throw new ee("`to` is required. Could not infer from `authorizationList`.")})})();if((j==null?void 0:j.type)==="json-rpc"||j===null){let Q;r!==null&&(Q=await ke(e,vo,"getChainId")({}),zu({currentChainId:Q,chain:r}));const K=(Y=(Z=(N=e.chain)==null?void 0:N.formatters)==null?void 0:Z.transactionRequest)==null?void 0:Y.format,B=(K||vs)({...Fu(U,{format:K}),accessList:o,account:j,authorizationList:i,blobs:s,chainId:Q,data:a,gas:l,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,to:G,type:P,value:R},"sendTransaction"),d=Sa.get(e.uid),v=d?"wallet_sendTransaction":"eth_sendTransaction",A=await(async()=>{try{return await e.request({method:v,params:[B]},{retryCount:0})}catch(O){if(d===!1)throw O;const M=O;if(M.name==="InvalidInputRpcError"||M.name==="InvalidParamsRpcError"||M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[B]},{retryCount:0}).then(b=>(Sa.set(e.uid,!0),b)).catch(b=>{const x=b;throw x.name==="MethodNotFoundRpcError"||x.name==="MethodNotSupportedRpcError"?(Sa.set(e.uid,!1),M):x});throw M}})(),T=await ke(e,rv,"waitForTransactionReceipt")({checkReplacement:!1,hash:A,pollingInterval:S,timeout:k});if(I&&T.status==="reverted")throw new Gd({receipt:T});return T}if((j==null?void 0:j.type)==="local"){const Q=await ke(e,xs,"prepareTransactionRequest")({account:j,accessList:o,authorizationList:i,blobs:s,chain:r,data:a,gas:l,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,nonceManager:j.nonceManager,parameters:[...Lu,"sidecars"],type:P,value:R,...U,to:G}),K=(ne=r==null?void 0:r.serializers)==null?void 0:ne.transaction,X=await j.signTransaction(Q,{serializer:K});return await ke(e,Tp,"sendRawTransactionSync")({serializedTransaction:X,throwOnReceiptRevert:I})}throw(j==null?void 0:j.type)==="smart"?new xr({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new xr({docsPath:"/docs/actions/wallet/sendTransactionSync",type:j==null?void 0:j.type})}catch(G){throw G instanceof xr?G:Du(G,{...t,account:j,chain:t.chain||void 0})}}async function hv(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function dv(e,t){const{account:n=e.account}=t;if(!n)throw new ir({docsPath:"/docs/eip7702/signAuthorization"});const r=Ut(n);if(!r.signAuthorization)throw new xr({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const o=await Pp(e,t);return r.signAuthorization(o)}async function pv(e,{account:t=e.account,message:n}){if(!t)throw new ir({docsPath:"/docs/actions/wallet/signMessage"});const r=Ut(t);if(r.signMessage)return r.signMessage({message:n});const o=typeof n=="string"?io(n):n.raw instanceof Uint8Array?Br(n.raw):n.raw;return e.request({method:"personal_sign",params:[o,r.address]},{retryCount:0})}async function yv(e,t){var h,p,m,g;const{account:n=e.account,chain:r=e.chain,...o}=t;if(!n)throw new ir({docsPath:"/docs/actions/wallet/signTransaction"});const i=Ut(n);ii({account:i,...t});const s=await ke(e,vo,"getChainId")({});r!==null&&zu({currentChainId:s,chain:r});const a=(r==null?void 0:r.formatters)||((h=e.chain)==null?void 0:h.formatters),l=((p=a==null?void 0:a.transactionRequest)==null?void 0:p.format)||vs;return i.signTransaction?i.signTransaction({...o,chainId:s},{serializer:(g=(m=e.chain)==null?void 0:m.serializers)==null?void 0:g.transaction}):await e.request({method:"eth_signTransaction",params:[{...l({...o,account:i},"signTransaction"),chainId:ve(s),from:i.address}]},{retryCount:0})}async function mv(e,t){const{account:n=e.account,domain:r,message:o,primaryType:i}=t;if(!n)throw new ir({docsPath:"/docs/actions/wallet/signTypedData"});const s=Ut(n),a={EIP712Domain:Hu({domain:r}),...t.types};if(xp({domain:r,message:o,primaryType:i,types:a}),s.signTypedData)return s.signTypedData({domain:r,message:o,primaryType:i,types:a});const l=W2({domain:r,message:o,primaryType:i,types:a});return e.request({method:"eth_signTypedData_v4",params:[s.address,l]},{retryCount:0})}async function gv(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:ve(t)}]},{retryCount:0})}async function wv(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function bv(e,t){return Ho.internal(e,Op,"sendTransactionSync",t)}function vv(e){return{addChain:t=>ov(e,t),deployContract:t=>iv(e,t),getAddresses:()=>sv(e),getCallsStatus:t=>wp(e,t),getCapabilities:t=>av(e,t),getChainId:()=>vo(e),getPermissions:()=>cv(e),prepareAuthorization:t=>Pp(e,t),prepareTransactionRequest:t=>xs(e,t),requestAddresses:()=>uv(e),requestPermissions:t=>fv(e,t),sendCalls:t=>gp(e,t),sendCallsSync:t=>lv(e,t),sendRawTransaction:t=>hp(e,t),sendRawTransactionSync:t=>Tp(e,t),sendTransaction:t=>Es(e,t),sendTransactionSync:t=>Op(e,t),showCallsStatus:t=>hv(e,t),signAuthorization:t=>dv(e,t),signMessage:t=>pv(e,t),signTransaction:t=>yv(e,t),signTypedData:t=>mv(e,t),switchChain:t=>gv(e,t),waitForCallsStatus:t=>bp(e,t),watchAsset:t=>wv(e,t),writeContract:t=>Ho(e,t),writeContractSync:t=>bv(e,t)}}function xv(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return z2({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(vv)}let Ic=null;function Ev(e){Ic=e}function Er(){if(!Ic)throw new Error("Platform services not initialized. This usually means the core package was not properly imported for your platform. For web apps, make sure you're importing from '@coinbase/cdp-core'. For React Native apps, ensure you have the proper platform resolution configured.");return Ic}function qo(){return Er().crypto}function Sv(){return Er().storage}function En(){return Er().oauth}function $c(e){if(typeof btoa<"u")return btoa(Array.from(e).map(r=>String.fromCharCode(r)).join(""));const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let n="";for(let r=0;r<e.length;r+=3){const o=e[r],i=r+1<e.length?e[r+1]:0,s=r+2<e.length?e[r+2]:0,a=o<<16|i<<8|s;n+=t.charAt(a>>18&63),n+=t.charAt(a>>12&63),n+=r+1<e.length?t.charAt(a>>6&63):"=",n+=r+2<e.length?t.charAt(a&63):"="}return n}function Rp(e){if(typeof atob<"u"){const i=atob(e),s=new Uint8Array(i.length);for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return s}const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={};for(let i=0;i<t.length;i++)n[t[i]]=i;const r=e.replace(/[^A-Za-z0-9+/]/g,""),o=[];for(let i=0;i<r.length;i+=4){const s=n[r[i]]||0,a=n[r[i+1]]||0,l=n[r[i+2]]||0,h=n[r[i+3]]||0,p=s<<18|a<<12|l<<6|h;o.push(p>>16&255),i+2<r.length&&o.push(p>>8&255),i+3<r.length&&o.push(p&255)}return new Uint8Array(o)}const Av={async createKeyPair(){const e=await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"]),t=await window.crypto.subtle.exportKey("spki",e.publicKey),n=new Uint8Array(t),r=$c(n);return{privateKey:e.privateKey,publicKeyBase64:r}},async createExportKeyPair(){const e=await window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),t=await window.crypto.subtle.exportKey("spki",e.publicKey),n=$c(new Uint8Array(t));return{privateKey:e.privateKey,publicKeyBase64:n}},async hash(e){const t=await window.crypto.subtle.digest("SHA-256",e),n=new Uint8Array(t);return Array.from(n).map(r=>r.toString(16).padStart(2,"0")).join("")},generateRandomId(){const e=new Uint8Array(16);return window.crypto.getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")},generateRandomSalt(){const e=new Uint8Array(32);window.crypto.getRandomValues(e);let t=0n;for(let n=0;n<e.length;n++)t=(t<<8n)+BigInt(e[n]);return t},async decryptWithPrivateKey(e,t){const n=Rp(t);return await window.crypto.subtle.decrypt("RSA-OAEP",e,n)}},Bv={getRedirectUrl:()=>(Bi(),window.location.href),initiateOAuthFlow:e=>{Bi(),window.location.href=e},getOAuthParams:()=>{Bi();const e=new URL(window.location.href),t=new URLSearchParams(e.search),n=t.get("code")??void 0,r=t.get("provider_type")??void 0,o=t.get("flow_id")??void 0,i=t.get("error")??void 0,s=t.get("error_description")??void 0;return(!n||!r||!o)&&!i&&!s?null:{code:n,providerType:r,flowId:o,error:i,errorDescription:s}},cleanupOAuthParams:()=>{Bi();const e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("code"),t.delete("provider_type"),t.delete("flow_id"),t.delete("error"),t.delete("error_description"),e.search=t.toString(),window.history.replaceState({},"",e.toString())}};function Bi(){if(typeof window>"u"||typeof window.location>"u"||typeof window.history>"u")throw new Error("OAuth is not supported in this browser")}const _v={async getItem(e){try{return localStorage.getItem(e)}catch(t){return console.warn(`Failed to get item from localStorage: ${t}`),null}},async setItem(e,t){try{localStorage.setItem(e,t)}catch(n){throw console.warn(`Failed to set item in localStorage: ${n}`),n}},async removeItem(e){try{localStorage.removeItem(e)}catch(t){throw console.warn(`Failed to remove item from localStorage: ${t}`),t}},async clear(){try{localStorage.clear()}catch(e){throw console.warn(`Failed to clear localStorage: ${e}`),e}}};var Aa={},Ro={},Ll;function Iv(){if(Ll)return Ro;Ll=1,Ro.byteLength=a,Ro.toByteArray=h,Ro.fromByteArray=g;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=r.length;o<i;++o)e[o]=r[o],t[r.charCodeAt(o)]=o;t[45]=62,t[95]=63;function s(w){var S=w.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=w.indexOf("=");I===-1&&(I=S);var P=I===S?0:4-I%4;return[I,P]}function a(w){var S=s(w),I=S[0],P=S[1];return(I+P)*3/4-P}function l(w,S,I){return(S+I)*3/4-I}function h(w){var S,I=s(w),P=I[0],R=I[1],U=new n(l(w,P,R)),k=0,j=R>0?P-4:P,N;for(N=0;N<j;N+=4)S=t[w.charCodeAt(N)]<<18|t[w.charCodeAt(N+1)]<<12|t[w.charCodeAt(N+2)]<<6|t[w.charCodeAt(N+3)],U[k++]=S>>16&255,U[k++]=S>>8&255,U[k++]=S&255;return R===2&&(S=t[w.charCodeAt(N)]<<2|t[w.charCodeAt(N+1)]>>4,U[k++]=S&255),R===1&&(S=t[w.charCodeAt(N)]<<10|t[w.charCodeAt(N+1)]<<4|t[w.charCodeAt(N+2)]>>2,U[k++]=S>>8&255,U[k++]=S&255),U}function p(w){return e[w>>18&63]+e[w>>12&63]+e[w>>6&63]+e[w&63]}function m(w,S,I){for(var P,R=[],U=S;U<I;U+=3)P=(w[U]<<16&16711680)+(w[U+1]<<8&65280)+(w[U+2]&255),R.push(p(P));return R.join("")}function g(w){for(var S,I=w.length,P=I%3,R=[],U=16383,k=0,j=I-P;k<j;k+=U)R.push(m(w,k,k+U>j?j:k+U));return P===1?(S=w[I-1],R.push(e[S>>2]+e[S<<4&63]+"==")):P===2&&(S=(w[I-2]<<8)+w[I-1],R.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),R.join("")}return Ro}var _i={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var zl;function $v(){return zl||(zl=1,_i.read=function(e,t,n,r,o){var i,s,a=o*8-r-1,l=(1<<a)-1,h=l>>1,p=-7,m=n?o-1:0,g=n?-1:1,w=e[t+m];for(m+=g,i=w&(1<<-p)-1,w>>=-p,p+=a;p>0;i=i*256+e[t+m],m+=g,p-=8);for(s=i&(1<<-p)-1,i>>=-p,p+=r;p>0;s=s*256+e[t+m],m+=g,p-=8);if(i===0)i=1-h;else{if(i===l)return s?NaN:(w?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-h}return(w?-1:1)*s*Math.pow(2,i-r)},_i.write=function(e,t,n,r,o,i){var s,a,l,h=i*8-o-1,p=(1<<h)-1,m=p>>1,g=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:i-1,S=r?1:-1,I=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=p):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+m>=1?t+=g/l:t+=g*Math.pow(2,1-m),t*l>=2&&(s++,l/=2),s+m>=p?(a=0,s=p):s+m>=1?(a=(t*l-1)*Math.pow(2,o),s=s+m):(a=t*Math.pow(2,m-1)*Math.pow(2,o),s=0));o>=8;e[n+w]=a&255,w+=S,a/=256,o-=8);for(s=s<<o|a,h+=o;h>0;e[n+w]=s&255,w+=S,s/=256,h-=8);e[n+w-S]|=I*128}),_i}/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/var Dl;function Tv(){return Dl||(Dl=1,function(e){const t=Iv(),n=$v(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=U,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const u=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(u,c),u.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(u){if(u>o)throw new RangeError('The value "'+u+'" is invalid for option "size"');const c=new Uint8Array(u);return Object.setPrototypeOf(c,a.prototype),c}function a(u,c,f){if(typeof u=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(u)}return l(u,c,f)}a.poolSize=8192;function l(u,c,f){if(typeof u=="string")return g(u,c);if(ArrayBuffer.isView(u))return S(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(He(u,ArrayBuffer)||u&&He(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(u,SharedArrayBuffer)||u&&He(u.buffer,SharedArrayBuffer)))return I(u,c,f);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=u.valueOf&&u.valueOf();if(E!=null&&E!==u)return a.from(E,c,f);const $=P(u);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return a.from(u[Symbol.toPrimitive]("string"),c,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}a.from=function(u,c,f){return l(u,c,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function h(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function p(u,c,f){return h(u),u<=0?s(u):c!==void 0?typeof f=="string"?s(u).fill(c,f):s(u).fill(c):s(u)}a.alloc=function(u,c,f){return p(u,c,f)};function m(u){return h(u),s(u<0?0:R(u)|0)}a.allocUnsafe=function(u){return m(u)},a.allocUnsafeSlow=function(u){return m(u)};function g(u,c){if((typeof c!="string"||c==="")&&(c="utf8"),!a.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const f=k(u,c)|0;let E=s(f);const $=E.write(u,c);return $!==f&&(E=E.slice(0,$)),E}function w(u){const c=u.length<0?0:R(u.length)|0,f=s(c);for(let E=0;E<c;E+=1)f[E]=u[E]&255;return f}function S(u){if(He(u,Uint8Array)){const c=new Uint8Array(u);return I(c.buffer,c.byteOffset,c.byteLength)}return w(u)}function I(u,c,f){if(c<0||u.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<c+(f||0))throw new RangeError('"length" is outside of buffer bounds');let E;return c===void 0&&f===void 0?E=new Uint8Array(u):f===void 0?E=new Uint8Array(u,c):E=new Uint8Array(u,c,f),Object.setPrototypeOf(E,a.prototype),E}function P(u){if(a.isBuffer(u)){const c=R(u.length)|0,f=s(c);return f.length===0||u.copy(f,0,0,c),f}if(u.length!==void 0)return typeof u.length!="number"||Me(u.length)?s(0):w(u);if(u.type==="Buffer"&&Array.isArray(u.data))return w(u.data)}function R(u){if(u>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return u|0}function U(u){return+u!=u&&(u=0),a.alloc(+u)}a.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==a.prototype},a.compare=function(u,c){if(He(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),He(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(u)||!a.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===c)return 0;let f=u.length,E=c.length;for(let $=0,C=Math.min(f,E);$<C;++$)if(u[$]!==c[$]){f=u[$],E=c[$];break}return f<E?-1:E<f?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,c){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);let f;if(c===void 0)for(c=0,f=0;f<u.length;++f)c+=u[f].length;const E=a.allocUnsafe(c);let $=0;for(f=0;f<u.length;++f){let C=u[f];if(He(C,Uint8Array))$+C.length>E.length?(a.isBuffer(C)||(C=a.from(C)),C.copy(E,$)):Uint8Array.prototype.set.call(E,C,$);else if(a.isBuffer(C))C.copy(E,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=C.length}return E};function k(u,c){if(a.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||He(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);const f=u.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&f===0)return 0;let $=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return Ce(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Fe(u).length;default:if($)return E?-1:Ce(u).length;c=(""+c).toLowerCase(),$=!0}}a.byteLength=k;function j(u,c,f){let E=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,c>>>=0,f<=c))return"";for(u||(u="utf8");;)switch(u){case"hex":return M(this,c,f);case"utf8":case"utf-8":return d(this,c,f);case"ascii":return T(this,c,f);case"latin1":case"binary":return O(this,c,f);case"base64":return B(this,c,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,c,f);default:if(E)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),E=!0}}a.prototype._isBuffer=!0;function N(u,c,f){const E=u[c];u[c]=u[f],u[f]=E}a.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let c=0;c<u;c+=2)N(this,c,c+1);return this},a.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let c=0;c<u;c+=4)N(this,c,c+3),N(this,c+1,c+2);return this},a.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let c=0;c<u;c+=8)N(this,c,c+7),N(this,c+1,c+6),N(this,c+2,c+5),N(this,c+3,c+4);return this},a.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?d(this,0,u):j.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){let u="";const c=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(u+=" ... "),"<Buffer "+u+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(u,c,f,E,$){if(He(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(c===void 0&&(c=0),f===void 0&&(f=u?u.length:0),E===void 0&&(E=0),$===void 0&&($=this.length),c<0||f>u.length||E<0||$>this.length)throw new RangeError("out of range index");if(E>=$&&c>=f)return 0;if(E>=$)return-1;if(c>=f)return 1;if(c>>>=0,f>>>=0,E>>>=0,$>>>=0,this===u)return 0;let C=$-E,F=f-c;const ae=Math.min(C,F),ce=this.slice(E,$),re=u.slice(c,f);for(let ye=0;ye<ae;++ye)if(ce[ye]!==re[ye]){C=ce[ye],F=re[ye];break}return C<F?-1:F<C?1:0};function Z(u,c,f,E,$){if(u.length===0)return-1;if(typeof f=="string"?(E=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Me(f)&&(f=$?0:u.length-1),f<0&&(f=u.length+f),f>=u.length){if($)return-1;f=u.length-1}else if(f<0)if($)f=0;else return-1;if(typeof c=="string"&&(c=a.from(c,E)),a.isBuffer(c))return c.length===0?-1:Y(u,c,f,E,$);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(u,c,f):Uint8Array.prototype.lastIndexOf.call(u,c,f):Y(u,[c],f,E,$);throw new TypeError("val must be string, number or Buffer")}function Y(u,c,f,E,$){let C=1,F=u.length,ae=c.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(u.length<2||c.length<2)return-1;C=2,F/=2,ae/=2,f/=2}function ce(ye,oe){return C===1?ye[oe]:ye.readUInt16BE(oe*C)}let re;if($){let ye=-1;for(re=f;re<F;re++)if(ce(u,re)===ce(c,ye===-1?0:re-ye)){if(ye===-1&&(ye=re),re-ye+1===ae)return ye*C}else ye!==-1&&(re-=re-ye),ye=-1}else for(f+ae>F&&(f=F-ae),re=f;re>=0;re--){let ye=!0;for(let oe=0;oe<ae;oe++)if(ce(u,re+oe)!==ce(c,oe)){ye=!1;break}if(ye)return re}return-1}a.prototype.includes=function(u,c,f){return this.indexOf(u,c,f)!==-1},a.prototype.indexOf=function(u,c,f){return Z(this,u,c,f,!0)},a.prototype.lastIndexOf=function(u,c,f){return Z(this,u,c,f,!1)};function ne(u,c,f,E){f=Number(f)||0;const $=u.length-f;E?(E=Number(E),E>$&&(E=$)):E=$;const C=c.length;E>C/2&&(E=C/2);let F;for(F=0;F<E;++F){const ae=parseInt(c.substr(F*2,2),16);if(Me(ae))return F;u[f+F]=ae}return F}function G(u,c,f,E){return Te(Ce(c,u.length-f),u,f,E)}function Q(u,c,f,E){return Te(De(c),u,f,E)}function K(u,c,f,E){return Te(Fe(c),u,f,E)}function X(u,c,f,E){return Te(Nr(c,u.length-f),u,f,E)}a.prototype.write=function(u,c,f,E){if(c===void 0)E="utf8",f=this.length,c=0;else if(f===void 0&&typeof c=="string")E=c,f=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(f)?(f=f>>>0,E===void 0&&(E="utf8")):(E=f,f=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-c;if((f===void 0||f>$)&&(f=$),u.length>0&&(f<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");let C=!1;for(;;)switch(E){case"hex":return ne(this,u,c,f);case"utf8":case"utf-8":return G(this,u,c,f);case"ascii":case"latin1":case"binary":return Q(this,u,c,f);case"base64":return K(this,u,c,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,u,c,f);default:if(C)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),C=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(u,c,f){return c===0&&f===u.length?t.fromByteArray(u):t.fromByteArray(u.slice(c,f))}function d(u,c,f){f=Math.min(u.length,f);const E=[];let $=c;for(;$<f;){const C=u[$];let F=null,ae=C>239?4:C>223?3:C>191?2:1;if($+ae<=f){let ce,re,ye,oe;switch(ae){case 1:C<128&&(F=C);break;case 2:ce=u[$+1],(ce&192)===128&&(oe=(C&31)<<6|ce&63,oe>127&&(F=oe));break;case 3:ce=u[$+1],re=u[$+2],(ce&192)===128&&(re&192)===128&&(oe=(C&15)<<12|(ce&63)<<6|re&63,oe>2047&&(oe<55296||oe>57343)&&(F=oe));break;case 4:ce=u[$+1],re=u[$+2],ye=u[$+3],(ce&192)===128&&(re&192)===128&&(ye&192)===128&&(oe=(C&15)<<18|(ce&63)<<12|(re&63)<<6|ye&63,oe>65535&&oe<1114112&&(F=oe))}}F===null?(F=65533,ae=1):F>65535&&(F-=65536,E.push(F>>>10&1023|55296),F=56320|F&1023),E.push(F),$+=ae}return A(E)}const v=4096;function A(u){const c=u.length;if(c<=v)return String.fromCharCode.apply(String,u);let f="",E=0;for(;E<c;)f+=String.fromCharCode.apply(String,u.slice(E,E+=v));return f}function T(u,c,f){let E="";f=Math.min(u.length,f);for(let $=c;$<f;++$)E+=String.fromCharCode(u[$]&127);return E}function O(u,c,f){let E="";f=Math.min(u.length,f);for(let $=c;$<f;++$)E+=String.fromCharCode(u[$]);return E}function M(u,c,f){const E=u.length;(!c||c<0)&&(c=0),(!f||f<0||f>E)&&(f=E);let $="";for(let C=c;C<f;++C)$+=qe[u[C]];return $}function b(u,c,f){const E=u.slice(c,f);let $="";for(let C=0;C<E.length-1;C+=2)$+=String.fromCharCode(E[C]+E[C+1]*256);return $}a.prototype.slice=function(u,c){const f=this.length;u=~~u,c=c===void 0?f:~~c,u<0?(u+=f,u<0&&(u=0)):u>f&&(u=f),c<0?(c+=f,c<0&&(c=0)):c>f&&(c=f),c<u&&(c=u);const E=this.subarray(u,c);return Object.setPrototypeOf(E,a.prototype),E};function x(u,c,f){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+c>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(u,c,f){u=u>>>0,c=c>>>0,f||x(u,c,this.length);let E=this[u],$=1,C=0;for(;++C<c&&($*=256);)E+=this[u+C]*$;return E},a.prototype.readUintBE=a.prototype.readUIntBE=function(u,c,f){u=u>>>0,c=c>>>0,f||x(u,c,this.length);let E=this[u+--c],$=1;for(;c>0&&($*=256);)E+=this[u+--c]*$;return E},a.prototype.readUint8=a.prototype.readUInt8=function(u,c){return u=u>>>0,c||x(u,1,this.length),this[u]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(u,c){return u=u>>>0,c||x(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(u,c){return u=u>>>0,c||x(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(u,c){return u=u>>>0,c||x(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(u,c){return u=u>>>0,c||x(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readBigUInt64LE=tt(function(u){u=u>>>0,xt(u,"offset");const c=this[u],f=this[u+7];(c===void 0||f===void 0)&&_e(u,this.length-8);const E=c+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,$=this[++u]+this[++u]*2**8+this[++u]*2**16+f*2**24;return BigInt(E)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=tt(function(u){u=u>>>0,xt(u,"offset");const c=this[u],f=this[u+7];(c===void 0||f===void 0)&&_e(u,this.length-8);const E=c*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],$=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+f;return(BigInt(E)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(u,c,f){u=u>>>0,c=c>>>0,f||x(u,c,this.length);let E=this[u],$=1,C=0;for(;++C<c&&($*=256);)E+=this[u+C]*$;return $*=128,E>=$&&(E-=Math.pow(2,8*c)),E},a.prototype.readIntBE=function(u,c,f){u=u>>>0,c=c>>>0,f||x(u,c,this.length);let E=c,$=1,C=this[u+--E];for(;E>0&&($*=256);)C+=this[u+--E]*$;return $*=128,C>=$&&(C-=Math.pow(2,8*c)),C},a.prototype.readInt8=function(u,c){return u=u>>>0,c||x(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,c){u=u>>>0,c||x(u,2,this.length);const f=this[u]|this[u+1]<<8;return f&32768?f|4294901760:f},a.prototype.readInt16BE=function(u,c){u=u>>>0,c||x(u,2,this.length);const f=this[u+1]|this[u]<<8;return f&32768?f|4294901760:f},a.prototype.readInt32LE=function(u,c){return u=u>>>0,c||x(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,c){return u=u>>>0,c||x(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readBigInt64LE=tt(function(u){u=u>>>0,xt(u,"offset");const c=this[u],f=this[u+7];(c===void 0||f===void 0)&&_e(u,this.length-8);const E=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(f<<24);return(BigInt(E)<<BigInt(32))+BigInt(c+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),a.prototype.readBigInt64BE=tt(function(u){u=u>>>0,xt(u,"offset");const c=this[u],f=this[u+7];(c===void 0||f===void 0)&&_e(u,this.length-8);const E=(c<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(E)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+f)}),a.prototype.readFloatLE=function(u,c){return u=u>>>0,c||x(u,4,this.length),n.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,c){return u=u>>>0,c||x(u,4,this.length),n.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,c){return u=u>>>0,c||x(u,8,this.length),n.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,c){return u=u>>>0,c||x(u,8,this.length),n.read(this,u,!1,52,8)};function y(u,c,f,E,$,C){if(!a.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>$||c<C)throw new RangeError('"value" argument is out of bounds');if(f+E>u.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(u,c,f,E){if(u=+u,c=c>>>0,f=f>>>0,!E){const F=Math.pow(2,8*f)-1;y(this,u,c,f,F,0)}let $=1,C=0;for(this[c]=u&255;++C<f&&($*=256);)this[c+C]=u/$&255;return c+f},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(u,c,f,E){if(u=+u,c=c>>>0,f=f>>>0,!E){const F=Math.pow(2,8*f)-1;y(this,u,c,f,F,0)}let $=f-1,C=1;for(this[c+$]=u&255;--$>=0&&(C*=256);)this[c+$]=u/C&255;return c+f},a.prototype.writeUint8=a.prototype.writeUInt8=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,1,255,0),this[c]=u&255,c+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,2,65535,0),this[c]=u&255,this[c+1]=u>>>8,c+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,2,65535,0),this[c]=u>>>8,this[c+1]=u&255,c+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,4,4294967295,0),this[c+3]=u>>>24,this[c+2]=u>>>16,this[c+1]=u>>>8,this[c]=u&255,c+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,4,4294967295,0),this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255,c+4};function _(u,c,f,E,$){Oe(c,E,$,u,f,7);let C=Number(c&BigInt(4294967295));u[f++]=C,C=C>>8,u[f++]=C,C=C>>8,u[f++]=C,C=C>>8,u[f++]=C;let F=Number(c>>BigInt(32)&BigInt(4294967295));return u[f++]=F,F=F>>8,u[f++]=F,F=F>>8,u[f++]=F,F=F>>8,u[f++]=F,f}function z(u,c,f,E,$){Oe(c,E,$,u,f,7);let C=Number(c&BigInt(4294967295));u[f+7]=C,C=C>>8,u[f+6]=C,C=C>>8,u[f+5]=C,C=C>>8,u[f+4]=C;let F=Number(c>>BigInt(32)&BigInt(4294967295));return u[f+3]=F,F=F>>8,u[f+2]=F,F=F>>8,u[f+1]=F,F=F>>8,u[f]=F,f+8}a.prototype.writeBigUInt64LE=tt(function(u,c=0){return _(this,u,c,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=tt(function(u,c=0){return z(this,u,c,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(u,c,f,E){if(u=+u,c=c>>>0,!E){const ae=Math.pow(2,8*f-1);y(this,u,c,f,ae-1,-ae)}let $=0,C=1,F=0;for(this[c]=u&255;++$<f&&(C*=256);)u<0&&F===0&&this[c+$-1]!==0&&(F=1),this[c+$]=(u/C>>0)-F&255;return c+f},a.prototype.writeIntBE=function(u,c,f,E){if(u=+u,c=c>>>0,!E){const ae=Math.pow(2,8*f-1);y(this,u,c,f,ae-1,-ae)}let $=f-1,C=1,F=0;for(this[c+$]=u&255;--$>=0&&(C*=256);)u<0&&F===0&&this[c+$+1]!==0&&(F=1),this[c+$]=(u/C>>0)-F&255;return c+f},a.prototype.writeInt8=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,1,127,-128),u<0&&(u=255+u+1),this[c]=u&255,c+1},a.prototype.writeInt16LE=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,2,32767,-32768),this[c]=u&255,this[c+1]=u>>>8,c+2},a.prototype.writeInt16BE=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,2,32767,-32768),this[c]=u>>>8,this[c+1]=u&255,c+2},a.prototype.writeInt32LE=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,4,2147483647,-2147483648),this[c]=u&255,this[c+1]=u>>>8,this[c+2]=u>>>16,this[c+3]=u>>>24,c+4},a.prototype.writeInt32BE=function(u,c,f){return u=+u,c=c>>>0,f||y(this,u,c,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255,c+4},a.prototype.writeBigInt64LE=tt(function(u,c=0){return _(this,u,c,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=tt(function(u,c=0){return z(this,u,c,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(u,c,f,E,$,C){if(f+E>u.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function H(u,c,f,E,$){return c=+c,f=f>>>0,$||V(u,c,f,4),n.write(u,c,f,E,23,4),f+4}a.prototype.writeFloatLE=function(u,c,f){return H(this,u,c,!0,f)},a.prototype.writeFloatBE=function(u,c,f){return H(this,u,c,!1,f)};function ue(u,c,f,E,$){return c=+c,f=f>>>0,$||V(u,c,f,8),n.write(u,c,f,E,52,8),f+8}a.prototype.writeDoubleLE=function(u,c,f){return ue(this,u,c,!0,f)},a.prototype.writeDoubleBE=function(u,c,f){return ue(this,u,c,!1,f)},a.prototype.copy=function(u,c,f,E){if(!a.isBuffer(u))throw new TypeError("argument should be a Buffer");if(f||(f=0),!E&&E!==0&&(E=this.length),c>=u.length&&(c=u.length),c||(c=0),E>0&&E<f&&(E=f),E===f||u.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(f<0||f>=this.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),u.length-c<E-f&&(E=u.length-c+f);const $=E-f;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(c,f,E):Uint8Array.prototype.set.call(u,this.subarray(f,E),c),$},a.prototype.fill=function(u,c,f,E){if(typeof u=="string"){if(typeof c=="string"?(E=c,c=0,f=this.length):typeof f=="string"&&(E=f,f=this.length),E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E);if(u.length===1){const C=u.charCodeAt(0);(E==="utf8"&&C<128||E==="latin1")&&(u=C)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(c<0||this.length<c||this.length<f)throw new RangeError("Out of range index");if(f<=c)return this;c=c>>>0,f=f===void 0?this.length:f>>>0,u||(u=0);let $;if(typeof u=="number")for($=c;$<f;++$)this[$]=u;else{const C=a.isBuffer(u)?u:a.from(u,E),F=C.length;if(F===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for($=0;$<f-c;++$)this[$+c]=C[$%F]}return this};const J={};function le(u,c,f){J[u]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code(E){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:E,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(u,c){return`The "${u}" argument must be of type number. Received type ${typeof c}`},TypeError),le("ERR_OUT_OF_RANGE",function(u,c,f){let E=`The value of "${u}" is out of range.`,$=f;return Number.isInteger(f)&&Math.abs(f)>2**32?$=Le(String(f)):typeof f=="bigint"&&($=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&($=Le($)),$+="n"),E+=` It must be ${c}. Received ${$}`,E},RangeError);function Le(u){let c="",f=u.length;const E=u[0]==="-"?1:0;for(;f>=E+4;f-=3)c=`_${u.slice(f-3,f)}${c}`;return`${u.slice(0,f)}${c}`}function Pe(u,c,f){xt(c,"offset"),(u[c]===void 0||u[c+f]===void 0)&&_e(c,u.length-(f+1))}function Oe(u,c,f,E,$,C){if(u>f||u<c){const F=typeof c=="bigint"?"n":"";let ae;throw c===0||c===BigInt(0)?ae=`>= 0${F} and < 2${F} ** ${(C+1)*8}${F}`:ae=`>= -(2${F} ** ${(C+1)*8-1}${F}) and < 2 ** ${(C+1)*8-1}${F}`,new J.ERR_OUT_OF_RANGE("value",ae,u)}Pe(E,$,C)}function xt(u,c){if(typeof u!="number")throw new J.ERR_INVALID_ARG_TYPE(c,"number",u)}function _e(u,c,f){throw Math.floor(u)!==u?(xt(u,f),new J.ERR_OUT_OF_RANGE("offset","an integer",u)):c<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${c}`,u)}const ze=/[^+/0-9A-Za-z-_]/g;function Fr(u){if(u=u.split("=")[0],u=u.trim().replace(ze,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}function Ce(u,c){c=c||1/0;let f;const E=u.length;let $=null;const C=[];for(let F=0;F<E;++F){if(f=u.charCodeAt(F),f>55295&&f<57344){if(!$){if(f>56319){(c-=3)>-1&&C.push(239,191,189);continue}else if(F+1===E){(c-=3)>-1&&C.push(239,191,189);continue}$=f;continue}if(f<56320){(c-=3)>-1&&C.push(239,191,189),$=f;continue}f=($-55296<<10|f-56320)+65536}else $&&(c-=3)>-1&&C.push(239,191,189);if($=null,f<128){if((c-=1)<0)break;C.push(f)}else if(f<2048){if((c-=2)<0)break;C.push(f>>6|192,f&63|128)}else if(f<65536){if((c-=3)<0)break;C.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((c-=4)<0)break;C.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return C}function De(u){const c=[];for(let f=0;f<u.length;++f)c.push(u.charCodeAt(f)&255);return c}function Nr(u,c){let f,E,$;const C=[];for(let F=0;F<u.length&&!((c-=2)<0);++F)f=u.charCodeAt(F),E=f>>8,$=f%256,C.push($),C.push(E);return C}function Fe(u){return t.toByteArray(Fr(u))}function Te(u,c,f,E){let $;for($=0;$<E&&!($+f>=c.length||$>=u.length);++$)c[$+f]=u[$];return $}function He(u,c){return u instanceof c||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===c.name}function Me(u){return u!==u}const qe=function(){const u="0123456789abcdef",c=new Array(256);for(let f=0;f<16;++f){const E=f*16;for(let $=0;$<16;++$)c[E+$]=u[f]+u[$]}return c}();function tt(u){return typeof BigInt>"u"?Ge:u}function Ge(){throw new Error("BigInt not supported")}}(Aa)),Aa}var Vr=Tv();function Pv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ba={exports:{}},_a={exports:{}},Hl;function Ov(){return Hl||(Hl=1,function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],o=0,i=0;o<n.length;o++,i+=8)r[i>>>5]|=n[o]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],o=0;o<n.length*32;o+=8)r.push(n[o>>>5]>>>24-o%32&255);return r},bytesToHex:function(n){for(var r=[],o=0;o<n.length;o++)r.push((n[o]>>>4).toString(16)),r.push((n[o]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],o=0;o<n.length;o+=2)r.push(parseInt(n.substr(o,2),16));return r},bytesToBase64:function(n){for(var r=[],o=0;o<n.length;o+=3)for(var i=n[o]<<16|n[o+1]<<8|n[o+2],s=0;s<4;s++)o*8+s*6<=n.length*8?r.push(e.charAt(i>>>6*(3-s)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],o=0,i=0;o<n.length;i=++o%4)i!=0&&r.push((e.indexOf(n.charAt(o-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(o))>>>6-i*2);return r}};_a.exports=t}()),_a.exports}var Ia,ql;function Gl(){if(ql)return Ia;ql=1;var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r)&255);return n},bytesToString:function(t){for(var n=[],r=0;r<t.length;r++)n.push(String.fromCharCode(t[r]));return n.join("")}}};return Ia=e,Ia}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var $a,Vl;function Rv(){if(Vl)return $a;Vl=1,$a=function(n){return n!=null&&(e(n)||t(n)||!!n._isBuffer)};function e(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function t(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&e(n.slice(0,0))}return $a}var Kl;function Cv(){return Kl||(Kl=1,function(){var e=Ov(),t=Gl().utf8,n=Rv(),r=Gl().bin,o=function(i,s){i.constructor==String?s&&s.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var a=e.bytesToWords(i),l=i.length*8,h=1732584193,p=-271733879,m=-1732584194,g=271733878,w=0;w<a.length;w++)a[w]=(a[w]<<8|a[w]>>>24)&16711935|(a[w]<<24|a[w]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var S=o._ff,I=o._gg,P=o._hh,R=o._ii,w=0;w<a.length;w+=16){var U=h,k=p,j=m,N=g;h=S(h,p,m,g,a[w+0],7,-680876936),g=S(g,h,p,m,a[w+1],12,-389564586),m=S(m,g,h,p,a[w+2],17,606105819),p=S(p,m,g,h,a[w+3],22,-1044525330),h=S(h,p,m,g,a[w+4],7,-176418897),g=S(g,h,p,m,a[w+5],12,1200080426),m=S(m,g,h,p,a[w+6],17,-1473231341),p=S(p,m,g,h,a[w+7],22,-45705983),h=S(h,p,m,g,a[w+8],7,1770035416),g=S(g,h,p,m,a[w+9],12,-1958414417),m=S(m,g,h,p,a[w+10],17,-42063),p=S(p,m,g,h,a[w+11],22,-1990404162),h=S(h,p,m,g,a[w+12],7,1804603682),g=S(g,h,p,m,a[w+13],12,-40341101),m=S(m,g,h,p,a[w+14],17,-1502002290),p=S(p,m,g,h,a[w+15],22,1236535329),h=I(h,p,m,g,a[w+1],5,-165796510),g=I(g,h,p,m,a[w+6],9,-1069501632),m=I(m,g,h,p,a[w+11],14,643717713),p=I(p,m,g,h,a[w+0],20,-373897302),h=I(h,p,m,g,a[w+5],5,-701558691),g=I(g,h,p,m,a[w+10],9,38016083),m=I(m,g,h,p,a[w+15],14,-660478335),p=I(p,m,g,h,a[w+4],20,-405537848),h=I(h,p,m,g,a[w+9],5,568446438),g=I(g,h,p,m,a[w+14],9,-1019803690),m=I(m,g,h,p,a[w+3],14,-187363961),p=I(p,m,g,h,a[w+8],20,1163531501),h=I(h,p,m,g,a[w+13],5,-1444681467),g=I(g,h,p,m,a[w+2],9,-51403784),m=I(m,g,h,p,a[w+7],14,1735328473),p=I(p,m,g,h,a[w+12],20,-1926607734),h=P(h,p,m,g,a[w+5],4,-378558),g=P(g,h,p,m,a[w+8],11,-2022574463),m=P(m,g,h,p,a[w+11],16,1839030562),p=P(p,m,g,h,a[w+14],23,-35309556),h=P(h,p,m,g,a[w+1],4,-1530992060),g=P(g,h,p,m,a[w+4],11,1272893353),m=P(m,g,h,p,a[w+7],16,-155497632),p=P(p,m,g,h,a[w+10],23,-1094730640),h=P(h,p,m,g,a[w+13],4,681279174),g=P(g,h,p,m,a[w+0],11,-358537222),m=P(m,g,h,p,a[w+3],16,-722521979),p=P(p,m,g,h,a[w+6],23,76029189),h=P(h,p,m,g,a[w+9],4,-640364487),g=P(g,h,p,m,a[w+12],11,-421815835),m=P(m,g,h,p,a[w+15],16,530742520),p=P(p,m,g,h,a[w+2],23,-995338651),h=R(h,p,m,g,a[w+0],6,-198630844),g=R(g,h,p,m,a[w+7],10,1126891415),m=R(m,g,h,p,a[w+14],15,-1416354905),p=R(p,m,g,h,a[w+5],21,-57434055),h=R(h,p,m,g,a[w+12],6,1700485571),g=R(g,h,p,m,a[w+3],10,-1894986606),m=R(m,g,h,p,a[w+10],15,-1051523),p=R(p,m,g,h,a[w+1],21,-2054922799),h=R(h,p,m,g,a[w+8],6,1873313359),g=R(g,h,p,m,a[w+15],10,-30611744),m=R(m,g,h,p,a[w+6],15,-1560198380),p=R(p,m,g,h,a[w+13],21,1309151649),h=R(h,p,m,g,a[w+4],6,-145523070),g=R(g,h,p,m,a[w+11],10,-1120210379),m=R(m,g,h,p,a[w+2],15,718787259),p=R(p,m,g,h,a[w+9],21,-343485551),h=h+U>>>0,p=p+k>>>0,m=m+j>>>0,g=g+N>>>0}return e.endian([h,p,m,g])};o._ff=function(i,s,a,l,h,p,m){var g=i+(s&a|~s&l)+(h>>>0)+m;return(g<<p|g>>>32-p)+s},o._gg=function(i,s,a,l,h,p,m){var g=i+(s&l|a&~l)+(h>>>0)+m;return(g<<p|g>>>32-p)+s},o._hh=function(i,s,a,l,h,p,m){var g=i+(s^a^l)+(h>>>0)+m;return(g<<p|g>>>32-p)+s},o._ii=function(i,s,a,l,h,p,m){var g=i+(a^(s|~l))+(h>>>0)+m;return(g<<p|g>>>32-p)+s},o._blocksize=16,o._digestsize=16,Ba.exports=function(i,s){if(i==null)throw new Error("Illegal argument "+i);var a=e.wordsToBytes(o(i,s));return s&&s.asBytes?a:s&&s.asString?r.bytesToString(a):e.bytesToHex(a)}}()),Ba.exports}var Mv=Cv();const kv=Pv(Mv);var Wl={};function Uv(){try{return typeof navigator<"u"&&navigator.product==="ReactNative"}catch{return!1}}function Fv(){try{if(typeof window>"u")return typeof process<"u"&&Wl&&"__NEXT_PROCESSED_ENV"in Wl;const e=window;return!!(e.__NEXT_DATA__||e.next||document.getElementById("__next"))}catch{return!1}}function Nv(){try{if(typeof window>"u")return!1;const e=window;return!!(e.__VUE__||e.__VUE_DEVTOOLS_GLOBAL_HOOK__||document.querySelector("[data-v-]"))}catch{return!1}}function jv(){try{if(typeof window>"u")return!1;const e=window;return e.__REACT_DEVTOOLS_GLOBAL_HOOK__||e.React?!0:!!document.querySelector("[data-reactroot], [data-reactid], ._reactRoot, ._reactRootContainer")}catch{return!1}}function Lv(){return jv()?"react":Uv()?"react-native":Fv()?"nextjs":Nv()?"vue":"unknown"}let Ta=null;function zv(){return Ta===null&&(Ta=Lv()),Ta}const Dv="1f8d3e558f493e38a037dbfadb8ba344",Hv="d473b1dcc969105adab157226cd9cf63",Pa=Symbol.for("@coinbase/cdp-analytics");function qv(){const e=globalThis;return e[Pa]||(e[Pa]={identifier:"",enabled:!0,isProduction:!1,isUsingMocks:!1,sendEvent:Ii,sendActionCallEvent:t=>Ii({...t,type:"action_call"}),sendHookCallEvent:t=>Ii({...t,type:"hook_call"}),sendComponentCallEvent:t=>Ii({...t,type:"component_call"}),versionRegistry:{},registerPackageVersion:(t,n)=>{ge.versionRegistry[t]=n}}),e[Pa]}const ge=qv();async function Ii(e){if(!ge.enabled||!ge.identifier)return;const t=Date.now(),n=[{user_id:ge.identifier,event_type:e.type,platform:Cp()?"web":"native",timestamp:t,event_properties:{project_name:"cdp-embedded-wallet",framework:zv(),isLocalHost:Gv(),isUsingMocks:ge.isUsingMocks,package_versions:ge.versionRegistry,...e}}],r=JSON.stringify(n),o=t.toString(),i=kv(r+o),s={client:ge.isProduction?Hv:Dv,e:r,checksum:i};await fetch("https://cca-lite.coinbase.com/amp",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}function Cp(){return typeof window<"u"&&typeof document<"u"}function Gv(){return Cp()?window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1":!1}var Oa={exports:{}},Ee={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Zl;function Vv(){if(Zl)return Ee;Zl=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(b){return b===null||typeof b!="object"?null:(b=m&&b[m]||b["@@iterator"],typeof b=="function"?b:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function P(b,x,y){this.props=b,this.context=x,this.refs=I,this.updater=y||w}P.prototype.isReactComponent={},P.prototype.setState=function(b,x){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,x,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function R(){}R.prototype=P.prototype;function U(b,x,y){this.props=b,this.context=x,this.refs=I,this.updater=y||w}var k=U.prototype=new R;k.constructor=U,S(k,P.prototype),k.isPureReactComponent=!0;var j=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function Y(b,x,y,_,z,V){return y=V.ref,{$$typeof:e,type:b,key:x,ref:y!==void 0?y:null,props:V}}function ne(b,x){return Y(b.type,x,void 0,void 0,void 0,b.props)}function G(b){return typeof b=="object"&&b!==null&&b.$$typeof===e}function Q(b){var x={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(y){return x[y]})}var K=/\/+/g;function X(b,x){return typeof b=="object"&&b!==null&&b.key!=null?Q(""+b.key):x.toString(36)}function B(){}function d(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(B,B):(b.status="pending",b.then(function(x){b.status==="pending"&&(b.status="fulfilled",b.value=x)},function(x){b.status==="pending"&&(b.status="rejected",b.reason=x)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function v(b,x,y,_,z){var V=typeof b;(V==="undefined"||V==="boolean")&&(b=null);var H=!1;if(b===null)H=!0;else switch(V){case"bigint":case"string":case"number":H=!0;break;case"object":switch(b.$$typeof){case e:case t:H=!0;break;case p:return H=b._init,v(H(b._payload),x,y,_,z)}}if(H)return z=z(b),H=_===""?"."+X(b,0):_,j(z)?(y="",H!=null&&(y=H.replace(K,"$&/")+"/"),v(z,x,y,"",function(le){return le})):z!=null&&(G(z)&&(z=ne(z,y+(z.key==null||b&&b.key===z.key?"":(""+z.key).replace(K,"$&/")+"/")+H)),x.push(z)),1;H=0;var ue=_===""?".":_+":";if(j(b))for(var J=0;J<b.length;J++)_=b[J],V=ue+X(_,J),H+=v(_,x,y,V,z);else if(J=g(b),typeof J=="function")for(b=J.call(b),J=0;!(_=b.next()).done;)_=_.value,V=ue+X(_,J++),H+=v(_,x,y,V,z);else if(V==="object"){if(typeof b.then=="function")return v(d(b),x,y,_,z);throw x=String(b),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.")}return H}function A(b,x,y){if(b==null)return b;var _=[],z=0;return v(b,_,"","",function(V){return x.call(y,V,z++)}),_}function T(b){if(b._status===-1){var x=b._result;x=x(),x.then(function(y){(b._status===0||b._status===-1)&&(b._status=1,b._result=y)},function(y){(b._status===0||b._status===-1)&&(b._status=2,b._result=y)}),b._status===-1&&(b._status=0,b._result=x)}if(b._status===1)return b._result.default;throw b._result}var O=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function M(){}return Ee.Children={map:A,forEach:function(b,x,y){A(b,function(){x.apply(this,arguments)},y)},count:function(b){var x=0;return A(b,function(){x++}),x},toArray:function(b){return A(b,function(x){return x})||[]},only:function(b){if(!G(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ee.Component=P,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=U,Ee.StrictMode=r,Ee.Suspense=l,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(b){return N.H.useMemoCache(b)}},Ee.cache=function(b){return function(){return b.apply(null,arguments)}},Ee.cloneElement=function(b,x,y){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var _=S({},b.props),z=b.key,V=void 0;if(x!=null)for(H in x.ref!==void 0&&(V=void 0),x.key!==void 0&&(z=""+x.key),x)!Z.call(x,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&x.ref===void 0||(_[H]=x[H]);var H=arguments.length-2;if(H===1)_.children=y;else if(1<H){for(var ue=Array(H),J=0;J<H;J++)ue[J]=arguments[J+2];_.children=ue}return Y(b.type,z,void 0,void 0,V,_)},Ee.createContext=function(b){return b={$$typeof:s,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:i,_context:b},b},Ee.createElement=function(b,x,y){var _,z={},V=null;if(x!=null)for(_ in x.key!==void 0&&(V=""+x.key),x)Z.call(x,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(z[_]=x[_]);var H=arguments.length-2;if(H===1)z.children=y;else if(1<H){for(var ue=Array(H),J=0;J<H;J++)ue[J]=arguments[J+2];z.children=ue}if(b&&b.defaultProps)for(_ in H=b.defaultProps,H)z[_]===void 0&&(z[_]=H[_]);return Y(b,V,void 0,void 0,null,z)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(b){return{$$typeof:a,render:b}},Ee.isValidElement=G,Ee.lazy=function(b){return{$$typeof:p,_payload:{_status:-1,_result:b},_init:T}},Ee.memo=function(b,x){return{$$typeof:h,type:b,compare:x===void 0?null:x}},Ee.startTransition=function(b){var x=N.T,y={};N.T=y;try{var _=b(),z=N.S;z!==null&&z(y,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(M,O)}catch(V){O(V)}finally{N.T=x}},Ee.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ee.use=function(b){return N.H.use(b)},Ee.useActionState=function(b,x,y){return N.H.useActionState(b,x,y)},Ee.useCallback=function(b,x){return N.H.useCallback(b,x)},Ee.useContext=function(b){return N.H.useContext(b)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(b,x){return N.H.useDeferredValue(b,x)},Ee.useEffect=function(b,x,y){var _=N.H;if(typeof y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _.useEffect(b,x)},Ee.useId=function(){return N.H.useId()},Ee.useImperativeHandle=function(b,x,y){return N.H.useImperativeHandle(b,x,y)},Ee.useInsertionEffect=function(b,x){return N.H.useInsertionEffect(b,x)},Ee.useLayoutEffect=function(b,x){return N.H.useLayoutEffect(b,x)},Ee.useMemo=function(b,x){return N.H.useMemo(b,x)},Ee.useOptimistic=function(b,x){return N.H.useOptimistic(b,x)},Ee.useReducer=function(b,x,y){return N.H.useReducer(b,x,y)},Ee.useRef=function(b){return N.H.useRef(b)},Ee.useState=function(b){return N.H.useState(b)},Ee.useSyncExternalStore=function(b,x,y){return N.H.useSyncExternalStore(b,x,y)},Ee.useTransition=function(){return N.H.useTransition()},Ee.version="19.1.0",Ee}var Jl;function Kv(){return Jl||(Jl=1,Oa.exports=Vv()),Oa.exports}Kv();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qu(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Xe={},Ss={};Ss.byteLength=Jv;Ss.toByteArray=Yv;Ss.fromByteArray=tx;var bn=[],Zt=[],Wv=typeof Uint8Array<"u"?Uint8Array:Array,Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Dr=0,Zv=Ra.length;Dr<Zv;++Dr)bn[Dr]=Ra[Dr],Zt[Ra.charCodeAt(Dr)]=Dr;Zt[45]=62;Zt[95]=63;function kp(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function Jv(e){var t=kp(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Xv(e,t,n){return(t+n)*3/4-n}function Yv(e){var t,n=kp(e),r=n[0],o=n[1],i=new Wv(Xv(e,r,o)),s=0,a=o>0?r-4:r,l;for(l=0;l<a;l+=4)t=Zt[e.charCodeAt(l)]<<18|Zt[e.charCodeAt(l+1)]<<12|Zt[e.charCodeAt(l+2)]<<6|Zt[e.charCodeAt(l+3)],i[s++]=t>>16&255,i[s++]=t>>8&255,i[s++]=t&255;return o===2&&(t=Zt[e.charCodeAt(l)]<<2|Zt[e.charCodeAt(l+1)]>>4,i[s++]=t&255),o===1&&(t=Zt[e.charCodeAt(l)]<<10|Zt[e.charCodeAt(l+1)]<<4|Zt[e.charCodeAt(l+2)]>>2,i[s++]=t>>8&255,i[s++]=t&255),i}function Qv(e){return bn[e>>18&63]+bn[e>>12&63]+bn[e>>6&63]+bn[e&63]}function ex(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(Qv(r));return o.join("")}function tx(e){for(var t,n=e.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(ex(e,s,s+i>a?a:s+i));return r===1?(t=e[n-1],o.push(bn[t>>2]+bn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],o.push(bn[t>>10]+bn[t>>4&63]+bn[t<<2&63]+"=")),o.join("")}var Gu={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Gu.read=function(e,t,n,r,o){var i,s,a=o*8-r-1,l=(1<<a)-1,h=l>>1,p=-7,m=n?o-1:0,g=n?-1:1,w=e[t+m];for(m+=g,i=w&(1<<-p)-1,w>>=-p,p+=a;p>0;i=i*256+e[t+m],m+=g,p-=8);for(s=i&(1<<-p)-1,i>>=-p,p+=r;p>0;s=s*256+e[t+m],m+=g,p-=8);if(i===0)i=1-h;else{if(i===l)return s?NaN:(w?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-h}return(w?-1:1)*s*Math.pow(2,i-r)};Gu.write=function(e,t,n,r,o,i){var s,a,l,h=i*8-o-1,p=(1<<h)-1,m=p>>1,g=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:i-1,S=r?1:-1,I=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=p):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+m>=1?t+=g/l:t+=g*Math.pow(2,1-m),t*l>=2&&(s++,l/=2),s+m>=p?(a=0,s=p):s+m>=1?(a=(t*l-1)*Math.pow(2,o),s=s+m):(a=t*Math.pow(2,m-1)*Math.pow(2,o),s=0));o>=8;e[n+w]=a&255,w+=S,a/=256,o-=8);for(s=s<<o|a,h+=o;h>0;e[n+w]=s&255,w+=S,s/=256,h-=8);e[n+w-S]|=I*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Ss,n=Gu,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=U,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const u=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(u,c),u.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(u){if(u>o)throw new RangeError('The value "'+u+'" is invalid for option "size"');const c=new Uint8Array(u);return Object.setPrototypeOf(c,a.prototype),c}function a(u,c,f){if(typeof u=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(u)}return l(u,c,f)}a.poolSize=8192;function l(u,c,f){if(typeof u=="string")return g(u,c);if(ArrayBuffer.isView(u))return S(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(He(u,ArrayBuffer)||u&&He(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(u,SharedArrayBuffer)||u&&He(u.buffer,SharedArrayBuffer)))return I(u,c,f);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=u.valueOf&&u.valueOf();if(E!=null&&E!==u)return a.from(E,c,f);const $=P(u);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return a.from(u[Symbol.toPrimitive]("string"),c,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}a.from=function(u,c,f){return l(u,c,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function h(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function p(u,c,f){return h(u),u<=0?s(u):c!==void 0?typeof f=="string"?s(u).fill(c,f):s(u).fill(c):s(u)}a.alloc=function(u,c,f){return p(u,c,f)};function m(u){return h(u),s(u<0?0:R(u)|0)}a.allocUnsafe=function(u){return m(u)},a.allocUnsafeSlow=function(u){return m(u)};function g(u,c){if((typeof c!="string"||c==="")&&(c="utf8"),!a.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const f=k(u,c)|0;let E=s(f);const $=E.write(u,c);return $!==f&&(E=E.slice(0,$)),E}function w(u){const c=u.length<0?0:R(u.length)|0,f=s(c);for(let E=0;E<c;E+=1)f[E]=u[E]&255;return f}function S(u){if(He(u,Uint8Array)){const c=new Uint8Array(u);return I(c.buffer,c.byteOffset,c.byteLength)}return w(u)}function I(u,c,f){if(c<0||u.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<c+(f||0))throw new RangeError('"length" is outside of buffer bounds');let E;return c===void 0&&f===void 0?E=new Uint8Array(u):f===void 0?E=new Uint8Array(u,c):E=new Uint8Array(u,c,f),Object.setPrototypeOf(E,a.prototype),E}function P(u){if(a.isBuffer(u)){const c=R(u.length)|0,f=s(c);return f.length===0||u.copy(f,0,0,c),f}if(u.length!==void 0)return typeof u.length!="number"||Me(u.length)?s(0):w(u);if(u.type==="Buffer"&&Array.isArray(u.data))return w(u.data)}function R(u){if(u>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return u|0}function U(u){return+u!=u&&(u=0),a.alloc(+u)}a.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==a.prototype},a.compare=function(c,f){if(He(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),He(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(c)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===f)return 0;let E=c.length,$=f.length;for(let C=0,F=Math.min(E,$);C<F;++C)if(c[C]!==f[C]){E=c[C],$=f[C];break}return E<$?-1:$<E?1:0},a.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(c,f){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);let E;if(f===void 0)for(f=0,E=0;E<c.length;++E)f+=c[E].length;const $=a.allocUnsafe(f);let C=0;for(E=0;E<c.length;++E){let F=c[E];if(He(F,Uint8Array))C+F.length>$.length?(a.isBuffer(F)||(F=a.from(F)),F.copy($,C)):Uint8Array.prototype.set.call($,F,C);else if(a.isBuffer(F))F.copy($,C);else throw new TypeError('"list" argument must be an Array of Buffers');C+=F.length}return $};function k(u,c){if(a.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||He(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);const f=u.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&f===0)return 0;let $=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return Ce(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Fe(u).length;default:if($)return E?-1:Ce(u).length;c=(""+c).toLowerCase(),$=!0}}a.byteLength=k;function j(u,c,f){let E=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,c>>>=0,f<=c))return"";for(u||(u="utf8");;)switch(u){case"hex":return M(this,c,f);case"utf8":case"utf-8":return d(this,c,f);case"ascii":return T(this,c,f);case"latin1":case"binary":return O(this,c,f);case"base64":return B(this,c,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,c,f);default:if(E)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),E=!0}}a.prototype._isBuffer=!0;function N(u,c,f){const E=u[c];u[c]=u[f],u[f]=E}a.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<c;f+=2)N(this,f,f+1);return this},a.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<c;f+=4)N(this,f,f+3),N(this,f+1,f+2);return this},a.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<c;f+=8)N(this,f,f+7),N(this,f+1,f+6),N(this,f+2,f+5),N(this,f+3,f+4);return this},a.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?d(this,0,c):j.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:a.compare(this,c)===0},a.prototype.inspect=function(){let c="";const f=e.INSPECT_MAX_BYTES;return c=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(c+=" ... "),"<Buffer "+c+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(c,f,E,$,C){if(He(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(f===void 0&&(f=0),E===void 0&&(E=c?c.length:0),$===void 0&&($=0),C===void 0&&(C=this.length),f<0||E>c.length||$<0||C>this.length)throw new RangeError("out of range index");if($>=C&&f>=E)return 0;if($>=C)return-1;if(f>=E)return 1;if(f>>>=0,E>>>=0,$>>>=0,C>>>=0,this===c)return 0;let F=C-$,ae=E-f;const ce=Math.min(F,ae),re=this.slice($,C),ye=c.slice(f,E);for(let oe=0;oe<ce;++oe)if(re[oe]!==ye[oe]){F=re[oe],ae=ye[oe];break}return F<ae?-1:ae<F?1:0};function Z(u,c,f,E,$){if(u.length===0)return-1;if(typeof f=="string"?(E=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Me(f)&&(f=$?0:u.length-1),f<0&&(f=u.length+f),f>=u.length){if($)return-1;f=u.length-1}else if(f<0)if($)f=0;else return-1;if(typeof c=="string"&&(c=a.from(c,E)),a.isBuffer(c))return c.length===0?-1:Y(u,c,f,E,$);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(u,c,f):Uint8Array.prototype.lastIndexOf.call(u,c,f):Y(u,[c],f,E,$);throw new TypeError("val must be string, number or Buffer")}function Y(u,c,f,E,$){let C=1,F=u.length,ae=c.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(u.length<2||c.length<2)return-1;C=2,F/=2,ae/=2,f/=2}function ce(ye,oe){return C===1?ye[oe]:ye.readUInt16BE(oe*C)}let re;if($){let ye=-1;for(re=f;re<F;re++)if(ce(u,re)===ce(c,ye===-1?0:re-ye)){if(ye===-1&&(ye=re),re-ye+1===ae)return ye*C}else ye!==-1&&(re-=re-ye),ye=-1}else for(f+ae>F&&(f=F-ae),re=f;re>=0;re--){let ye=!0;for(let oe=0;oe<ae;oe++)if(ce(u,re+oe)!==ce(c,oe)){ye=!1;break}if(ye)return re}return-1}a.prototype.includes=function(c,f,E){return this.indexOf(c,f,E)!==-1},a.prototype.indexOf=function(c,f,E){return Z(this,c,f,E,!0)},a.prototype.lastIndexOf=function(c,f,E){return Z(this,c,f,E,!1)};function ne(u,c,f,E){f=Number(f)||0;const $=u.length-f;E?(E=Number(E),E>$&&(E=$)):E=$;const C=c.length;E>C/2&&(E=C/2);let F;for(F=0;F<E;++F){const ae=parseInt(c.substr(F*2,2),16);if(Me(ae))return F;u[f+F]=ae}return F}function G(u,c,f,E){return Te(Ce(c,u.length-f),u,f,E)}function Q(u,c,f,E){return Te(De(c),u,f,E)}function K(u,c,f,E){return Te(Fe(c),u,f,E)}function X(u,c,f,E){return Te(Nr(c,u.length-f),u,f,E)}a.prototype.write=function(c,f,E,$){if(f===void 0)$="utf8",E=this.length,f=0;else if(E===void 0&&typeof f=="string")$=f,E=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(E)?(E=E>>>0,$===void 0&&($="utf8")):($=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const C=this.length-f;if((E===void 0||E>C)&&(E=C),c.length>0&&(E<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");let F=!1;for(;;)switch($){case"hex":return ne(this,c,f,E);case"utf8":case"utf-8":return G(this,c,f,E);case"ascii":case"latin1":case"binary":return Q(this,c,f,E);case"base64":return K(this,c,f,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,c,f,E);default:if(F)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),F=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(u,c,f){return c===0&&f===u.length?t.fromByteArray(u):t.fromByteArray(u.slice(c,f))}function d(u,c,f){f=Math.min(u.length,f);const E=[];let $=c;for(;$<f;){const C=u[$];let F=null,ae=C>239?4:C>223?3:C>191?2:1;if($+ae<=f){let ce,re,ye,oe;switch(ae){case 1:C<128&&(F=C);break;case 2:ce=u[$+1],(ce&192)===128&&(oe=(C&31)<<6|ce&63,oe>127&&(F=oe));break;case 3:ce=u[$+1],re=u[$+2],(ce&192)===128&&(re&192)===128&&(oe=(C&15)<<12|(ce&63)<<6|re&63,oe>2047&&(oe<55296||oe>57343)&&(F=oe));break;case 4:ce=u[$+1],re=u[$+2],ye=u[$+3],(ce&192)===128&&(re&192)===128&&(ye&192)===128&&(oe=(C&15)<<18|(ce&63)<<12|(re&63)<<6|ye&63,oe>65535&&oe<1114112&&(F=oe))}}F===null?(F=65533,ae=1):F>65535&&(F-=65536,E.push(F>>>10&1023|55296),F=56320|F&1023),E.push(F),$+=ae}return A(E)}const v=4096;function A(u){const c=u.length;if(c<=v)return String.fromCharCode.apply(String,u);let f="",E=0;for(;E<c;)f+=String.fromCharCode.apply(String,u.slice(E,E+=v));return f}function T(u,c,f){let E="";f=Math.min(u.length,f);for(let $=c;$<f;++$)E+=String.fromCharCode(u[$]&127);return E}function O(u,c,f){let E="";f=Math.min(u.length,f);for(let $=c;$<f;++$)E+=String.fromCharCode(u[$]);return E}function M(u,c,f){const E=u.length;(!c||c<0)&&(c=0),(!f||f<0||f>E)&&(f=E);let $="";for(let C=c;C<f;++C)$+=qe[u[C]];return $}function b(u,c,f){const E=u.slice(c,f);let $="";for(let C=0;C<E.length-1;C+=2)$+=String.fromCharCode(E[C]+E[C+1]*256);return $}a.prototype.slice=function(c,f){const E=this.length;c=~~c,f=f===void 0?E:~~f,c<0?(c+=E,c<0&&(c=0)):c>E&&(c=E),f<0?(f+=E,f<0&&(f=0)):f>E&&(f=E),f<c&&(f=c);const $=this.subarray(c,f);return Object.setPrototypeOf($,a.prototype),$};function x(u,c,f){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+c>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(c,f,E){c=c>>>0,f=f>>>0,E||x(c,f,this.length);let $=this[c],C=1,F=0;for(;++F<f&&(C*=256);)$+=this[c+F]*C;return $},a.prototype.readUintBE=a.prototype.readUIntBE=function(c,f,E){c=c>>>0,f=f>>>0,E||x(c,f,this.length);let $=this[c+--f],C=1;for(;f>0&&(C*=256);)$+=this[c+--f]*C;return $},a.prototype.readUint8=a.prototype.readUInt8=function(c,f){return c=c>>>0,f||x(c,1,this.length),this[c]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(c,f){return c=c>>>0,f||x(c,2,this.length),this[c]|this[c+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(c,f){return c=c>>>0,f||x(c,2,this.length),this[c]<<8|this[c+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(c,f){return c=c>>>0,f||x(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(c,f){return c=c>>>0,f||x(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},a.prototype.readBigUInt64LE=tt(function(c){c=c>>>0,xt(c,"offset");const f=this[c],E=this[c+7];(f===void 0||E===void 0)&&_e(c,this.length-8);const $=f+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,C=this[++c]+this[++c]*2**8+this[++c]*2**16+E*2**24;return BigInt($)+(BigInt(C)<<BigInt(32))}),a.prototype.readBigUInt64BE=tt(function(c){c=c>>>0,xt(c,"offset");const f=this[c],E=this[c+7];(f===void 0||E===void 0)&&_e(c,this.length-8);const $=f*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],C=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+E;return(BigInt($)<<BigInt(32))+BigInt(C)}),a.prototype.readIntLE=function(c,f,E){c=c>>>0,f=f>>>0,E||x(c,f,this.length);let $=this[c],C=1,F=0;for(;++F<f&&(C*=256);)$+=this[c+F]*C;return C*=128,$>=C&&($-=Math.pow(2,8*f)),$},a.prototype.readIntBE=function(c,f,E){c=c>>>0,f=f>>>0,E||x(c,f,this.length);let $=f,C=1,F=this[c+--$];for(;$>0&&(C*=256);)F+=this[c+--$]*C;return C*=128,F>=C&&(F-=Math.pow(2,8*f)),F},a.prototype.readInt8=function(c,f){return c=c>>>0,f||x(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},a.prototype.readInt16LE=function(c,f){c=c>>>0,f||x(c,2,this.length);const E=this[c]|this[c+1]<<8;return E&32768?E|4294901760:E},a.prototype.readInt16BE=function(c,f){c=c>>>0,f||x(c,2,this.length);const E=this[c+1]|this[c]<<8;return E&32768?E|4294901760:E},a.prototype.readInt32LE=function(c,f){return c=c>>>0,f||x(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},a.prototype.readInt32BE=function(c,f){return c=c>>>0,f||x(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},a.prototype.readBigInt64LE=tt(function(c){c=c>>>0,xt(c,"offset");const f=this[c],E=this[c+7];(f===void 0||E===void 0)&&_e(c,this.length-8);const $=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(E<<24);return(BigInt($)<<BigInt(32))+BigInt(f+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),a.prototype.readBigInt64BE=tt(function(c){c=c>>>0,xt(c,"offset");const f=this[c],E=this[c+7];(f===void 0||E===void 0)&&_e(c,this.length-8);const $=(f<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt($)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+E)}),a.prototype.readFloatLE=function(c,f){return c=c>>>0,f||x(c,4,this.length),n.read(this,c,!0,23,4)},a.prototype.readFloatBE=function(c,f){return c=c>>>0,f||x(c,4,this.length),n.read(this,c,!1,23,4)},a.prototype.readDoubleLE=function(c,f){return c=c>>>0,f||x(c,8,this.length),n.read(this,c,!0,52,8)},a.prototype.readDoubleBE=function(c,f){return c=c>>>0,f||x(c,8,this.length),n.read(this,c,!1,52,8)};function y(u,c,f,E,$,C){if(!a.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>$||c<C)throw new RangeError('"value" argument is out of bounds');if(f+E>u.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(c,f,E,$){if(c=+c,f=f>>>0,E=E>>>0,!$){const ae=Math.pow(2,8*E)-1;y(this,c,f,E,ae,0)}let C=1,F=0;for(this[f]=c&255;++F<E&&(C*=256);)this[f+F]=c/C&255;return f+E},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(c,f,E,$){if(c=+c,f=f>>>0,E=E>>>0,!$){const ae=Math.pow(2,8*E)-1;y(this,c,f,E,ae,0)}let C=E-1,F=1;for(this[f+C]=c&255;--C>=0&&(F*=256);)this[f+C]=c/F&255;return f+E},a.prototype.writeUint8=a.prototype.writeUInt8=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,1,255,0),this[f]=c&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,2,65535,0),this[f]=c&255,this[f+1]=c>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,2,65535,0),this[f]=c>>>8,this[f+1]=c&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,4,4294967295,0),this[f+3]=c>>>24,this[f+2]=c>>>16,this[f+1]=c>>>8,this[f]=c&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,4,4294967295,0),this[f]=c>>>24,this[f+1]=c>>>16,this[f+2]=c>>>8,this[f+3]=c&255,f+4};function _(u,c,f,E,$){Oe(c,E,$,u,f,7);let C=Number(c&BigInt(4294967295));u[f++]=C,C=C>>8,u[f++]=C,C=C>>8,u[f++]=C,C=C>>8,u[f++]=C;let F=Number(c>>BigInt(32)&BigInt(4294967295));return u[f++]=F,F=F>>8,u[f++]=F,F=F>>8,u[f++]=F,F=F>>8,u[f++]=F,f}function z(u,c,f,E,$){Oe(c,E,$,u,f,7);let C=Number(c&BigInt(4294967295));u[f+7]=C,C=C>>8,u[f+6]=C,C=C>>8,u[f+5]=C,C=C>>8,u[f+4]=C;let F=Number(c>>BigInt(32)&BigInt(4294967295));return u[f+3]=F,F=F>>8,u[f+2]=F,F=F>>8,u[f+1]=F,F=F>>8,u[f]=F,f+8}a.prototype.writeBigUInt64LE=tt(function(c,f=0){return _(this,c,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=tt(function(c,f=0){return z(this,c,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(c,f,E,$){if(c=+c,f=f>>>0,!$){const ce=Math.pow(2,8*E-1);y(this,c,f,E,ce-1,-ce)}let C=0,F=1,ae=0;for(this[f]=c&255;++C<E&&(F*=256);)c<0&&ae===0&&this[f+C-1]!==0&&(ae=1),this[f+C]=(c/F>>0)-ae&255;return f+E},a.prototype.writeIntBE=function(c,f,E,$){if(c=+c,f=f>>>0,!$){const ce=Math.pow(2,8*E-1);y(this,c,f,E,ce-1,-ce)}let C=E-1,F=1,ae=0;for(this[f+C]=c&255;--C>=0&&(F*=256);)c<0&&ae===0&&this[f+C+1]!==0&&(ae=1),this[f+C]=(c/F>>0)-ae&255;return f+E},a.prototype.writeInt8=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,1,127,-128),c<0&&(c=255+c+1),this[f]=c&255,f+1},a.prototype.writeInt16LE=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,2,32767,-32768),this[f]=c&255,this[f+1]=c>>>8,f+2},a.prototype.writeInt16BE=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,2,32767,-32768),this[f]=c>>>8,this[f+1]=c&255,f+2},a.prototype.writeInt32LE=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,4,2147483647,-2147483648),this[f]=c&255,this[f+1]=c>>>8,this[f+2]=c>>>16,this[f+3]=c>>>24,f+4},a.prototype.writeInt32BE=function(c,f,E){return c=+c,f=f>>>0,E||y(this,c,f,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[f]=c>>>24,this[f+1]=c>>>16,this[f+2]=c>>>8,this[f+3]=c&255,f+4},a.prototype.writeBigInt64LE=tt(function(c,f=0){return _(this,c,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=tt(function(c,f=0){return z(this,c,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(u,c,f,E,$,C){if(f+E>u.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function H(u,c,f,E,$){return c=+c,f=f>>>0,$||V(u,c,f,4),n.write(u,c,f,E,23,4),f+4}a.prototype.writeFloatLE=function(c,f,E){return H(this,c,f,!0,E)},a.prototype.writeFloatBE=function(c,f,E){return H(this,c,f,!1,E)};function ue(u,c,f,E,$){return c=+c,f=f>>>0,$||V(u,c,f,8),n.write(u,c,f,E,52,8),f+8}a.prototype.writeDoubleLE=function(c,f,E){return ue(this,c,f,!0,E)},a.prototype.writeDoubleBE=function(c,f,E){return ue(this,c,f,!1,E)},a.prototype.copy=function(c,f,E,$){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");if(E||(E=0),!$&&$!==0&&($=this.length),f>=c.length&&(f=c.length),f||(f=0),$>0&&$<E&&($=E),$===E||c.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),c.length-f<$-E&&($=c.length-f+E);const C=$-E;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,E,$):Uint8Array.prototype.set.call(c,this.subarray(E,$),f),C},a.prototype.fill=function(c,f,E,$){if(typeof c=="string"){if(typeof f=="string"?($=f,f=0,E=this.length):typeof E=="string"&&($=E,E=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!a.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(c.length===1){const F=c.charCodeAt(0);($==="utf8"&&F<128||$==="latin1")&&(c=F)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(f<0||this.length<f||this.length<E)throw new RangeError("Out of range index");if(E<=f)return this;f=f>>>0,E=E===void 0?this.length:E>>>0,c||(c=0);let C;if(typeof c=="number")for(C=f;C<E;++C)this[C]=c;else{const F=a.isBuffer(c)?c:a.from(c,$),ae=F.length;if(ae===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(C=0;C<E-f;++C)this[C+f]=F[C%ae]}return this};const J={};function le(u,c,f){J[u]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code($){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(u,c){return`The "${u}" argument must be of type number. Received type ${typeof c}`},TypeError),le("ERR_OUT_OF_RANGE",function(u,c,f){let E=`The value of "${u}" is out of range.`,$=f;return Number.isInteger(f)&&Math.abs(f)>2**32?$=Le(String(f)):typeof f=="bigint"&&($=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&($=Le($)),$+="n"),E+=` It must be ${c}. Received ${$}`,E},RangeError);function Le(u){let c="",f=u.length;const E=u[0]==="-"?1:0;for(;f>=E+4;f-=3)c=`_${u.slice(f-3,f)}${c}`;return`${u.slice(0,f)}${c}`}function Pe(u,c,f){xt(c,"offset"),(u[c]===void 0||u[c+f]===void 0)&&_e(c,u.length-(f+1))}function Oe(u,c,f,E,$,C){if(u>f||u<c){const F=typeof c=="bigint"?"n":"";let ae;throw c===0||c===BigInt(0)?ae=`>= 0${F} and < 2${F} ** ${(C+1)*8}${F}`:ae=`>= -(2${F} ** ${(C+1)*8-1}${F}) and < 2 ** ${(C+1)*8-1}${F}`,new J.ERR_OUT_OF_RANGE("value",ae,u)}Pe(E,$,C)}function xt(u,c){if(typeof u!="number")throw new J.ERR_INVALID_ARG_TYPE(c,"number",u)}function _e(u,c,f){throw Math.floor(u)!==u?(xt(u,f),new J.ERR_OUT_OF_RANGE("offset","an integer",u)):c<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${c}`,u)}const ze=/[^+/0-9A-Za-z-_]/g;function Fr(u){if(u=u.split("=")[0],u=u.trim().replace(ze,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}function Ce(u,c){c=c||1/0;let f;const E=u.length;let $=null;const C=[];for(let F=0;F<E;++F){if(f=u.charCodeAt(F),f>55295&&f<57344){if(!$){if(f>56319){(c-=3)>-1&&C.push(239,191,189);continue}else if(F+1===E){(c-=3)>-1&&C.push(239,191,189);continue}$=f;continue}if(f<56320){(c-=3)>-1&&C.push(239,191,189),$=f;continue}f=($-55296<<10|f-56320)+65536}else $&&(c-=3)>-1&&C.push(239,191,189);if($=null,f<128){if((c-=1)<0)break;C.push(f)}else if(f<2048){if((c-=2)<0)break;C.push(f>>6|192,f&63|128)}else if(f<65536){if((c-=3)<0)break;C.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((c-=4)<0)break;C.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return C}function De(u){const c=[];for(let f=0;f<u.length;++f)c.push(u.charCodeAt(f)&255);return c}function Nr(u,c){let f,E,$;const C=[];for(let F=0;F<u.length&&!((c-=2)<0);++F)f=u.charCodeAt(F),E=f>>8,$=f%256,C.push($),C.push(E);return C}function Fe(u){return t.toByteArray(Fr(u))}function Te(u,c,f,E){let $;for($=0;$<E&&!($+f>=c.length||$>=u.length);++$)c[$+f]=u[$];return $}function He(u,c){return u instanceof c||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===c.name}function Me(u){return u!==u}const qe=function(){const u="0123456789abcdef",c=new Array(256);for(let f=0;f<16;++f){const E=f*16;for(let $=0;$<16;++$)c[E+$]=u[f]+u[$]}return c}();function tt(u){return typeof BigInt>"u"?Ge:u}function Ge(){throw new Error("BigInt not supported")}})(Xe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vu=BigInt(0),Tc=BigInt(1);function _r(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function on(e,t,n=""){const r=ri(e),o=e==null?void 0:e.length,i=t!==void 0;if(!r||i&&o!==t){const s=n&&`"${n}" `,a=i?` of length ${t}`:"",l=r?`length=${o}`:`type=${typeof e}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return e}function $i(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Up(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Vu:BigInt("0x"+e)}function As(e){return Up(vr(e))}function Go(e){return jn(e),Up(vr(Uint8Array.from(e).reverse()))}function Ku(e,t){return Li(e.toString(16).padStart(t*2,"0"))}function Fp(e,t){return Ku(e,t).reverse()}function Je(e,t,n){let r;if(typeof t=="string")try{r=Li(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(ri(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return r}function Xl(e){return Uint8Array.from(e)}const Ca=e=>typeof e=="bigint"&&Vu<=e;function nx(e,t,n){return Ca(e)&&Ca(t)&&Ca(n)&&t<=e&&e<n}function Pc(e,t,n,r){if(!nx(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Np(e){let t;for(t=0;e>Vu;e>>=Tc,t+=1);return t}const si=e=>(Tc<<BigInt(e))-Tc;function rx(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=w=>new Uint8Array(w),o=w=>Uint8Array.of(w);let i=r(e),s=r(e),a=0;const l=()=>{i.fill(1),s.fill(0),a=0},h=(...w)=>n(s,i,...w),p=(w=r(0))=>{s=h(o(0),w),i=h(),w.length!==0&&(s=h(o(1),w),i=h())},m=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let w=0;const S=[];for(;w<t;){i=h();const I=i.slice();S.push(I),w+=i.length}return wn(...S)};return(w,S)=>{l(),p(w);let I;for(;!(I=S(m()));)p();return l(),I}}function ai(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(o,i,s){const a=e[o];if(s&&a===void 0)return;const l=typeof a;if(l!==i||a===null)throw new Error(`param "${o}" is invalid: expected ${i}, got ${l}`)}Object.entries(t).forEach(([o,i])=>r(o,i,!1)),Object.entries(n).forEach(([o,i])=>r(o,i,!0))}function Gi(e){const t=new WeakMap;return(n,...r)=>{const o=t.get(n);if(o!==void 0)return o;const i=e(n,...r);return t.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lt=BigInt(0),It=BigInt(1),yr=BigInt(2),jp=BigInt(3),Lp=BigInt(4),zp=BigInt(5),ox=BigInt(7),Dp=BigInt(8),ix=BigInt(9),Hp=BigInt(16);function bt(e,t){const n=e%t;return n>=Lt?n:t+n}function Ze(e,t,n){let r=e;for(;t-- >Lt;)r*=r,r%=n;return r}function Yl(e,t){if(e===Lt)throw new Error("invert: expected non-zero number");if(t<=Lt)throw new Error("invert: expected positive modulus, got "+t);let n=bt(e,t),r=t,o=Lt,i=It;for(;n!==Lt;){const a=r/n,l=r%n,h=o-i*a;r=n,n=l,o=i,i=h}if(r!==It)throw new Error("invert: does not exist");return bt(o,t)}function Wu(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function qp(e,t){const n=(e.ORDER+It)/Lp,r=e.pow(t,n);return Wu(e,r,t),r}function sx(e,t){const n=(e.ORDER-zp)/Dp,r=e.mul(t,yr),o=e.pow(r,n),i=e.mul(t,o),s=e.mul(e.mul(i,yr),o),a=e.mul(i,e.sub(s,e.ONE));return Wu(e,a,t),a}function ax(e){const t=Or(e),n=Gp(e),r=n(t,t.neg(t.ONE)),o=n(t,r),i=n(t,t.neg(r)),s=(e+ox)/Hp;return(a,l)=>{let h=a.pow(l,s),p=a.mul(h,r);const m=a.mul(h,o),g=a.mul(h,i),w=a.eql(a.sqr(p),l),S=a.eql(a.sqr(m),l);h=a.cmov(h,p,w),p=a.cmov(g,m,S);const I=a.eql(a.sqr(p),l),P=a.cmov(h,p,I);return Wu(a,P,l),P}}function Gp(e){if(e<jp)throw new Error("sqrt is not defined for small field");let t=e-It,n=0;for(;t%yr===Lt;)t/=yr,n++;let r=yr;const o=Or(e);for(;Ql(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return qp;let i=o.pow(r,t);const s=(t+It)/yr;return function(l,h){if(l.is0(h))return h;if(Ql(l,h)!==1)throw new Error("Cannot find square root");let p=n,m=l.mul(l.ONE,i),g=l.pow(h,t),w=l.pow(h,s);for(;!l.eql(g,l.ONE);){if(l.is0(g))return l.ZERO;let S=1,I=l.sqr(g);for(;!l.eql(I,l.ONE);)if(S++,I=l.sqr(I),S===p)throw new Error("Cannot find square root");const P=It<<BigInt(p-S-1),R=l.pow(m,P);p=S,m=l.sqr(R),g=l.mul(g,m),w=l.mul(w,R)}return w}}function cx(e){return e%Lp===jp?qp:e%Dp===zp?sx:e%Hp===ix?ax(e):Gp(e)}const ux=(e,t)=>(bt(e,t)&It)===It,fx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lx(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=fx.reduce((r,o)=>(r[o]="function",r),t);return ai(e,n),e}function hx(e,t,n){if(n<Lt)throw new Error("invalid exponent, negatives unsupported");if(n===Lt)return e.ONE;if(n===It)return t;let r=e.ONE,o=t;for(;n>Lt;)n&It&&(r=e.mul(r,o)),o=e.sqr(o),n>>=It;return r}function Vp(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),o=t.reduce((s,a,l)=>e.is0(a)?s:(r[l]=s,e.mul(s,a)),e.ONE),i=e.inv(o);return t.reduceRight((s,a,l)=>e.is0(a)?s:(r[l]=e.mul(s,r[l]),e.mul(s,a)),i),r}function Ql(e,t){const n=(e.ORDER-It)/yr,r=e.pow(t,n),o=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!o&&!i&&!s)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function Kp(e,t){t!==void 0&&jo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Or(e,t,n=!1,r={}){if(e<=Lt)throw new Error("invalid field: expected ORDER > 0, got "+e);let o,i,s=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const g=t;g.BITS&&(o=g.BITS),g.sqrt&&(i=g.sqrt),typeof g.isLE=="boolean"&&(n=g.isLE),typeof g.modFromBytes=="boolean"&&(s=g.modFromBytes),a=g.allowedLengths}else typeof t=="number"&&(o=t),r.sqrt&&(i=r.sqrt);const{nBitLength:l,nByteLength:h}=Kp(e,o);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let p;const m=Object.freeze({ORDER:e,isLE:n,BITS:l,BYTES:h,MASK:si(l),ZERO:Lt,ONE:It,allowedLengths:a,create:g=>bt(g,e),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return Lt<=g&&g<e},is0:g=>g===Lt,isValidNot0:g=>!m.is0(g)&&m.isValid(g),isOdd:g=>(g&It)===It,neg:g=>bt(-g,e),eql:(g,w)=>g===w,sqr:g=>bt(g*g,e),add:(g,w)=>bt(g+w,e),sub:(g,w)=>bt(g-w,e),mul:(g,w)=>bt(g*w,e),pow:(g,w)=>hx(m,g,w),div:(g,w)=>bt(g*Yl(w,e),e),sqrN:g=>g*g,addN:(g,w)=>g+w,subN:(g,w)=>g-w,mulN:(g,w)=>g*w,inv:g=>Yl(g,e),sqrt:i||(g=>(p||(p=cx(e)),p(m,g))),toBytes:g=>n?Fp(g,h):Ku(g,h),fromBytes:(g,w=!0)=>{if(a){if(!a.includes(g.length)||g.length>h)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+g.length);const I=new Uint8Array(h);I.set(g,n?0:I.length-g.length),g=I}if(g.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+g.length);let S=n?Go(g):As(g);if(s&&(S=bt(S,e)),!w&&!m.isValid(S))throw new Error("invalid field element: outside of range 0..ORDER");return S},invertBatch:g=>Vp(m,g),cmov:(g,w,S)=>S?w:g});return Object.freeze(m)}function Wp(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Zp(e){const t=Wp(e);return t+Math.ceil(t/2)}function dx(e,t,n=!1){const r=e.length,o=Wp(t),i=Zp(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=n?Go(e):As(e),a=bt(s,t-It)+It;return n?Fp(a,o):Ku(a,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ao=BigInt(0),mr=BigInt(1);function Vi(e,t){const n=t.negate();return e?n:t}function gr(e,t){const n=Vp(e.Fp,t.map(r=>r.Z));return t.map((r,o)=>e.fromAffine(r.toAffine(n[o])))}function Jp(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ma(e,t){Jp(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),o=2**e,i=si(e),s=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:o,shiftBy:s}}function eh(e,t,n){const{windowSize:r,mask:o,maxNumber:i,shiftBy:s}=n;let a=Number(e&o),l=e>>s;a>r&&(a-=i,l+=mr);const h=t*r,p=h+Math.abs(a)-1,m=a===0,g=a<0,w=t%2!==0;return{nextN:l,offset:p,isZero:m,isNeg:g,isNegF:w,offsetF:h}}function px(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function yx(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const ka=new WeakMap,Xp=new WeakMap;function Ua(e){return Xp.get(e)||1}function th(e){if(e!==ao)throw new Error("invalid wNAF")}class Yp{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let o=t;for(;n>ao;)n&mr&&(r=r.add(o)),o=o.double(),n>>=mr;return r}precomputeWindow(t,n){const{windows:r,windowSize:o}=Ma(n,this.bits),i=[];let s=t,a=s;for(let l=0;l<r;l++){a=s,i.push(a);for(let h=1;h<o;h++)a=a.add(s),i.push(a);s=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let o=this.ZERO,i=this.BASE;const s=Ma(t,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:w}=eh(r,a,s);r=l,p?i=i.add(Vi(g,n[w])):o=o.add(Vi(m,n[h]))}return th(r),{p:o,f:i}}wNAFUnsafe(t,n,r,o=this.ZERO){const i=Ma(t,this.bits);for(let s=0;s<i.windows&&r!==ao;s++){const{nextN:a,offset:l,isZero:h,isNeg:p}=eh(r,s,i);if(r=a,!h){const m=n[l];o=o.add(p?m.negate():m)}}return th(r),o}getPrecomputes(t,n,r){let o=ka.get(n);return o||(o=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(o=r(o)),ka.set(n,o))),o}cached(t,n,r){const o=Ua(t);return this.wNAF(o,this.getPrecomputes(o,t,r),n)}unsafe(t,n,r,o){const i=Ua(t);return i===1?this._unsafeLadder(t,n,o):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,o)}createCache(t,n){Jp(n,this.bits),Xp.set(t,n),ka.delete(t)}hasCache(t){return Ua(t)!==1}}function mx(e,t,n,r){let o=t,i=e.ZERO,s=e.ZERO;for(;n>ao||r>ao;)n&mr&&(i=i.add(o)),r&mr&&(s=s.add(o)),o=o.double(),n>>=mr,r>>=mr;return{p1:i,p2:s}}function Qp(e,t,n,r){px(n,e),yx(r,t);const o=n.length,i=r.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=Np(BigInt(o));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const h=si(l),p=new Array(Number(h)+1).fill(s),m=Math.floor((t.BITS-1)/l)*l;let g=s;for(let w=m;w>=0;w-=l){p.fill(s);for(let I=0;I<i;I++){const P=r[I],R=Number(P>>BigInt(w)&h);p[R]=p[R].add(n[I])}let S=s;for(let I=p.length-1,P=s;I>0;I--)P=P.add(p[I]),S=S.add(P);if(g=g.add(S),w!==0)for(let I=0;I<l;I++)g=g.double()}return g}function nh(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return lx(t),t}else return Or(e,{isLE:n})}function e0(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const l of["p","n","h"]){const h=t[l];if(!(typeof h=="bigint"&&h>ao))throw new Error(`CURVE.${l} must be positive bigint`)}const o=nh(t.p,n.Fp,r),i=nh(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const l of a)if(!o.isValid(t[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:o,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kn=BigInt(0),Et=BigInt(1),Fa=BigInt(2),gx=BigInt(8);function wx(e,t,n,r){const o=e.sqr(n),i=e.sqr(r),s=e.add(e.mul(t.a,o),i),a=e.add(e.ONE,e.mul(t.d,e.mul(o,i)));return e.eql(s,a)}function bx(e,t={}){const n=e0("edwards",e,t,t.FpFnLE),{Fp:r,Fn:o}=n;let i=n.CURVE;const{h:s}=i;ai(t,{},{uvRatio:"function"});const a=Fa<<BigInt(o.BYTES*8)-Et,l=P=>r.create(P),h=t.uvRatio||((P,R)=>{try{return{isValid:!0,value:r.sqrt(r.div(P,R))}}catch{return{isValid:!1,value:Kn}}});if(!wx(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function p(P,R,U=!1){const k=U?Et:Kn;return Pc("coordinate "+P,R,k,a),R}function m(P){if(!(P instanceof S))throw new Error("ExtendedPoint expected")}const g=Gi((P,R)=>{const{X:U,Y:k,Z:j}=P,N=P.is0();R==null&&(R=N?gx:r.inv(j));const Z=l(U*R),Y=l(k*R),ne=r.mul(j,R);if(N)return{x:Kn,y:Et};if(ne!==Et)throw new Error("invZ was invalid");return{x:Z,y:Y}}),w=Gi(P=>{const{a:R,d:U}=i;if(P.is0())throw new Error("bad point: ZERO");const{X:k,Y:j,Z:N,T:Z}=P,Y=l(k*k),ne=l(j*j),G=l(N*N),Q=l(G*G),K=l(Y*R),X=l(G*l(K+ne)),B=l(Q+l(U*l(Y*ne)));if(X!==B)throw new Error("bad point: equation left != right (1)");const d=l(k*j),v=l(N*Z);if(d!==v)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(R,U,k,j){this.X=p("x",R),this.Y=p("y",U),this.Z=p("z",k,!0),this.T=p("t",j),Object.freeze(this)}static CURVE(){return i}static fromAffine(R){if(R instanceof S)throw new Error("extended point not allowed");const{x:U,y:k}=R||{};return p("x",U),p("y",k),new S(U,k,Et,l(U*k))}static fromBytes(R,U=!1){const k=r.BYTES,{a:j,d:N}=i;R=Xl(on(R,k,"point")),_r(U,"zip215");const Z=Xl(R),Y=R[k-1];Z[k-1]=Y&-129;const ne=Go(Z),G=U?a:r.ORDER;Pc("point.y",ne,Kn,G);const Q=l(ne*ne),K=l(Q-Et),X=l(N*Q-j);let{isValid:B,value:d}=h(K,X);if(!B)throw new Error("bad point: invalid y coordinate");const v=(d&Et)===Et,A=(Y&128)!==0;if(!U&&d===Kn&&A)throw new Error("bad point: x=0 and x_0=1");return A!==v&&(d=l(-d)),S.fromAffine({x:d,y:ne})}static fromHex(R,U=!1){return S.fromBytes(Je("point",R),U)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(R=8,U=!0){return I.createCache(this,R),U||this.multiply(Fa),this}assertValidity(){w(this)}equals(R){m(R);const{X:U,Y:k,Z:j}=this,{X:N,Y:Z,Z:Y}=R,ne=l(U*Y),G=l(N*j),Q=l(k*Y),K=l(Z*j);return ne===G&&Q===K}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:R}=i,{X:U,Y:k,Z:j}=this,N=l(U*U),Z=l(k*k),Y=l(Fa*l(j*j)),ne=l(R*N),G=U+k,Q=l(l(G*G)-N-Z),K=ne+Z,X=K-Y,B=ne-Z,d=l(Q*X),v=l(K*B),A=l(Q*B),T=l(X*K);return new S(d,v,T,A)}add(R){m(R);const{a:U,d:k}=i,{X:j,Y:N,Z,T:Y}=this,{X:ne,Y:G,Z:Q,T:K}=R,X=l(j*ne),B=l(N*G),d=l(Y*k*K),v=l(Z*Q),A=l((j+N)*(ne+G)-X-B),T=v-d,O=v+d,M=l(B-U*X),b=l(A*T),x=l(O*M),y=l(A*M),_=l(T*O);return new S(b,x,_,y)}subtract(R){return this.add(R.negate())}multiply(R){if(!o.isValidNot0(R))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:U,f:k}=I.cached(this,R,j=>gr(S,j));return gr(S,[U,k])[0]}multiplyUnsafe(R,U=S.ZERO){if(!o.isValid(R))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return R===Kn?S.ZERO:this.is0()||R===Et?this:I.unsafe(this,R,k=>gr(S,k),U)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return I.unsafe(this,i.n).is0()}toAffine(R){return g(this,R)}clearCofactor(){return s===Et?this:this.multiplyUnsafe(s)}toBytes(){const{x:R,y:U}=this.toAffine(),k=r.toBytes(U);return k[k.length-1]|=R&Et?128:0,k}toHex(){return vr(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(R){return gr(S,R)}static msm(R,U){return Qp(S,o,R,U)}_setWindowSize(R){this.precompute(R)}toRawBytes(){return this.toBytes()}}S.BASE=new S(i.Gx,i.Gy,Et,l(i.Gx*i.Gy)),S.ZERO=new S(Kn,Et,Et,Kn),S.Fp=r,S.Fn=o;const I=new Yp(S,o.BITS);return S.BASE.precompute(8),S}function vx(e,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');ai(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:o,Fp:i,Fn:s}=e,a=n.randomBytes||Au,l=n.adjustScalarBytes||(G=>G),h=n.domain||((G,Q,K)=>{if(_r(K,"phflag"),Q.length||K)throw new Error("Contexts/pre-hash are not supported");return G});function p(G){return s.create(Go(G))}function m(G){const Q=k.secretKey;G=Je("private key",G,Q);const K=Je("hashed private key",t(G),2*Q),X=l(K.slice(0,Q)),B=K.slice(Q,2*Q),d=p(X);return{head:X,prefix:B,scalar:d}}function g(G){const{head:Q,prefix:K,scalar:X}=m(G),B=o.multiply(X),d=B.toBytes();return{head:Q,prefix:K,scalar:X,point:B,pointBytes:d}}function w(G){return g(G).pointBytes}function S(G=Uint8Array.of(),...Q){const K=wn(...Q);return p(t(h(K,Je("context",G),!!r)))}function I(G,Q,K={}){G=Je("message",G),r&&(G=r(G));const{prefix:X,scalar:B,pointBytes:d}=g(Q),v=S(K.context,X,G),A=o.multiply(v).toBytes(),T=S(K.context,A,d,G),O=s.create(v+T*B);if(!s.isValid(O))throw new Error("sign failed: invalid s");const M=wn(A,s.toBytes(O));return on(M,k.signature,"result")}const P={zip215:!0};function R(G,Q,K,X=P){const{context:B,zip215:d}=X,v=k.signature;G=Je("signature",G,v),Q=Je("message",Q),K=Je("publicKey",K,k.publicKey),d!==void 0&&_r(d,"zip215"),r&&(Q=r(Q));const A=v/2,T=G.subarray(0,A),O=Go(G.subarray(A,v));let M,b,x;try{M=e.fromBytes(K,d),b=e.fromBytes(T,d),x=o.multiplyUnsafe(O)}catch{return!1}if(!d&&M.isSmallOrder())return!1;const y=S(B,b.toBytes(),M.toBytes(),Q);return b.add(M.multiplyUnsafe(y)).subtract(x).clearCofactor().is0()}const U=i.BYTES,k={secretKey:U,publicKey:U,signature:2*U,seed:U};function j(G=a(k.seed)){return on(G,k.seed,"seed")}function N(G){const Q=ne.randomSecretKey(G);return{secretKey:Q,publicKey:w(Q)}}function Z(G){return ri(G)&&G.length===s.BYTES}function Y(G,Q){try{return!!e.fromBytes(G,Q)}catch{return!1}}const ne={getExtendedPublicKey:g,randomSecretKey:j,isValidSecretKey:Z,isValidPublicKey:Y,toMontgomery(G){const{y:Q}=e.fromBytes(G),K=k.publicKey,X=K===32;if(!X&&K!==57)throw new Error("only defined for 25519 and 448");const B=X?i.div(Et+Q,Et-Q):i.div(Q-Et,Q+Et);return i.toBytes(B)},toMontgomerySecret(G){const Q=k.secretKey;on(G,Q);const K=t(G.subarray(0,Q));return l(K).subarray(0,Q)},randomPrivateKey:j,precompute(G=8,Q=e.BASE){return Q.precompute(G,!1)}};return Object.freeze({keygen:N,getPublicKey:w,sign:I,verify:R,utils:ne,Point:e,lengths:k})}function xx(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Or(t.n,e.nBitLength,!0),o={Fp:n,Fn:r,uvRatio:e.uvRatio},i={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:o,hash:e.hash,eddsaOpts:i}}function Ex(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function Sx(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:o}=xx(e),i=bx(t,n),s=vx(i,r,o);return Ex(e,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ax=BigInt(1),rh=BigInt(2);BigInt(3);const Bx=BigInt(5),_x=BigInt(8),Zu=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),t0={p:Zu,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:_x,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Ix(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=Zu,a=e*e%i*e%i,l=Ze(a,rh,i)*a%i,h=Ze(l,Ax,i)*e%i,p=Ze(h,Bx,i)*h%i,m=Ze(p,t,i)*p%i,g=Ze(m,n,i)*m%i,w=Ze(g,r,i)*g%i,S=Ze(w,o,i)*w%i,I=Ze(S,o,i)*w%i,P=Ze(I,t,i)*p%i;return{pow_p_5_8:Ze(P,rh,i)*e%i,b2:a}}function $x(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const oh=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Tx(e,t){const n=Zu,r=bt(t*t*t,n),o=bt(r*r*t,n),i=Ix(e*o).pow_p_5_8;let s=bt(e*r*i,n);const a=bt(t*s*s,n),l=s,h=bt(s*oh,n),p=a===e,m=a===bt(-e,n),g=a===bt(-e*oh,n);return p&&(s=l),(m||g)&&(s=h),ux(s,n)&&(s=bt(-s,n)),{isValid:p||m,value:s}}const Px=Or(t0.p,{isLE:!0}),Ox={...t0,Fp:Px,hash:m2,adjustScalarBytes:$x,uvRatio:Tx},ci=Sx(Ox);var Ju={exports:{}};const Rx={},Cx=Object.freeze(Object.defineProperty({__proto__:null,default:Rx},Symbol.toStringTag,{value:"Module"})),Mx=qu(Cx);Ju.exports;(function(e){(function(t,n){function r(B,d){if(!B)throw new Error(d||"Assertion failed")}function o(B,d){B.super_=d;var v=function(){};v.prototype=d.prototype,B.prototype=new v,B.prototype.constructor=B}function i(B,d,v){if(i.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((d==="le"||d==="be")&&(v=d,d=10),this._init(B||0,d||10,v||"be"))}typeof t=="object"?t.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Mx.Buffer}catch{}i.isBN=function(d){return d instanceof i?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===i.wordSize&&Array.isArray(d.words)},i.max=function(d,v){return d.cmp(v)>0?d:v},i.min=function(d,v){return d.cmp(v)<0?d:v},i.prototype._init=function(d,v,A){if(typeof d=="number")return this._initNumber(d,v,A);if(typeof d=="object")return this._initArray(d,v,A);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),d=d.toString().replace(/\s+/g,"");var T=0;d[0]==="-"&&(T++,this.negative=1),T<d.length&&(v===16?this._parseHex(d,T,A):(this._parseBase(d,v,T),A==="le"&&this._initArray(this.toArray(),v,A)))},i.prototype._initNumber=function(d,v,A){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),v,A)},i.prototype._initArray=function(d,v,A){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var O,M,b=0;if(A==="be")for(T=d.length-1,O=0;T>=0;T-=3)M=d[T]|d[T-1]<<8|d[T-2]<<16,this.words[O]|=M<<b&67108863,this.words[O+1]=M>>>26-b&67108863,b+=24,b>=26&&(b-=26,O++);else if(A==="le")for(T=0,O=0;T<d.length;T+=3)M=d[T]|d[T+1]<<8|d[T+2]<<16,this.words[O]|=M<<b&67108863,this.words[O+1]=M>>>26-b&67108863,b+=24,b>=26&&(b-=26,O++);return this._strip()};function a(B,d){var v=B.charCodeAt(d);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;r(!1,"Invalid character in "+B)}function l(B,d,v){var A=a(B,v);return v-1>=d&&(A|=a(B,v-1)<<4),A}i.prototype._parseHex=function(d,v,A){this.length=Math.ceil((d.length-v)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var O=0,M=0,b;if(A==="be")for(T=d.length-1;T>=v;T-=2)b=l(d,v,T)<<O,this.words[M]|=b&67108863,O>=18?(O-=18,M+=1,this.words[M]|=b>>>26):O+=8;else{var x=d.length-v;for(T=x%2===0?v+1:v;T<d.length;T+=2)b=l(d,v,T)<<O,this.words[M]|=b&67108863,O>=18?(O-=18,M+=1,this.words[M]|=b>>>26):O+=8}this._strip()};function h(B,d,v,A){for(var T=0,O=0,M=Math.min(B.length,v),b=d;b<M;b++){var x=B.charCodeAt(b)-48;T*=A,x>=49?O=x-49+10:x>=17?O=x-17+10:O=x,r(x>=0&&O<A,"Invalid character"),T+=O}return T}i.prototype._parseBase=function(d,v,A){this.words=[0],this.length=1;for(var T=0,O=1;O<=67108863;O*=v)T++;T--,O=O/v|0;for(var M=d.length-A,b=M%T,x=Math.min(M,M-b)+A,y=0,_=A;_<x;_+=T)y=h(d,_,_+T,v),this.imuln(O),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(b!==0){var z=1;for(y=h(d,_,d.length,v),_=0;_<b;_++)z*=v;this.imuln(z),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},i.prototype.copy=function(d){d.words=new Array(this.length);for(var v=0;v<this.length;v++)d.words[v]=this.words[v];d.length=this.length,d.negative=this.negative,d.red=this.red};function p(B,d){B.words=d.words,B.length=d.length,B.negative=d.negative,B.red=d.red}if(i.prototype._move=function(d){p(d,this)},i.prototype.clone=function(){var d=new i(null);return this.copy(d),d},i.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{i.prototype.inspect=m}else i.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(d,v){d=d||10,v=v|0||1;var A;if(d===16||d==="hex"){A="";for(var T=0,O=0,M=0;M<this.length;M++){var b=this.words[M],x=((b<<T|O)&16777215).toString(16);O=b>>>24-T&16777215,T+=2,T>=26&&(T-=26,M--),O!==0||M!==this.length-1?A=g[6-x.length]+x+A:A=x+A}for(O!==0&&(A=O.toString(16)+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(d===(d|0)&&d>=2&&d<=36){var y=w[d],_=S[d];A="";var z=this.clone();for(z.negative=0;!z.isZero();){var V=z.modrn(_).toString(d);z=z.idivn(_),z.isZero()?A=V+A:A=g[y-V.length]+V+A}for(this.isZero()&&(A="0"+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(d,v){return this.toArrayLike(s,d,v)}),i.prototype.toArray=function(d,v){return this.toArrayLike(Array,d,v)};var I=function(d,v){return d.allocUnsafe?d.allocUnsafe(v):new d(v)};i.prototype.toArrayLike=function(d,v,A){this._strip();var T=this.byteLength(),O=A||Math.max(1,T);r(T<=O,"byte array longer than desired length"),r(O>0,"Requested array length <= 0");var M=I(d,O),b=v==="le"?"LE":"BE";return this["_toArrayLike"+b](M,T),M},i.prototype._toArrayLikeLE=function(d,v){for(var A=0,T=0,O=0,M=0;O<this.length;O++){var b=this.words[O]<<M|T;d[A++]=b&255,A<d.length&&(d[A++]=b>>8&255),A<d.length&&(d[A++]=b>>16&255),M===6?(A<d.length&&(d[A++]=b>>24&255),T=0,M=0):(T=b>>>24,M+=2)}if(A<d.length)for(d[A++]=T;A<d.length;)d[A++]=0},i.prototype._toArrayLikeBE=function(d,v){for(var A=d.length-1,T=0,O=0,M=0;O<this.length;O++){var b=this.words[O]<<M|T;d[A--]=b&255,A>=0&&(d[A--]=b>>8&255),A>=0&&(d[A--]=b>>16&255),M===6?(A>=0&&(d[A--]=b>>24&255),T=0,M=0):(T=b>>>24,M+=2)}if(A>=0)for(d[A--]=T;A>=0;)d[A--]=0},Math.clz32?i.prototype._countBits=function(d){return 32-Math.clz32(d)}:i.prototype._countBits=function(d){var v=d,A=0;return v>=4096&&(A+=13,v>>>=13),v>=64&&(A+=7,v>>>=7),v>=8&&(A+=4,v>>>=4),v>=2&&(A+=2,v>>>=2),A+v},i.prototype._zeroBits=function(d){if(d===0)return 26;var v=d,A=0;return v&8191||(A+=13,v>>>=13),v&127||(A+=7,v>>>=7),v&15||(A+=4,v>>>=4),v&3||(A+=2,v>>>=2),v&1||A++,A},i.prototype.bitLength=function(){var d=this.words[this.length-1],v=this._countBits(d);return(this.length-1)*26+v};function P(B){for(var d=new Array(B.bitLength()),v=0;v<d.length;v++){var A=v/26|0,T=v%26;d[v]=B.words[A]>>>T&1}return d}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,v=0;v<this.length;v++){var A=this._zeroBits(this.words[v]);if(d+=A,A!==26)break}return d},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},i.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]|d.words[v];return this._strip()},i.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},i.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},i.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},i.prototype.iuand=function(d){var v;this.length>d.length?v=d:v=this;for(var A=0;A<v.length;A++)this.words[A]=this.words[A]&d.words[A];return this.length=v.length,this._strip()},i.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},i.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},i.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},i.prototype.iuxor=function(d){var v,A;this.length>d.length?(v=this,A=d):(v=d,A=this);for(var T=0;T<A.length;T++)this.words[T]=v.words[T]^A.words[T];if(this!==v)for(;T<v.length;T++)this.words[T]=v.words[T];return this.length=v.length,this._strip()},i.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},i.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},i.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},i.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var v=Math.ceil(d/26)|0,A=d%26;this._expand(v),A>0&&v--;for(var T=0;T<v;T++)this.words[T]=~this.words[T]&67108863;return A>0&&(this.words[T]=~this.words[T]&67108863>>26-A),this._strip()},i.prototype.notn=function(d){return this.clone().inotn(d)},i.prototype.setn=function(d,v){r(typeof d=="number"&&d>=0);var A=d/26|0,T=d%26;return this._expand(A+1),v?this.words[A]=this.words[A]|1<<T:this.words[A]=this.words[A]&~(1<<T),this._strip()},i.prototype.iadd=function(d){var v;if(this.negative!==0&&d.negative===0)return this.negative=0,v=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,v=this.isub(d),d.negative=1,v._normSign();var A,T;this.length>d.length?(A=this,T=d):(A=d,T=this);for(var O=0,M=0;M<T.length;M++)v=(A.words[M]|0)+(T.words[M]|0)+O,this.words[M]=v&67108863,O=v>>>26;for(;O!==0&&M<A.length;M++)v=(A.words[M]|0)+O,this.words[M]=v&67108863,O=v>>>26;if(this.length=A.length,O!==0)this.words[this.length]=O,this.length++;else if(A!==this)for(;M<A.length;M++)this.words[M]=A.words[M];return this},i.prototype.add=function(d){var v;return d.negative!==0&&this.negative===0?(d.negative=0,v=this.sub(d),d.negative^=1,v):d.negative===0&&this.negative!==0?(this.negative=0,v=d.sub(this),this.negative=1,v):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},i.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var v=this.iadd(d);return d.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var A=this.cmp(d);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,O;A>0?(T=this,O=d):(T=d,O=this);for(var M=0,b=0;b<O.length;b++)v=(T.words[b]|0)-(O.words[b]|0)+M,M=v>>26,this.words[b]=v&67108863;for(;M!==0&&b<T.length;b++)v=(T.words[b]|0)+M,M=v>>26,this.words[b]=v&67108863;if(M===0&&b<T.length&&T!==this)for(;b<T.length;b++)this.words[b]=T.words[b];return this.length=Math.max(this.length,b),T!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(d){return this.clone().isub(d)};function R(B,d,v){v.negative=d.negative^B.negative;var A=B.length+d.length|0;v.length=A,A=A-1|0;var T=B.words[0]|0,O=d.words[0]|0,M=T*O,b=M&67108863,x=M/67108864|0;v.words[0]=b;for(var y=1;y<A;y++){for(var _=x>>>26,z=x&67108863,V=Math.min(y,d.length-1),H=Math.max(0,y-B.length+1);H<=V;H++){var ue=y-H|0;T=B.words[ue]|0,O=d.words[H]|0,M=T*O+z,_+=M/67108864|0,z=M&67108863}v.words[y]=z|0,x=_|0}return x!==0?v.words[y]=x|0:v.length--,v._strip()}var U=function(d,v,A){var T=d.words,O=v.words,M=A.words,b=0,x,y,_,z=T[0]|0,V=z&8191,H=z>>>13,ue=T[1]|0,J=ue&8191,le=ue>>>13,Le=T[2]|0,Pe=Le&8191,Oe=Le>>>13,xt=T[3]|0,_e=xt&8191,ze=xt>>>13,Fr=T[4]|0,Ce=Fr&8191,De=Fr>>>13,Nr=T[5]|0,Fe=Nr&8191,Te=Nr>>>13,He=T[6]|0,Me=He&8191,qe=He>>>13,tt=T[7]|0,Ge=tt&8191,u=tt>>>13,c=T[8]|0,f=c&8191,E=c>>>13,$=T[9]|0,C=$&8191,F=$>>>13,ae=O[0]|0,ce=ae&8191,re=ae>>>13,ye=O[1]|0,oe=ye&8191,nt=ye>>>13,Cf=O[2]|0,rt=Cf&8191,ot=Cf>>>13,Mf=O[3]|0,it=Mf&8191,st=Mf>>>13,kf=O[4]|0,at=kf&8191,ct=kf>>>13,Uf=O[5]|0,ut=Uf&8191,ft=Uf>>>13,Ff=O[6]|0,lt=Ff&8191,ht=Ff>>>13,Nf=O[7]|0,dt=Nf&8191,pt=Nf>>>13,jf=O[8]|0,yt=jf&8191,mt=jf>>>13,Lf=O[9]|0,gt=Lf&8191,wt=Lf>>>13;A.negative=d.negative^v.negative,A.length=19,x=Math.imul(V,ce),y=Math.imul(V,re),y=y+Math.imul(H,ce)|0,_=Math.imul(H,re);var zs=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(zs>>>26)|0,zs&=67108863,x=Math.imul(J,ce),y=Math.imul(J,re),y=y+Math.imul(le,ce)|0,_=Math.imul(le,re),x=x+Math.imul(V,oe)|0,y=y+Math.imul(V,nt)|0,y=y+Math.imul(H,oe)|0,_=_+Math.imul(H,nt)|0;var Ds=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Ds>>>26)|0,Ds&=67108863,x=Math.imul(Pe,ce),y=Math.imul(Pe,re),y=y+Math.imul(Oe,ce)|0,_=Math.imul(Oe,re),x=x+Math.imul(J,oe)|0,y=y+Math.imul(J,nt)|0,y=y+Math.imul(le,oe)|0,_=_+Math.imul(le,nt)|0,x=x+Math.imul(V,rt)|0,y=y+Math.imul(V,ot)|0,y=y+Math.imul(H,rt)|0,_=_+Math.imul(H,ot)|0;var Hs=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Hs>>>26)|0,Hs&=67108863,x=Math.imul(_e,ce),y=Math.imul(_e,re),y=y+Math.imul(ze,ce)|0,_=Math.imul(ze,re),x=x+Math.imul(Pe,oe)|0,y=y+Math.imul(Pe,nt)|0,y=y+Math.imul(Oe,oe)|0,_=_+Math.imul(Oe,nt)|0,x=x+Math.imul(J,rt)|0,y=y+Math.imul(J,ot)|0,y=y+Math.imul(le,rt)|0,_=_+Math.imul(le,ot)|0,x=x+Math.imul(V,it)|0,y=y+Math.imul(V,st)|0,y=y+Math.imul(H,it)|0,_=_+Math.imul(H,st)|0;var qs=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(qs>>>26)|0,qs&=67108863,x=Math.imul(Ce,ce),y=Math.imul(Ce,re),y=y+Math.imul(De,ce)|0,_=Math.imul(De,re),x=x+Math.imul(_e,oe)|0,y=y+Math.imul(_e,nt)|0,y=y+Math.imul(ze,oe)|0,_=_+Math.imul(ze,nt)|0,x=x+Math.imul(Pe,rt)|0,y=y+Math.imul(Pe,ot)|0,y=y+Math.imul(Oe,rt)|0,_=_+Math.imul(Oe,ot)|0,x=x+Math.imul(J,it)|0,y=y+Math.imul(J,st)|0,y=y+Math.imul(le,it)|0,_=_+Math.imul(le,st)|0,x=x+Math.imul(V,at)|0,y=y+Math.imul(V,ct)|0,y=y+Math.imul(H,at)|0,_=_+Math.imul(H,ct)|0;var Gs=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Gs>>>26)|0,Gs&=67108863,x=Math.imul(Fe,ce),y=Math.imul(Fe,re),y=y+Math.imul(Te,ce)|0,_=Math.imul(Te,re),x=x+Math.imul(Ce,oe)|0,y=y+Math.imul(Ce,nt)|0,y=y+Math.imul(De,oe)|0,_=_+Math.imul(De,nt)|0,x=x+Math.imul(_e,rt)|0,y=y+Math.imul(_e,ot)|0,y=y+Math.imul(ze,rt)|0,_=_+Math.imul(ze,ot)|0,x=x+Math.imul(Pe,it)|0,y=y+Math.imul(Pe,st)|0,y=y+Math.imul(Oe,it)|0,_=_+Math.imul(Oe,st)|0,x=x+Math.imul(J,at)|0,y=y+Math.imul(J,ct)|0,y=y+Math.imul(le,at)|0,_=_+Math.imul(le,ct)|0,x=x+Math.imul(V,ut)|0,y=y+Math.imul(V,ft)|0,y=y+Math.imul(H,ut)|0,_=_+Math.imul(H,ft)|0;var Vs=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Vs>>>26)|0,Vs&=67108863,x=Math.imul(Me,ce),y=Math.imul(Me,re),y=y+Math.imul(qe,ce)|0,_=Math.imul(qe,re),x=x+Math.imul(Fe,oe)|0,y=y+Math.imul(Fe,nt)|0,y=y+Math.imul(Te,oe)|0,_=_+Math.imul(Te,nt)|0,x=x+Math.imul(Ce,rt)|0,y=y+Math.imul(Ce,ot)|0,y=y+Math.imul(De,rt)|0,_=_+Math.imul(De,ot)|0,x=x+Math.imul(_e,it)|0,y=y+Math.imul(_e,st)|0,y=y+Math.imul(ze,it)|0,_=_+Math.imul(ze,st)|0,x=x+Math.imul(Pe,at)|0,y=y+Math.imul(Pe,ct)|0,y=y+Math.imul(Oe,at)|0,_=_+Math.imul(Oe,ct)|0,x=x+Math.imul(J,ut)|0,y=y+Math.imul(J,ft)|0,y=y+Math.imul(le,ut)|0,_=_+Math.imul(le,ft)|0,x=x+Math.imul(V,lt)|0,y=y+Math.imul(V,ht)|0,y=y+Math.imul(H,lt)|0,_=_+Math.imul(H,ht)|0;var Ks=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Ks>>>26)|0,Ks&=67108863,x=Math.imul(Ge,ce),y=Math.imul(Ge,re),y=y+Math.imul(u,ce)|0,_=Math.imul(u,re),x=x+Math.imul(Me,oe)|0,y=y+Math.imul(Me,nt)|0,y=y+Math.imul(qe,oe)|0,_=_+Math.imul(qe,nt)|0,x=x+Math.imul(Fe,rt)|0,y=y+Math.imul(Fe,ot)|0,y=y+Math.imul(Te,rt)|0,_=_+Math.imul(Te,ot)|0,x=x+Math.imul(Ce,it)|0,y=y+Math.imul(Ce,st)|0,y=y+Math.imul(De,it)|0,_=_+Math.imul(De,st)|0,x=x+Math.imul(_e,at)|0,y=y+Math.imul(_e,ct)|0,y=y+Math.imul(ze,at)|0,_=_+Math.imul(ze,ct)|0,x=x+Math.imul(Pe,ut)|0,y=y+Math.imul(Pe,ft)|0,y=y+Math.imul(Oe,ut)|0,_=_+Math.imul(Oe,ft)|0,x=x+Math.imul(J,lt)|0,y=y+Math.imul(J,ht)|0,y=y+Math.imul(le,lt)|0,_=_+Math.imul(le,ht)|0,x=x+Math.imul(V,dt)|0,y=y+Math.imul(V,pt)|0,y=y+Math.imul(H,dt)|0,_=_+Math.imul(H,pt)|0;var Ws=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Ws>>>26)|0,Ws&=67108863,x=Math.imul(f,ce),y=Math.imul(f,re),y=y+Math.imul(E,ce)|0,_=Math.imul(E,re),x=x+Math.imul(Ge,oe)|0,y=y+Math.imul(Ge,nt)|0,y=y+Math.imul(u,oe)|0,_=_+Math.imul(u,nt)|0,x=x+Math.imul(Me,rt)|0,y=y+Math.imul(Me,ot)|0,y=y+Math.imul(qe,rt)|0,_=_+Math.imul(qe,ot)|0,x=x+Math.imul(Fe,it)|0,y=y+Math.imul(Fe,st)|0,y=y+Math.imul(Te,it)|0,_=_+Math.imul(Te,st)|0,x=x+Math.imul(Ce,at)|0,y=y+Math.imul(Ce,ct)|0,y=y+Math.imul(De,at)|0,_=_+Math.imul(De,ct)|0,x=x+Math.imul(_e,ut)|0,y=y+Math.imul(_e,ft)|0,y=y+Math.imul(ze,ut)|0,_=_+Math.imul(ze,ft)|0,x=x+Math.imul(Pe,lt)|0,y=y+Math.imul(Pe,ht)|0,y=y+Math.imul(Oe,lt)|0,_=_+Math.imul(Oe,ht)|0,x=x+Math.imul(J,dt)|0,y=y+Math.imul(J,pt)|0,y=y+Math.imul(le,dt)|0,_=_+Math.imul(le,pt)|0,x=x+Math.imul(V,yt)|0,y=y+Math.imul(V,mt)|0,y=y+Math.imul(H,yt)|0,_=_+Math.imul(H,mt)|0;var Zs=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Zs>>>26)|0,Zs&=67108863,x=Math.imul(C,ce),y=Math.imul(C,re),y=y+Math.imul(F,ce)|0,_=Math.imul(F,re),x=x+Math.imul(f,oe)|0,y=y+Math.imul(f,nt)|0,y=y+Math.imul(E,oe)|0,_=_+Math.imul(E,nt)|0,x=x+Math.imul(Ge,rt)|0,y=y+Math.imul(Ge,ot)|0,y=y+Math.imul(u,rt)|0,_=_+Math.imul(u,ot)|0,x=x+Math.imul(Me,it)|0,y=y+Math.imul(Me,st)|0,y=y+Math.imul(qe,it)|0,_=_+Math.imul(qe,st)|0,x=x+Math.imul(Fe,at)|0,y=y+Math.imul(Fe,ct)|0,y=y+Math.imul(Te,at)|0,_=_+Math.imul(Te,ct)|0,x=x+Math.imul(Ce,ut)|0,y=y+Math.imul(Ce,ft)|0,y=y+Math.imul(De,ut)|0,_=_+Math.imul(De,ft)|0,x=x+Math.imul(_e,lt)|0,y=y+Math.imul(_e,ht)|0,y=y+Math.imul(ze,lt)|0,_=_+Math.imul(ze,ht)|0,x=x+Math.imul(Pe,dt)|0,y=y+Math.imul(Pe,pt)|0,y=y+Math.imul(Oe,dt)|0,_=_+Math.imul(Oe,pt)|0,x=x+Math.imul(J,yt)|0,y=y+Math.imul(J,mt)|0,y=y+Math.imul(le,yt)|0,_=_+Math.imul(le,mt)|0,x=x+Math.imul(V,gt)|0,y=y+Math.imul(V,wt)|0,y=y+Math.imul(H,gt)|0,_=_+Math.imul(H,wt)|0;var Js=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Js>>>26)|0,Js&=67108863,x=Math.imul(C,oe),y=Math.imul(C,nt),y=y+Math.imul(F,oe)|0,_=Math.imul(F,nt),x=x+Math.imul(f,rt)|0,y=y+Math.imul(f,ot)|0,y=y+Math.imul(E,rt)|0,_=_+Math.imul(E,ot)|0,x=x+Math.imul(Ge,it)|0,y=y+Math.imul(Ge,st)|0,y=y+Math.imul(u,it)|0,_=_+Math.imul(u,st)|0,x=x+Math.imul(Me,at)|0,y=y+Math.imul(Me,ct)|0,y=y+Math.imul(qe,at)|0,_=_+Math.imul(qe,ct)|0,x=x+Math.imul(Fe,ut)|0,y=y+Math.imul(Fe,ft)|0,y=y+Math.imul(Te,ut)|0,_=_+Math.imul(Te,ft)|0,x=x+Math.imul(Ce,lt)|0,y=y+Math.imul(Ce,ht)|0,y=y+Math.imul(De,lt)|0,_=_+Math.imul(De,ht)|0,x=x+Math.imul(_e,dt)|0,y=y+Math.imul(_e,pt)|0,y=y+Math.imul(ze,dt)|0,_=_+Math.imul(ze,pt)|0,x=x+Math.imul(Pe,yt)|0,y=y+Math.imul(Pe,mt)|0,y=y+Math.imul(Oe,yt)|0,_=_+Math.imul(Oe,mt)|0,x=x+Math.imul(J,gt)|0,y=y+Math.imul(J,wt)|0,y=y+Math.imul(le,gt)|0,_=_+Math.imul(le,wt)|0;var Xs=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,x=Math.imul(C,rt),y=Math.imul(C,ot),y=y+Math.imul(F,rt)|0,_=Math.imul(F,ot),x=x+Math.imul(f,it)|0,y=y+Math.imul(f,st)|0,y=y+Math.imul(E,it)|0,_=_+Math.imul(E,st)|0,x=x+Math.imul(Ge,at)|0,y=y+Math.imul(Ge,ct)|0,y=y+Math.imul(u,at)|0,_=_+Math.imul(u,ct)|0,x=x+Math.imul(Me,ut)|0,y=y+Math.imul(Me,ft)|0,y=y+Math.imul(qe,ut)|0,_=_+Math.imul(qe,ft)|0,x=x+Math.imul(Fe,lt)|0,y=y+Math.imul(Fe,ht)|0,y=y+Math.imul(Te,lt)|0,_=_+Math.imul(Te,ht)|0,x=x+Math.imul(Ce,dt)|0,y=y+Math.imul(Ce,pt)|0,y=y+Math.imul(De,dt)|0,_=_+Math.imul(De,pt)|0,x=x+Math.imul(_e,yt)|0,y=y+Math.imul(_e,mt)|0,y=y+Math.imul(ze,yt)|0,_=_+Math.imul(ze,mt)|0,x=x+Math.imul(Pe,gt)|0,y=y+Math.imul(Pe,wt)|0,y=y+Math.imul(Oe,gt)|0,_=_+Math.imul(Oe,wt)|0;var Ys=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,x=Math.imul(C,it),y=Math.imul(C,st),y=y+Math.imul(F,it)|0,_=Math.imul(F,st),x=x+Math.imul(f,at)|0,y=y+Math.imul(f,ct)|0,y=y+Math.imul(E,at)|0,_=_+Math.imul(E,ct)|0,x=x+Math.imul(Ge,ut)|0,y=y+Math.imul(Ge,ft)|0,y=y+Math.imul(u,ut)|0,_=_+Math.imul(u,ft)|0,x=x+Math.imul(Me,lt)|0,y=y+Math.imul(Me,ht)|0,y=y+Math.imul(qe,lt)|0,_=_+Math.imul(qe,ht)|0,x=x+Math.imul(Fe,dt)|0,y=y+Math.imul(Fe,pt)|0,y=y+Math.imul(Te,dt)|0,_=_+Math.imul(Te,pt)|0,x=x+Math.imul(Ce,yt)|0,y=y+Math.imul(Ce,mt)|0,y=y+Math.imul(De,yt)|0,_=_+Math.imul(De,mt)|0,x=x+Math.imul(_e,gt)|0,y=y+Math.imul(_e,wt)|0,y=y+Math.imul(ze,gt)|0,_=_+Math.imul(ze,wt)|0;var Qs=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,x=Math.imul(C,at),y=Math.imul(C,ct),y=y+Math.imul(F,at)|0,_=Math.imul(F,ct),x=x+Math.imul(f,ut)|0,y=y+Math.imul(f,ft)|0,y=y+Math.imul(E,ut)|0,_=_+Math.imul(E,ft)|0,x=x+Math.imul(Ge,lt)|0,y=y+Math.imul(Ge,ht)|0,y=y+Math.imul(u,lt)|0,_=_+Math.imul(u,ht)|0,x=x+Math.imul(Me,dt)|0,y=y+Math.imul(Me,pt)|0,y=y+Math.imul(qe,dt)|0,_=_+Math.imul(qe,pt)|0,x=x+Math.imul(Fe,yt)|0,y=y+Math.imul(Fe,mt)|0,y=y+Math.imul(Te,yt)|0,_=_+Math.imul(Te,mt)|0,x=x+Math.imul(Ce,gt)|0,y=y+Math.imul(Ce,wt)|0,y=y+Math.imul(De,gt)|0,_=_+Math.imul(De,wt)|0;var ea=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(ea>>>26)|0,ea&=67108863,x=Math.imul(C,ut),y=Math.imul(C,ft),y=y+Math.imul(F,ut)|0,_=Math.imul(F,ft),x=x+Math.imul(f,lt)|0,y=y+Math.imul(f,ht)|0,y=y+Math.imul(E,lt)|0,_=_+Math.imul(E,ht)|0,x=x+Math.imul(Ge,dt)|0,y=y+Math.imul(Ge,pt)|0,y=y+Math.imul(u,dt)|0,_=_+Math.imul(u,pt)|0,x=x+Math.imul(Me,yt)|0,y=y+Math.imul(Me,mt)|0,y=y+Math.imul(qe,yt)|0,_=_+Math.imul(qe,mt)|0,x=x+Math.imul(Fe,gt)|0,y=y+Math.imul(Fe,wt)|0,y=y+Math.imul(Te,gt)|0,_=_+Math.imul(Te,wt)|0;var ta=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(ta>>>26)|0,ta&=67108863,x=Math.imul(C,lt),y=Math.imul(C,ht),y=y+Math.imul(F,lt)|0,_=Math.imul(F,ht),x=x+Math.imul(f,dt)|0,y=y+Math.imul(f,pt)|0,y=y+Math.imul(E,dt)|0,_=_+Math.imul(E,pt)|0,x=x+Math.imul(Ge,yt)|0,y=y+Math.imul(Ge,mt)|0,y=y+Math.imul(u,yt)|0,_=_+Math.imul(u,mt)|0,x=x+Math.imul(Me,gt)|0,y=y+Math.imul(Me,wt)|0,y=y+Math.imul(qe,gt)|0,_=_+Math.imul(qe,wt)|0;var na=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(na>>>26)|0,na&=67108863,x=Math.imul(C,dt),y=Math.imul(C,pt),y=y+Math.imul(F,dt)|0,_=Math.imul(F,pt),x=x+Math.imul(f,yt)|0,y=y+Math.imul(f,mt)|0,y=y+Math.imul(E,yt)|0,_=_+Math.imul(E,mt)|0,x=x+Math.imul(Ge,gt)|0,y=y+Math.imul(Ge,wt)|0,y=y+Math.imul(u,gt)|0,_=_+Math.imul(u,wt)|0;var ra=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(ra>>>26)|0,ra&=67108863,x=Math.imul(C,yt),y=Math.imul(C,mt),y=y+Math.imul(F,yt)|0,_=Math.imul(F,mt),x=x+Math.imul(f,gt)|0,y=y+Math.imul(f,wt)|0,y=y+Math.imul(E,gt)|0,_=_+Math.imul(E,wt)|0;var oa=(b+x|0)+((y&8191)<<13)|0;b=(_+(y>>>13)|0)+(oa>>>26)|0,oa&=67108863,x=Math.imul(C,gt),y=Math.imul(C,wt),y=y+Math.imul(F,gt)|0,_=Math.imul(F,wt);var ia=(b+x|0)+((y&8191)<<13)|0;return b=(_+(y>>>13)|0)+(ia>>>26)|0,ia&=67108863,M[0]=zs,M[1]=Ds,M[2]=Hs,M[3]=qs,M[4]=Gs,M[5]=Vs,M[6]=Ks,M[7]=Ws,M[8]=Zs,M[9]=Js,M[10]=Xs,M[11]=Ys,M[12]=Qs,M[13]=ea,M[14]=ta,M[15]=na,M[16]=ra,M[17]=oa,M[18]=ia,b!==0&&(M[19]=b,A.length++),A};Math.imul||(U=R);function k(B,d,v){v.negative=d.negative^B.negative,v.length=B.length+d.length;for(var A=0,T=0,O=0;O<v.length-1;O++){var M=T;T=0;for(var b=A&67108863,x=Math.min(O,d.length-1),y=Math.max(0,O-B.length+1);y<=x;y++){var _=O-y,z=B.words[_]|0,V=d.words[y]|0,H=z*V,ue=H&67108863;M=M+(H/67108864|0)|0,ue=ue+b|0,b=ue&67108863,M=M+(ue>>>26)|0,T+=M>>>26,M&=67108863}v.words[O]=b,A=M,M=T}return A!==0?v.words[O]=A:v.length--,v._strip()}function j(B,d,v){return k(B,d,v)}i.prototype.mulTo=function(d,v){var A,T=this.length+d.length;return this.length===10&&d.length===10?A=U(this,d,v):T<63?A=R(this,d,v):T<1024?A=k(this,d,v):A=j(this,d,v),A},i.prototype.mul=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),this.mulTo(d,v)},i.prototype.mulf=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),j(this,d,v)},i.prototype.imul=function(d){return this.clone().mulTo(d,this)},i.prototype.imuln=function(d){var v=d<0;v&&(d=-d),r(typeof d=="number"),r(d<67108864);for(var A=0,T=0;T<this.length;T++){var O=(this.words[T]|0)*d,M=(O&67108863)+(A&67108863);A>>=26,A+=O/67108864|0,A+=M>>>26,this.words[T]=M&67108863}return A!==0&&(this.words[T]=A,this.length++),this.length=d===0?1:this.length,v?this.ineg():this},i.prototype.muln=function(d){return this.clone().imuln(d)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(d){var v=P(d);if(v.length===0)return new i(1);for(var A=this,T=0;T<v.length&&v[T]===0;T++,A=A.sqr());if(++T<v.length)for(var O=A.sqr();T<v.length;T++,O=O.sqr())v[T]!==0&&(A=A.mul(O));return A},i.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var v=d%26,A=(d-v)/26,T=67108863>>>26-v<<26-v,O;if(v!==0){var M=0;for(O=0;O<this.length;O++){var b=this.words[O]&T,x=(this.words[O]|0)-b<<v;this.words[O]=x|M,M=b>>>26-v}M&&(this.words[O]=M,this.length++)}if(A!==0){for(O=this.length-1;O>=0;O--)this.words[O+A]=this.words[O];for(O=0;O<A;O++)this.words[O]=0;this.length+=A}return this._strip()},i.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},i.prototype.iushrn=function(d,v,A){r(typeof d=="number"&&d>=0);var T;v?T=(v-v%26)/26:T=0;var O=d%26,M=Math.min((d-O)/26,this.length),b=67108863^67108863>>>O<<O,x=A;if(T-=M,T=Math.max(0,T),x){for(var y=0;y<M;y++)x.words[y]=this.words[y];x.length=M}if(M!==0)if(this.length>M)for(this.length-=M,y=0;y<this.length;y++)this.words[y]=this.words[y+M];else this.words[0]=0,this.length=1;var _=0;for(y=this.length-1;y>=0&&(_!==0||y>=T);y--){var z=this.words[y]|0;this.words[y]=_<<26-O|z>>>O,_=z&b}return x&&_!==0&&(x.words[x.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(d,v,A){return r(this.negative===0),this.iushrn(d,v,A)},i.prototype.shln=function(d){return this.clone().ishln(d)},i.prototype.ushln=function(d){return this.clone().iushln(d)},i.prototype.shrn=function(d){return this.clone().ishrn(d)},i.prototype.ushrn=function(d){return this.clone().iushrn(d)},i.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,A=(d-v)/26,T=1<<v;if(this.length<=A)return!1;var O=this.words[A];return!!(O&T)},i.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,A=(d-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(v!==0&&A++,this.length=Math.min(A,this.length),v!==0){var T=67108863^67108863>>>v<<v;this.words[this.length-1]&=T}return this._strip()},i.prototype.maskn=function(d){return this.clone().imaskn(d)},i.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},i.prototype._iaddn=function(d){this.words[0]+=d;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},i.prototype.addn=function(d){return this.clone().iaddn(d)},i.prototype.subn=function(d){return this.clone().isubn(d)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(d,v,A){var T=d.length+A,O;this._expand(T);var M,b=0;for(O=0;O<d.length;O++){M=(this.words[O+A]|0)+b;var x=(d.words[O]|0)*v;M-=x&67108863,b=(M>>26)-(x/67108864|0),this.words[O+A]=M&67108863}for(;O<this.length-A;O++)M=(this.words[O+A]|0)+b,b=M>>26,this.words[O+A]=M&67108863;if(b===0)return this._strip();for(r(b===-1),b=0,O=0;O<this.length;O++)M=-(this.words[O]|0)+b,b=M>>26,this.words[O]=M&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(d,v){var A=this.length-d.length,T=this.clone(),O=d,M=O.words[O.length-1]|0,b=this._countBits(M);A=26-b,A!==0&&(O=O.ushln(A),T.iushln(A),M=O.words[O.length-1]|0);var x=T.length-O.length,y;if(v!=="mod"){y=new i(null),y.length=x+1,y.words=new Array(y.length);for(var _=0;_<y.length;_++)y.words[_]=0}var z=T.clone()._ishlnsubmul(O,1,x);z.negative===0&&(T=z,y&&(y.words[x]=1));for(var V=x-1;V>=0;V--){var H=(T.words[O.length+V]|0)*67108864+(T.words[O.length+V-1]|0);for(H=Math.min(H/M|0,67108863),T._ishlnsubmul(O,H,V);T.negative!==0;)H--,T.negative=0,T._ishlnsubmul(O,1,V),T.isZero()||(T.negative^=1);y&&(y.words[V]=H)}return y&&y._strip(),T._strip(),v!=="div"&&A!==0&&T.iushrn(A),{div:y||null,mod:T}},i.prototype.divmod=function(d,v,A){if(r(!d.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var T,O,M;return this.negative!==0&&d.negative===0?(M=this.neg().divmod(d,v),v!=="mod"&&(T=M.div.neg()),v!=="div"&&(O=M.mod.neg(),A&&O.negative!==0&&O.iadd(d)),{div:T,mod:O}):this.negative===0&&d.negative!==0?(M=this.divmod(d.neg(),v),v!=="mod"&&(T=M.div.neg()),{div:T,mod:M.mod}):this.negative&d.negative?(M=this.neg().divmod(d.neg(),v),v!=="div"&&(O=M.mod.neg(),A&&O.negative!==0&&O.isub(d)),{div:M.div,mod:O}):d.length>this.length||this.cmp(d)<0?{div:new i(0),mod:this}:d.length===1?v==="div"?{div:this.divn(d.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new i(this.modrn(d.words[0]))}:this._wordDiv(d,v)},i.prototype.div=function(d){return this.divmod(d,"div",!1).div},i.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},i.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},i.prototype.divRound=function(d){var v=this.divmod(d);if(v.mod.isZero())return v.div;var A=v.div.negative!==0?v.mod.isub(d):v.mod,T=d.ushrn(1),O=d.andln(1),M=A.cmp(T);return M<0||O===1&&M===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modrn=function(d){var v=d<0;v&&(d=-d),r(d<=67108863);for(var A=(1<<26)%d,T=0,O=this.length-1;O>=0;O--)T=(A*T+(this.words[O]|0))%d;return v?-T:T},i.prototype.modn=function(d){return this.modrn(d)},i.prototype.idivn=function(d){var v=d<0;v&&(d=-d),r(d<=67108863);for(var A=0,T=this.length-1;T>=0;T--){var O=(this.words[T]|0)+A*67108864;this.words[T]=O/d|0,A=O%d}return this._strip(),v?this.ineg():this},i.prototype.divn=function(d){return this.clone().idivn(d)},i.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var v=this,A=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var T=new i(1),O=new i(0),M=new i(0),b=new i(1),x=0;v.isEven()&&A.isEven();)v.iushrn(1),A.iushrn(1),++x;for(var y=A.clone(),_=v.clone();!v.isZero();){for(var z=0,V=1;!(v.words[0]&V)&&z<26;++z,V<<=1);if(z>0)for(v.iushrn(z);z-- >0;)(T.isOdd()||O.isOdd())&&(T.iadd(y),O.isub(_)),T.iushrn(1),O.iushrn(1);for(var H=0,ue=1;!(A.words[0]&ue)&&H<26;++H,ue<<=1);if(H>0)for(A.iushrn(H);H-- >0;)(M.isOdd()||b.isOdd())&&(M.iadd(y),b.isub(_)),M.iushrn(1),b.iushrn(1);v.cmp(A)>=0?(v.isub(A),T.isub(M),O.isub(b)):(A.isub(v),M.isub(T),b.isub(O))}return{a:M,b,gcd:A.iushln(x)}},i.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var v=this,A=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var T=new i(1),O=new i(0),M=A.clone();v.cmpn(1)>0&&A.cmpn(1)>0;){for(var b=0,x=1;!(v.words[0]&x)&&b<26;++b,x<<=1);if(b>0)for(v.iushrn(b);b-- >0;)T.isOdd()&&T.iadd(M),T.iushrn(1);for(var y=0,_=1;!(A.words[0]&_)&&y<26;++y,_<<=1);if(y>0)for(A.iushrn(y);y-- >0;)O.isOdd()&&O.iadd(M),O.iushrn(1);v.cmp(A)>=0?(v.isub(A),T.isub(O)):(A.isub(v),O.isub(T))}var z;return v.cmpn(1)===0?z=T:z=O,z.cmpn(0)<0&&z.iadd(d),z},i.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var v=this.clone(),A=d.clone();v.negative=0,A.negative=0;for(var T=0;v.isEven()&&A.isEven();T++)v.iushrn(1),A.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;A.isEven();)A.iushrn(1);var O=v.cmp(A);if(O<0){var M=v;v=A,A=M}else if(O===0||A.cmpn(1)===0)break;v.isub(A)}while(!0);return A.iushln(T)},i.prototype.invm=function(d){return this.egcd(d).a.umod(d)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(d){return this.words[0]&d},i.prototype.bincn=function(d){r(typeof d=="number");var v=d%26,A=(d-v)/26,T=1<<v;if(this.length<=A)return this._expand(A+1),this.words[A]|=T,this;for(var O=T,M=A;O!==0&&M<this.length;M++){var b=this.words[M]|0;b+=O,O=b>>>26,b&=67108863,this.words[M]=b}return O!==0&&(this.words[M]=O,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(d){var v=d<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var A;if(this.length>1)A=1;else{v&&(d=-d),r(d<=67108863,"Number is too big");var T=this.words[0]|0;A=T===d?0:T<d?-1:1}return this.negative!==0?-A|0:A},i.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var v=this.ucmp(d);return this.negative!==0?-v|0:v},i.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var v=0,A=this.length-1;A>=0;A--){var T=this.words[A]|0,O=d.words[A]|0;if(T!==O){T<O?v=-1:T>O&&(v=1);break}}return v},i.prototype.gtn=function(d){return this.cmpn(d)===1},i.prototype.gt=function(d){return this.cmp(d)===1},i.prototype.gten=function(d){return this.cmpn(d)>=0},i.prototype.gte=function(d){return this.cmp(d)>=0},i.prototype.ltn=function(d){return this.cmpn(d)===-1},i.prototype.lt=function(d){return this.cmp(d)===-1},i.prototype.lten=function(d){return this.cmpn(d)<=0},i.prototype.lte=function(d){return this.cmp(d)<=0},i.prototype.eqn=function(d){return this.cmpn(d)===0},i.prototype.eq=function(d){return this.cmp(d)===0},i.red=function(d){return new K(d)},i.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(d){return this.red=d,this},i.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},i.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},i.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},i.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},i.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},i.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},i.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},i.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var N={k256:null,p224:null,p192:null,p25519:null};function Z(B,d){this.name=B,this.p=new i(d,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var d=new i(null);return d.words=new Array(Math.ceil(this.n/13)),d},Z.prototype.ireduce=function(d){var v=d,A;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),A=v.bitLength();while(A>this.n);var T=A<this.n?-1:v.ucmp(this.p);return T===0?(v.words[0]=0,v.length=1):T>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},Z.prototype.split=function(d,v){d.iushrn(this.n,0,v)},Z.prototype.imulK=function(d){return d.imul(this.k)};function Y(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(Y,Z),Y.prototype.split=function(d,v){for(var A=4194303,T=Math.min(d.length,9),O=0;O<T;O++)v.words[O]=d.words[O];if(v.length=T,d.length<=9){d.words[0]=0,d.length=1;return}var M=d.words[9];for(v.words[v.length++]=M&A,O=10;O<d.length;O++){var b=d.words[O]|0;d.words[O-10]=(b&A)<<4|M>>>22,M=b}M>>>=22,d.words[O-10]=M,M===0&&d.length>10?d.length-=10:d.length-=9},Y.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var v=0,A=0;A<d.length;A++){var T=d.words[A]|0;v+=T*977,d.words[A]=v&67108863,v=T*64+(v/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function ne(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(ne,Z);function G(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(G,Z);function Q(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Q,Z),Q.prototype.imulK=function(d){for(var v=0,A=0;A<d.length;A++){var T=(d.words[A]|0)*19+v,O=T&67108863;T>>>=26,d.words[A]=O,v=T}return v!==0&&(d.words[d.length++]=v),d},i._prime=function(d){if(N[d])return N[d];var v;if(d==="k256")v=new Y;else if(d==="p224")v=new ne;else if(d==="p192")v=new G;else if(d==="p25519")v=new Q;else throw new Error("Unknown prime "+d);return N[d]=v,v};function K(B){if(typeof B=="string"){var d=i._prime(B);this.m=d.p,this.prime=d}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}K.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},K.prototype._verify2=function(d,v){r((d.negative|v.negative)===0,"red works only with positives"),r(d.red&&d.red===v.red,"red works only with red numbers")},K.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(p(d,d.umod(this.m)._forceRed(this)),d)},K.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},K.prototype.add=function(d,v){this._verify2(d,v);var A=d.add(v);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},K.prototype.iadd=function(d,v){this._verify2(d,v);var A=d.iadd(v);return A.cmp(this.m)>=0&&A.isub(this.m),A},K.prototype.sub=function(d,v){this._verify2(d,v);var A=d.sub(v);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},K.prototype.isub=function(d,v){this._verify2(d,v);var A=d.isub(v);return A.cmpn(0)<0&&A.iadd(this.m),A},K.prototype.shl=function(d,v){return this._verify1(d),this.imod(d.ushln(v))},K.prototype.imul=function(d,v){return this._verify2(d,v),this.imod(d.imul(v))},K.prototype.mul=function(d,v){return this._verify2(d,v),this.imod(d.mul(v))},K.prototype.isqr=function(d){return this.imul(d,d.clone())},K.prototype.sqr=function(d){return this.mul(d,d)},K.prototype.sqrt=function(d){if(d.isZero())return d.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var A=this.m.add(new i(1)).iushrn(2);return this.pow(d,A)}for(var T=this.m.subn(1),O=0;!T.isZero()&&T.andln(1)===0;)O++,T.iushrn(1);r(!T.isZero());var M=new i(1).toRed(this),b=M.redNeg(),x=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new i(2*y*y).toRed(this);this.pow(y,x).cmp(b)!==0;)y.redIAdd(b);for(var _=this.pow(y,T),z=this.pow(d,T.addn(1).iushrn(1)),V=this.pow(d,T),H=O;V.cmp(M)!==0;){for(var ue=V,J=0;ue.cmp(M)!==0;J++)ue=ue.redSqr();r(J<H);var le=this.pow(_,new i(1).iushln(H-J-1));z=z.redMul(le),_=le.redSqr(),V=V.redMul(_),H=J}return z},K.prototype.invm=function(d){var v=d._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},K.prototype.pow=function(d,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return d.clone();var A=4,T=new Array(1<<A);T[0]=new i(1).toRed(this),T[1]=d;for(var O=2;O<T.length;O++)T[O]=this.mul(T[O-1],d);var M=T[0],b=0,x=0,y=v.bitLength()%26;for(y===0&&(y=26),O=v.length-1;O>=0;O--){for(var _=v.words[O],z=y-1;z>=0;z--){var V=_>>z&1;if(M!==T[0]&&(M=this.sqr(M)),V===0&&b===0){x=0;continue}b<<=1,b|=V,x++,!(x!==A&&(O!==0||z!==0))&&(M=this.mul(M,T[b]),x=0,b=0)}y=26}return M},K.prototype.convertTo=function(d){var v=d.umod(this.m);return v===d?v.clone():v},K.prototype.convertFrom=function(d){var v=d.clone();return v.red=null,v},i.mont=function(d){return new X(d)};function X(B){K.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,K),X.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},X.prototype.convertFrom=function(d){var v=this.imod(d.mul(this.rinv));return v.red=null,v},X.prototype.imul=function(d,v){if(d.isZero()||v.isZero())return d.words[0]=0,d.length=1,d;var A=d.imul(v),T=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=A.isub(T).iushrn(this.shift),M=O;return O.cmp(this.m)>=0?M=O.isub(this.m):O.cmpn(0)<0&&(M=O.iadd(this.m)),M._forceRed(this)},X.prototype.mul=function(d,v){if(d.isZero()||v.isZero())return new i(0)._forceRed(this);var A=d.mul(v),T=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=A.isub(T).iushrn(this.shift),M=O;return O.cmp(this.m)>=0?M=O.isub(this.m):O.cmpn(0)<0&&(M=O.iadd(this.m)),M._forceRed(this)},X.prototype.invm=function(d){var v=this.imod(d._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(e,un)})(Ju);var n0=Ju.exports;const ih=Mp(n0);var Oc={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=Xe,r=n.Buffer;function o(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=i);function i(s,a,l){return r(s,a,l)}i.prototype=Object.create(r.prototype),o(r,i),i.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},i.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=r(s);return a!==void 0?typeof l=="string"?h.fill(a,l):h.fill(a):h.fill(0),h},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(Oc,Oc.exports);var kx=Oc.exports,Ti=kx.Buffer;function Ux(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var o=e.charAt(r),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=r}var s=e.length,a=e.charAt(0),l=Math.log(s)/Math.log(256),h=Math.log(256)/Math.log(s);function p(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=Ti.from(w)),!Ti.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var S=0,I=0,P=0,R=w.length;P!==R&&w[P]===0;)P++,S++;for(var U=(R-P)*h+1>>>0,k=new Uint8Array(U);P!==R;){for(var j=w[P],N=0,Z=U-1;(j!==0||N<I)&&Z!==-1;Z--,N++)j+=256*k[Z]>>>0,k[Z]=j%s>>>0,j=j/s>>>0;if(j!==0)throw new Error("Non-zero carry");I=N,P++}for(var Y=U-I;Y!==U&&k[Y]===0;)Y++;for(var ne=a.repeat(S);Y<U;++Y)ne+=e.charAt(k[Y]);return ne}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return Ti.alloc(0);for(var S=0,I=0,P=0;w[S]===a;)I++,S++;for(var R=(w.length-S)*l+1>>>0,U=new Uint8Array(R);S<w.length;){var k=w.charCodeAt(S);if(k>255)return;var j=t[k];if(j===255)return;for(var N=0,Z=R-1;(j!==0||N<P)&&Z!==-1;Z--,N++)j+=s*U[Z]>>>0,U[Z]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");P=N,S++}for(var Y=R-P;Y!==R&&U[Y]===0;)Y++;var ne=Ti.allocUnsafe(I+(R-Y));ne.fill(0,0,I);for(var G=I;Y!==R;)ne[G++]=U[Y++];return ne}function g(w){var S=m(w);if(S)return S;throw new Error("Non-base"+s+" character")}return{encode:p,decodeUnsafe:m,decode:g}}var Fx=Ux,Nx=Fx,jx="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",r0=Nx(jx);const sh=Mp(r0);var _t={};function Mn(e,t,n){return t<=e&&e<=n}function Bs(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function Lx(e){for(var t=String(e),n=t.length,r=0,o=[];r<n;){var i=t.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)o.push(65533);else{var s=e.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=i&1023,l=s&1023;o.push(65536+(a<<10)+l),r+=1}else o.push(65533)}r+=1}return o}function zx(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Ki=-1;function Xu(e){this.tokens=[].slice.call(e)}Xu.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ki},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var co=-1;function Na(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Wi="utf-8";function Zi(e,t){if(!(this instanceof Zi))return new Zi(e,t);if(e=e!==void 0?String(e).toLowerCase():Wi,e!==Wi)throw new Error("Encoding not supported. Only utf-8 is supported");t=Bs(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Zi.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=Bs(n),this._streaming||(this._decoder=new Dx({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var o=new Xu(r),i=[],s;!o.endOfStream()&&(s=this._decoder.handler(o,o.read()),s!==co);)s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));if(!this._streaming){do{if(s=this._decoder.handler(o,o.read()),s===co)break;s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),zx(i)}};function Ji(e,t){if(!(this instanceof Ji))return new Ji(e,t);if(e=e!==void 0?String(e).toLowerCase():Wi,e!==Wi)throw new Error("Encoding not supported. Only utf-8 is supported");t=Bs(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ji.prototype={encode:function(t,n){t=t?String(t):"",n=Bs(n),this._streaming||(this._encoder=new Hx(this._options)),this._streaming=!!n.stream;for(var r=[],o=new Xu(Lx(t)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==co);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==co;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function Dx(e){var t=e.fatal,n=0,r=0,o=0,i=128,s=191;this.handler=function(a,l){if(l===Ki&&o!==0)return o=0,Na(t);if(l===Ki)return co;if(o===0){if(Mn(l,0,127))return l;if(Mn(l,194,223))o=1,n=l-192;else if(Mn(l,224,239))l===224&&(i=160),l===237&&(s=159),o=2,n=l-224;else if(Mn(l,240,244))l===240&&(i=144),l===244&&(s=143),o=3,n=l-240;else return Na(t);return n=n<<6*o,null}if(!Mn(l,i,s))return n=o=r=0,i=128,s=191,a.prepend(l),Na(t);if(i=128,s=191,r+=1,n+=l-128<<6*(o-r),r!==o)return null;var h=n;return n=o=r=0,h}}function Hx(e){e.fatal,this.handler=function(t,n){if(n===Ki)return co;if(Mn(n,0,127))return n;var r,o;Mn(n,128,2047)?(r=1,o=192):Mn(n,2048,65535)?(r=2,o=224):Mn(n,65536,1114111)&&(r=3,o=240);for(var i=[(n>>6*r)+o];r>0;){var s=n>>6*(r-1);i.push(128|s&63),r-=1}return i}}const qx=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Zi,TextEncoder:Ji},Symbol.toStringTag,{value:"Module"})),Gx=qu(qx);var Vx=un&&un.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Kx=un&&un.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bn=un&&un.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Wx=un&&un.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&Vx(t,e,n);return Kx(t,e),t},o0=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_t,"__esModule",{value:!0});var i0=_t.deserializeUnchecked=l0=_t.deserialize=f0=_t.serialize=_t.BinaryReader=_t.BinaryWriter=_t.BorshError=_t.baseDecode=_t.baseEncode=void 0;const Qn=o0(n0),s0=o0(r0),Zx=Wx(Gx),Jx=typeof TextDecoder!="function"?Zx.TextDecoder:TextDecoder,Xx=new Jx("utf-8",{fatal:!0});function Yx(e){return typeof e=="string"&&(e=Buffer.from(e,"utf8")),s0.default.encode(Buffer.from(e))}_t.baseEncode=Yx;function Qx(e){return Buffer.from(s0.default.decode(e))}_t.baseDecode=Qx;const ja=1024;class Mt extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}_t.BorshError=Mt;class a0{constructor(){this.buf=Buffer.alloc(ja),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(ja)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Qn.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Qn.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Qn.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Qn.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(ja)]),this.length+=t.length}writeString(t){this.maybeResize();const n=Buffer.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,n){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}_t.BinaryWriter=a0;function _n(e,t,n){const r=n.value;n.value=function(...o){try{return r.apply(this,o)}catch(i){if(i instanceof RangeError){const s=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Mt("Reached the end of buffer when deserializing")}throw i}}}class Kt{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Qn.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Qn.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Qn.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Qn.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Mt(`Expected buffer length ${t} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,n}readString(){const t=this.readU32(),n=this.readBuffer(t);try{return Xx.decode(n)}catch(r){throw new Mt(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const n=this.readU32(),r=Array();for(let o=0;o<n;++o)r.push(t());return r}}Bn([_n],Kt.prototype,"readU8",null);Bn([_n],Kt.prototype,"readU16",null);Bn([_n],Kt.prototype,"readU32",null);Bn([_n],Kt.prototype,"readU64",null);Bn([_n],Kt.prototype,"readU128",null);Bn([_n],Kt.prototype,"readU256",null);Bn([_n],Kt.prototype,"readU512",null);Bn([_n],Kt.prototype,"readString",null);Bn([_n],Kt.prototype,"readFixedArray",null);Bn([_n],Kt.prototype,"readArray",null);_t.BinaryReader=Kt;function c0(e){return e.charAt(0).toUpperCase()+e.slice(1)}function hr(e,t,n,r,o){try{if(typeof r=="string")o[`write${c0(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Mt(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);o.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Mt(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)hr(e,null,n[i],r[0],o)}else o.writeArray(n,i=>{hr(e,t,i,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?o.writeU8(0):(o.writeU8(1),hr(e,t,n,r.type,o));break}case"map":{o.writeU32(n.size),n.forEach((i,s)=>{hr(e,t,s,r.key,o),hr(e,t,i,r.value,o)});break}default:throw new Mt(`FieldType ${r} unrecognized`)}else u0(e,n,o)}catch(i){throw i instanceof Mt&&i.addToFieldPath(t),i}}function u0(e,t,n){if(typeof t.borshSerialize=="function"){t.borshSerialize(n);return}const r=e.get(t.constructor);if(!r)throw new Mt(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,i])=>{hr(e,o,t[o],i,n)});else if(r.kind==="enum"){const o=t[r.field];for(let i=0;i<r.values.length;++i){const[s,a]=r.values[i];if(s===o){n.writeU8(i),hr(e,s,t[s],a,n);break}}}else throw new Mt(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function eE(e,t,n=a0){const r=new n;return u0(e,t,r),r.toArray()}var f0=_t.serialize=eE;function dr(e,t,n,r){try{if(typeof n=="string")return r[`read${c0(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const o=[];for(let i=0;i<n[1];i++)o.push(dr(e,null,n[0],r));return o}else return r.readArray(()=>dr(e,t,n[0],r))}if(n.kind==="option")return r.readU8()?dr(e,t,n.type,r):void 0;if(n.kind==="map"){let o=new Map;const i=r.readU32();for(let s=0;s<i;s++){const a=dr(e,t,n.key,r),l=dr(e,t,n.value,r);o.set(a,l)}return o}return Yu(e,n,r)}catch(o){throw o instanceof Mt&&o.addToFieldPath(t),o}}function Yu(e,t,n){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new Mt(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const o={};for(const[i,s]of e.get(t).fields)o[i]=dr(e,i,s,n);return new t(o)}if(r.kind==="enum"){const o=n.readU8();if(o>=r.values.length)throw new Mt(`Enum index: ${o} is out of range`);const[i,s]=r.values[o],a=dr(e,i,s,n);return new t({[i]:a})}throw new Mt(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function tE(e,t,n,r=Kt){const o=new r(n),i=Yu(e,t,o);if(o.offset<n.length)throw new Mt(`Unexpected ${n.length-o.offset} bytes after deserialized data`);return i}var l0=_t.deserialize=tE;function nE(e,t,n,r=Kt){const o=new r(n);return Yu(e,t,o)}i0=_t.deserializeUnchecked=nE;var D={};Object.defineProperty(D,"__esModule",{value:!0});D.s16=D.s8=D.nu64be=D.u48be=D.u40be=D.u32be=D.u24be=D.u16be=Bt=D.nu64=D.u48=D.u40=de=D.u32=D.u24=Xt=D.u16=vt=D.u8=Sr=D.offset=D.greedy=D.Constant=D.UTF8=D.CString=D.Blob=D.Boolean=D.BitField=D.BitStructure=D.VariantLayout=D.Union=D.UnionLayoutDiscriminator=D.UnionDiscriminator=D.Structure=D.Sequence=D.DoubleBE=D.Double=D.FloatBE=D.Float=D.NearInt64BE=D.NearInt64=D.NearUInt64BE=D.NearUInt64=D.IntBE=D.Int=D.UIntBE=D.UInt=D.OffsetLayout=D.GreedyCount=D.ExternalLayout=D.bindConstructorLayout=D.nameWithProperty=D.Layout=D.uint8ArrayToBuffer=D.checkUint8Array=void 0;D.constant=D.utf8=D.cstr=uo=D.blob=D.unionLayoutDiscriminator=D.union=wr=D.seq=D.bits=pe=D.struct=D.f64be=D.f64=D.f32be=D.f32=D.ns64be=D.s48be=D.s40be=D.s32be=D.s24be=D.s16be=Vt=D.ns64=D.s48=D.s40=D.s32=D.s24=void 0;const Qu=Xe;function xo(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}D.checkUint8Array=xo;function Ie(e){return xo(e),Qu.Buffer.from(e.buffer,e.byteOffset,e.length)}D.uint8ArrayToBuffer=Ie;class Re{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}D.Layout=Re;function ef(e,t){return t.property?e+"["+t.property+"]":e}D.nameWithProperty=ef;function rE(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Re))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(n,r){return t.encode(this,n,r)},writable:!0}),Object.defineProperty(e,"decode",{value(n,r){return t.decode(n,r)},writable:!0})}D.bindConstructorLayout=rE;class jt extends Re{isCount(){throw new Error("ExternalLayout is abstract")}}D.ExternalLayout=jt;class h0 extends jt{constructor(t=1,n){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=t}isCount(){return!0}decode(t,n=0){xo(t);const r=t.length-n;return Math.floor(r/this.elementSpan)}encode(t,n,r){return 0}}D.GreedyCount=h0;class tf extends jt{constructor(t,n=0,r){if(!(t instanceof Re))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof en||this.layout instanceof an}decode(t,n=0){return this.layout.decode(t,n+this.offset)}encode(t,n,r=0){return this.layout.encode(t,n,r+this.offset)}}D.OffsetLayout=tf;class en extends Re{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Ie(t).readUIntLE(n,this.span)}encode(t,n,r=0){return Ie(n).writeUIntLE(t,r,this.span),this.span}}D.UInt=en;class an extends Re{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Ie(t).readUIntBE(n,this.span)}encode(t,n,r=0){return Ie(n).writeUIntBE(t,r,this.span),this.span}}D.UIntBE=an;class Rr extends Re{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Ie(t).readIntLE(n,this.span)}encode(t,n,r=0){return Ie(n).writeIntLE(t,r,this.span),this.span}}D.Int=Rr;class Eo extends Re{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Ie(t).readIntBE(n,this.span)}encode(t,n,r=0){return Ie(n).writeIntBE(t,r,this.span),this.span}}D.IntBE=Eo;const Rc=Math.pow(2,32);function _s(e){const t=Math.floor(e/Rc),n=e-t*Rc;return{hi32:t,lo32:n}}function Is(e,t){return e*Rc+t}class d0 extends Re{constructor(t){super(8,t)}decode(t,n=0){const r=Ie(t),o=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Is(i,o)}encode(t,n,r=0){const o=_s(t),i=Ie(n);return i.writeUInt32LE(o.lo32,r),i.writeUInt32LE(o.hi32,r+4),8}}D.NearUInt64=d0;class p0 extends Re{constructor(t){super(8,t)}decode(t,n=0){const r=Ie(t),o=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Is(o,i)}encode(t,n,r=0){const o=_s(t),i=Ie(n);return i.writeUInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}}D.NearUInt64BE=p0;class y0 extends Re{constructor(t){super(8,t)}decode(t,n=0){const r=Ie(t),o=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Is(i,o)}encode(t,n,r=0){const o=_s(t),i=Ie(n);return i.writeUInt32LE(o.lo32,r),i.writeInt32LE(o.hi32,r+4),8}}D.NearInt64=y0;class m0 extends Re{constructor(t){super(8,t)}decode(t,n=0){const r=Ie(t),o=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Is(o,i)}encode(t,n,r=0){const o=_s(t),i=Ie(n);return i.writeInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}}D.NearInt64BE=m0;class g0 extends Re{constructor(t){super(4,t)}decode(t,n=0){return Ie(t).readFloatLE(n)}encode(t,n,r=0){return Ie(n).writeFloatLE(t,r),4}}D.Float=g0;class w0 extends Re{constructor(t){super(4,t)}decode(t,n=0){return Ie(t).readFloatBE(n)}encode(t,n,r=0){return Ie(n).writeFloatBE(t,r),4}}D.FloatBE=w0;class b0 extends Re{constructor(t){super(8,t)}decode(t,n=0){return Ie(t).readDoubleLE(n)}encode(t,n,r=0){return Ie(n).writeDoubleLE(t,r),8}}D.Double=b0;class v0 extends Re{constructor(t){super(8,t)}decode(t,n=0){return Ie(t).readDoubleBE(n)}encode(t,n,r=0){return Ie(n).writeDoubleBE(t,r),8}}D.DoubleBE=v0;class x0 extends Re{constructor(t,n,r){if(!(t instanceof Re))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof jt&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(n instanceof jt)&&0<t.span&&(o=n*t.span),super(o,r),this.elementLayout=t,this.count=n}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof jt&&(o=o.decode(t,n)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(t,n+r),++i}return r}decode(t,n=0){const r=[];let o=0,i=this.count;for(i instanceof jt&&(i=i.decode(t,n));o<i;)r.push(this.elementLayout.decode(t,n)),n+=this.elementLayout.getSpan(t,n),o+=1;return r}encode(t,n,r=0){const o=this.elementLayout,i=t.reduce((s,a)=>s+o.encode(a,n,r+s),0);return this.count instanceof jt&&this.count.encode(t.length,n,r),i}}D.Sequence=x0;class E0 extends Re{constructor(t,n,r){if(!(Array.isArray(t)&&t.reduce((i,s)=>i&&s instanceof Re,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(o,n),this.fields=t,this.decodePrefixes=!!r}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,i)=>{const s=i.getSpan(t,n);return n+=s,o+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,n=0){xo(t);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(t,n)),n+=o.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,n,r=0){const o=r;let i=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const h=t[a.property];h!==void 0&&(s=a.encode(h,n,r),0>l&&(l=a.getSpan(n,r)))}i=r,r+=l}return i+s-o}fromArray(t){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(n[r.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===t)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}D.Structure=E0;class nf{constructor(t){this.property=t}decode(t,n){throw new Error("UnionDiscriminator is abstract")}encode(t,n,r){throw new Error("UnionDiscriminator is abstract")}}D.UnionDiscriminator=nf;class Xi extends nf{constructor(t,n){if(!(t instanceof jt&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,r){return this.layout.encode(t,n,r)}}D.UnionLayoutDiscriminator=Xi;class rf extends Re{constructor(t,n,r){let o;if(t instanceof en||t instanceof an)o=new Xi(new tf(t));else if(t instanceof jt&&t.isCount())o=new Xi(t);else if(t instanceof nf)o=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Re))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(t instanceof en||t instanceof an)&&(i+=o.layout.span)),super(i,r),this.discriminator=o,this.usesPrefixDiscriminator=t instanceof en||t instanceof an,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(t,n=0){if(0<=this.span)return this.span;const r=this.getVariant(t,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,n)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(t,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,n=0){let r;const o=this.discriminator,i=o.decode(t,n),s=this.registry[i];if(s===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[a.property]=a.decode(t,n+l)}else r=s.decode(t,n);return r}encode(t,n,r=0){const o=this.getSourceVariant(t);if(o===void 0){const i=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],n,r),a+s.encode(t[s.property],n,r+a)}return o.encode(t,n,r)}addVariant(t,n,r){const o=new S0(this,t,n,r);return this.registry[t]=o,o}getVariant(t,n=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,n):r=t,this.registry[r]}}D.Union=rf;class S0 extends Re{constructor(t,n,r,o){if(!(t instanceof rf))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Re))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,o),this.union=t,this.variant=n,this.layout=r||null}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(t,n+r)),r+o}decode(t,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,n+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,n,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=o;if(this.layout&&(this.layout.encode(t[this.property],n,r+o),i+=this.layout.getSpan(n,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}D.VariantLayout=S0;function Hr(e){return 0>e&&(e+=4294967296),e}class of extends Re{constructor(t,n,r){if(!(t instanceof en||t instanceof an))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!n,this.fields=[];let o=0;this._packedSetValue=function(i){return o=Hr(i),this},this._packedGetValue=function(){return o}}decode(t,n=0){const r=this.makeDestinationObject(),o=this.word.decode(t,n);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(t));return r}encode(t,n,r=0){const o=this.word.decode(n,r);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const s=t[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(t,n){const r=new sf(this,t,n);return this.fields.push(r),r}addBoolean(t){const n=new A0(this,t);return this.fields.push(n),n}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}}D.BitStructure=of;class sf{constructor(t,n,r){if(!(t instanceof of))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const o=8*t.span,i=t.fields.reduce((s,a)=>s+a.bits,0);if(n+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=t,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-n),this.wordMask=Hr(this.valueMask<<this.start),this.property=r}decode(t,n){const r=this.container._packedGetValue();return Hr(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Hr(t&this.valueMask))throw new TypeError(ef("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Hr(t<<this.start);this.container._packedSetValue(Hr(n&~this.wordMask)|r)}}D.BitField=sf;let A0=class extends sf{constructor(t,n){super(t,1,n)}decode(t,n){return!!super.decode(t,n)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};D.Boolean=A0;let B0=class extends Re{constructor(t,n){if(!(t instanceof jt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof jt||(r=t),super(r,n),this.length=t}getSpan(t,n){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),r}decode(t,n=0){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),Ie(t).slice(n,n+r)}encode(t,n,r){let o=this.length;if(this.length instanceof jt&&(o=t.length),!(t instanceof Uint8Array&&o===t.length))throw new TypeError(ef("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>n.length)throw new RangeError("encoding overruns Uint8Array");const i=Ie(t);return Ie(n).write(i.toString("hex"),r,o,"hex"),this.length instanceof jt&&this.length.encode(o,n,r),o}};D.Blob=B0;class _0 extends Re{constructor(t){super(-1,t)}getSpan(t,n=0){xo(t);let r=n;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-n}decode(t,n=0){const r=this.getSpan(t,n);return Ie(t).slice(n,n+r-1).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const o=Qu.Buffer.from(t,"utf8"),i=o.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const s=Ie(n);return o.copy(s,r),s[r+i]=0,i+1}}D.CString=_0;class I0 extends Re{constructor(t,n){if(typeof t=="string"&&n===void 0&&(n=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=t}getSpan(t,n=0){return xo(t),t.length-n}decode(t,n=0){const r=this.getSpan(t,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Ie(t).slice(n,n+r).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const o=Qu.Buffer.from(t,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return o.copy(Ie(n),r),i}}D.UTF8=I0;class $0 extends Re{constructor(t,n){super(0,n),this.value=t}decode(t,n){return this.value}encode(t,n,r){return 0}}D.Constant=$0;D.greedy=(e,t)=>new h0(e,t);var Sr=D.offset=(e,t,n)=>new tf(e,t,n),vt=D.u8=e=>new en(1,e),Xt=D.u16=e=>new en(2,e);D.u24=e=>new en(3,e);var de=D.u32=e=>new en(4,e);D.u40=e=>new en(5,e);D.u48=e=>new en(6,e);var Bt=D.nu64=e=>new d0(e);D.u16be=e=>new an(2,e);D.u24be=e=>new an(3,e);D.u32be=e=>new an(4,e);D.u40be=e=>new an(5,e);D.u48be=e=>new an(6,e);D.nu64be=e=>new p0(e);D.s8=e=>new Rr(1,e);D.s16=e=>new Rr(2,e);D.s24=e=>new Rr(3,e);D.s32=e=>new Rr(4,e);D.s40=e=>new Rr(5,e);D.s48=e=>new Rr(6,e);var Vt=D.ns64=e=>new y0(e);D.s16be=e=>new Eo(2,e);D.s24be=e=>new Eo(3,e);D.s32be=e=>new Eo(4,e);D.s40be=e=>new Eo(5,e);D.s48be=e=>new Eo(6,e);D.ns64be=e=>new m0(e);D.f32=e=>new g0(e);D.f32be=e=>new w0(e);D.f64=e=>new b0(e);D.f64be=e=>new v0(e);var pe=D.struct=(e,t,n)=>new E0(e,t,n);D.bits=(e,t,n)=>new of(e,t,n);var wr=D.seq=(e,t,n)=>new x0(e,t,n);D.union=(e,t,n)=>new rf(e,t,n);D.unionLayoutDiscriminator=(e,t)=>new Xi(e,t);var uo=D.blob=(e,t)=>new B0(e,t);D.cstr=e=>new _0(e);D.utf8=(e,t)=>new I0(e,t);D.constant=(e,t)=>new $0(e,t);var oE=28e5,iE=2800001,sE=5663016,aE=5663017,cE=8078e3,uE=8078001,fE=8078004,lE=8078005,hE=8078006,dE=8078007,pE=8078011,yE=8078012,mE=8078013,gE=8078014;function T0(e){return Array.isArray(e)?"%5B"+e.map(T0).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function wE([e,t]){return`${e}=${T0(t)}`}function bE(e){const t=Object.entries(e).map(wE).join("&");return btoa(t)}function vE(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${bE(t)}'`),`${n}\``}}var Ht=class extends Error{constructor(...[t,n]){let r,o;if(n){const{cause:s,...a}=n;s&&(o={cause:s}),Object.keys(a).length>0&&(r=a)}const i=vE(t,r);super(i,o);Be(this,"cause",this.cause);Be(this,"context");this.context={__code:t,...r},this.name="SolanaError"}},xE=(e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n},EE=(e,t)=>xE(e.length<=t?e:e.slice(0,t),t);function Yi(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function sr(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Yi(t,e));return e.write(t,n,0),n}})}function tn(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function rn(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function SE(e){return!rn(e)}function AE(e,t){if(rn(e)!==rn(t))throw new Ht(fE);if(rn(e)&&rn(t)&&e.fixedSize!==t.fixedSize)throw new Ht(lE,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!rn(e)&&!rn(t)&&e.maxSize!==t.maxSize)throw new Ht(hE,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function BE(e,t,n=0){if(t.length-n<=0)throw new Ht(cE,{codecDescription:e})}function P0(e,t,n,r=0){const o=n.length-r;if(o<t)throw new Ht(uE,{bytesLength:o,codecDescription:e,expected:t})}function ah(e,t,n){if(t<0||t>n)throw new Ht(gE,{bytesLength:n,codecDescription:e,offset:t})}function _E(e,t){return sr({fixedSize:t,write:(n,r,o)=>{const i=e.encode(n),s=i.length>t?i.slice(0,t):i;return r.set(s,o),o+t}})}function O0(e,t){return tn({fixedSize:t,read:(n,r)=>{P0("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),rn(e)&&(n=EE(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function IE(e,t){return tn({...e,read:(n,r)=>{const o=h=>$E(h,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;ah("offsetDecoder",i,n.length);const[s,a]=e.read(n,i),l=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:a,preOffset:r,wrapBytes:o}):a;return ah("offsetDecoder",l,n.length),[s,l]}})}function $E(e,t){return t===0?0:(e%t+t)%t}function TE(e,t){if(rn(e)){const n=t(e.fixedSize);if(n<0)throw new Ht(mE,{bytesLength:n,codecDescription:"resizeDecoder"});return tn({...e,fixedSize:n})}return e}function PE(e,t){return IE(TE(e,n=>n+t),{postOffset:({postOffset:n})=>n+t})}function OE(e,t){return sr({...SE(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function RE(e,t){return tn({...e,read:(n,r)=>{const[o,i]=e.read(n,r);return[t(o,n,r),i]}})}function R0(e,t,n,r){if(r<t||r>n)throw new Ht(pE,{codecDescription:e,max:n,min:t,value:r})}function C0(e){return(e==null?void 0:e.endian)!==1}function M0(e){return sr({fixedSize:e.size,write(t,n,r){e.range&&R0(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,C0(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function af(e){return tn({fixedSize:e.size,read(t,n=0){BE(e.name,t,n),P0(e.name,e.size,t,n);const r=new DataView(CE(t,n,e.size));return[e.get(r,C0(e.config)),n+e.size]}})}function CE(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}var ME=()=>sr({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{R0("shortU16",0,65535,e);const r=[0];for(let o=0;;o+=1){const i=Number(e)>>o*7;if(i===0)break;const s=127&i;r[o]=s,o>0&&(r[o-1]|=128)}return t.set(r,n),n+r.length}}),k0=()=>tn({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const o=r-1,i=e[t+o],s=127&i;if(n|=s<<o*7,!(i&128))break}return[n,t+r]}}),kE=(e={})=>M0({config:e,name:"u32",range:[0,+"0xffffffff"],set:(t,n,r)=>t.setUint32(0,Number(n),r),size:4}),UE=(e={})=>af({config:e,get:(t,n)=>t.getUint32(0,n),name:"u32",size:4}),FE=(e={})=>M0({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),NE=(e={})=>af({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),jE=(e={})=>AE(FE(e),NE(e)),LE=()=>af({get:e=>e.getUint8(0),name:"u8",size:1});class zE extends TypeError{constructor(t,n){let r;const{message:o,explanation:i,...s}=t,{path:a}=t,l=a.length===0?o:`At path: ${a.join(".")} -- ${o}`;super(i??l),i!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function DE(e){return ui(e)&&typeof e[Symbol.iterator]=="function"}function ui(e){return typeof e=="object"&&e!=null}function Qi(e){return ui(e)&&!Array.isArray(e)}function fn(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function HE(e){const{done:t,value:n}=e.next();return t?void 0:n}function qE(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:o,branch:i}=t,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${fn(r)}\``}=e;return{value:r,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...e,message:l}}function*ch(e,t,n,r){DE(e)||(e=[e]);for(const o of e){const i=qE(o,t,n,r);i&&(yield i)}}function*cf(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:s=!1}=n,a={path:r,branch:o,mask:s};i&&(e=t.coercer(e,a));let l="valid";for(const h of t.validator(e,a))h.explanation=n.message,l="not_valid",yield[h,void 0];for(let[h,p,m]of t.entries(e,a)){const g=cf(p,m,{path:h===void 0?r:[...r,h],branch:h===void 0?o:[...o,p],coerce:i,mask:s,message:n.message});for(const w of g)w[0]?(l=w[0].refinement!=null?"not_refined":"not_valid",yield[w[0],void 0]):i&&(p=w[1],h===void 0?e=p:e instanceof Map?e.set(h,p):e instanceof Set?e.add(p):ui(e)&&(p!==void 0||h in e)&&(e[h]=p))}if(l!=="not_valid")for(const h of t.refiner(e,a))h.explanation=n.message,l="not_refined",yield[h,void 0];l==="valid"&&(yield[void 0,e])}let In=class{constructor(t){const{type:n,schema:r,validator:o,refiner:i,coercer:s=l=>l,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=s,o?this.validator=(l,h)=>{const p=o(l,h);return ch(p,h,this,l)}:this.validator=()=>[],i?this.refiner=(l,h)=>{const p=i(l,h);return ch(p,h,this,l)}:this.refiner=()=>[]}assert(t,n){return GE(t,this,n)}create(t,n){return Vo(t,this,n)}is(t){return U0(t,this)}mask(t,n){return VE(t,this,n)}validate(t,n={}){return fi(t,this,n)}};function GE(e,t,n){const r=fi(e,t,{message:n});if(r[0])throw r[0]}function Vo(e,t,n){const r=fi(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function VE(e,t,n){const r=fi(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function U0(e,t){return!fi(e,t)[0]}function fi(e,t,n={}){const r=cf(e,t,n),o=HE(r);return o[0]?[new zE(o[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function Cr(e,t){return new In({type:e,schema:null,validator:t})}function KE(){return Cr("any",()=>!0)}function ie(e){return new In({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${fn(t)}`}})}function An(){return Cr("boolean",e=>typeof e=="boolean")}function uf(e){return Cr("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${fn(t)}`)}function Ke(e){const t=fn(e),n=typeof e;return new In({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${fn(r)}`}})}function WE(){return Cr("never",()=>!1)}function se(e){return new In({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function L(){return Cr("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${fn(e)}`)}function he(e){return new In({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function F0(e,t){return new In({type:"record",schema:null,*entries(n){if(ui(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator(n){return Qi(n)||`Expected an object, but received: ${fn(n)}`},coercer(n){return Qi(n)?{...n}:n}})}function te(){return Cr("string",e=>typeof e=="string"||`Expected a string, but received: ${fn(e)}`)}function ff(e){const t=WE();return new In({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],e[o]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${fn(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function W(e){const t=Object.keys(e);return new In({type:"type",schema:e,*entries(n){if(ui(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Qi(n)||`Expected an object, but received: ${fn(n)}`},coercer(n){return Qi(n)?{...n}:n}})}function Ft(e){const t=e.map(n=>n.type).join(" | ");return new In({type:"union",schema:null,coercer(n,r){for(const o of e){const[i,s]=o.validate(n,{coerce:!0,mask:r.mask});if(!i)return s}return n},validator(n,r){const o=[];for(const i of e){const[...s]=cf(n,i,r),[a]=s;if(a[0])for(const[l]of s)l&&o.push(l);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${fn(n)}`,...o]}})}function So(){return Cr("unknown",()=>!0)}function li(e,t,n){return new In({...e,coercer:(r,o)=>U0(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}var Pi,ZE=new Uint8Array(16);function N0(){if(!Pi&&(Pi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Pi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pi(ZE)}const JE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $s(e){return typeof e=="string"&&JE.test(e)}var At=[];for(var La=0;La<256;++La)At.push((La+256).toString(16).substr(1));function Ts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(At[e[t+0]]+At[e[t+1]]+At[e[t+2]]+At[e[t+3]]+"-"+At[e[t+4]]+At[e[t+5]]+"-"+At[e[t+6]]+At[e[t+7]]+"-"+At[e[t+8]]+At[e[t+9]]+"-"+At[e[t+10]]+At[e[t+11]]+At[e[t+12]]+At[e[t+13]]+At[e[t+14]]+At[e[t+15]]).toLowerCase();if(!$s(n))throw TypeError("Stringified UUID is invalid");return n}var uh,za,Da=0,Ha=0;function XE(e,t,n){var r=t&&n||0,o=t||new Array(16);e=e||{};var i=e.node||uh,s=e.clockseq!==void 0?e.clockseq:za;if(i==null||s==null){var a=e.random||(e.rng||N0)();i==null&&(i=uh=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=za=(a[6]<<8|a[7])&16383)}var l=e.msecs!==void 0?e.msecs:Date.now(),h=e.nsecs!==void 0?e.nsecs:Ha+1,p=l-Da+(h-Ha)/1e4;if(p<0&&e.clockseq===void 0&&(s=s+1&16383),(p<0||l>Da)&&e.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Da=l,Ha=h,za=s,l+=122192928e5;var m=((l&268435455)*1e4+h)%4294967296;o[r++]=m>>>24&255,o[r++]=m>>>16&255,o[r++]=m>>>8&255,o[r++]=m&255;var g=l/4294967296*1e4&268435455;o[r++]=g>>>8&255,o[r++]=g&255,o[r++]=g>>>24&15|16,o[r++]=g>>>16&255,o[r++]=s>>>8|128,o[r++]=s&255;for(var w=0;w<6;++w)o[r+w]=i[w];return t||Ts(o)}function j0(e){if(!$s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function YE(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var QE="6ba7b810-9dad-11d1-80b4-00c04fd430c8",eS="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function L0(e,t,n){function r(o,i,s,a){if(typeof o=="string"&&(o=YE(o)),typeof i=="string"&&(i=j0(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+o.length);if(l.set(i),l.set(o,i.length),l=n(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){a=a||0;for(var h=0;h<16;++h)s[a+h]=l[h];return s}return Ts(l)}try{r.name=e}catch{}return r.DNS=QE,r.URL=eS,r}function tS(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return nS(rS(oS(e),e.length*8))}function nS(e){for(var t=[],n=e.length*32,r="0123456789abcdef",o=0;o<n;o+=8){var i=e[o>>5]>>>o%32&255,s=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(s)}return t}function z0(e){return(e+64>>>9<<4)+14+1}function rS(e,t){e[t>>5]|=128<<t%32,e[z0(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<e.length;s+=16){var a=n,l=r,h=o,p=i;n=Tt(n,r,o,i,e[s],7,-680876936),i=Tt(i,n,r,o,e[s+1],12,-389564586),o=Tt(o,i,n,r,e[s+2],17,606105819),r=Tt(r,o,i,n,e[s+3],22,-1044525330),n=Tt(n,r,o,i,e[s+4],7,-176418897),i=Tt(i,n,r,o,e[s+5],12,1200080426),o=Tt(o,i,n,r,e[s+6],17,-1473231341),r=Tt(r,o,i,n,e[s+7],22,-45705983),n=Tt(n,r,o,i,e[s+8],7,1770035416),i=Tt(i,n,r,o,e[s+9],12,-1958414417),o=Tt(o,i,n,r,e[s+10],17,-42063),r=Tt(r,o,i,n,e[s+11],22,-1990404162),n=Tt(n,r,o,i,e[s+12],7,1804603682),i=Tt(i,n,r,o,e[s+13],12,-40341101),o=Tt(o,i,n,r,e[s+14],17,-1502002290),r=Tt(r,o,i,n,e[s+15],22,1236535329),n=Pt(n,r,o,i,e[s+1],5,-165796510),i=Pt(i,n,r,o,e[s+6],9,-1069501632),o=Pt(o,i,n,r,e[s+11],14,643717713),r=Pt(r,o,i,n,e[s],20,-373897302),n=Pt(n,r,o,i,e[s+5],5,-701558691),i=Pt(i,n,r,o,e[s+10],9,38016083),o=Pt(o,i,n,r,e[s+15],14,-660478335),r=Pt(r,o,i,n,e[s+4],20,-405537848),n=Pt(n,r,o,i,e[s+9],5,568446438),i=Pt(i,n,r,o,e[s+14],9,-1019803690),o=Pt(o,i,n,r,e[s+3],14,-187363961),r=Pt(r,o,i,n,e[s+8],20,1163531501),n=Pt(n,r,o,i,e[s+13],5,-1444681467),i=Pt(i,n,r,o,e[s+2],9,-51403784),o=Pt(o,i,n,r,e[s+7],14,1735328473),r=Pt(r,o,i,n,e[s+12],20,-1926607734),n=Ot(n,r,o,i,e[s+5],4,-378558),i=Ot(i,n,r,o,e[s+8],11,-2022574463),o=Ot(o,i,n,r,e[s+11],16,1839030562),r=Ot(r,o,i,n,e[s+14],23,-35309556),n=Ot(n,r,o,i,e[s+1],4,-1530992060),i=Ot(i,n,r,o,e[s+4],11,1272893353),o=Ot(o,i,n,r,e[s+7],16,-155497632),r=Ot(r,o,i,n,e[s+10],23,-1094730640),n=Ot(n,r,o,i,e[s+13],4,681279174),i=Ot(i,n,r,o,e[s],11,-358537222),o=Ot(o,i,n,r,e[s+3],16,-722521979),r=Ot(r,o,i,n,e[s+6],23,76029189),n=Ot(n,r,o,i,e[s+9],4,-640364487),i=Ot(i,n,r,o,e[s+12],11,-421815835),o=Ot(o,i,n,r,e[s+15],16,530742520),r=Ot(r,o,i,n,e[s+2],23,-995338651),n=Rt(n,r,o,i,e[s],6,-198630844),i=Rt(i,n,r,o,e[s+7],10,1126891415),o=Rt(o,i,n,r,e[s+14],15,-1416354905),r=Rt(r,o,i,n,e[s+5],21,-57434055),n=Rt(n,r,o,i,e[s+12],6,1700485571),i=Rt(i,n,r,o,e[s+3],10,-1894986606),o=Rt(o,i,n,r,e[s+10],15,-1051523),r=Rt(r,o,i,n,e[s+1],21,-2054922799),n=Rt(n,r,o,i,e[s+8],6,1873313359),i=Rt(i,n,r,o,e[s+15],10,-30611744),o=Rt(o,i,n,r,e[s+6],15,-1560198380),r=Rt(r,o,i,n,e[s+13],21,1309151649),n=Rt(n,r,o,i,e[s+4],6,-145523070),i=Rt(i,n,r,o,e[s+11],10,-1120210379),o=Rt(o,i,n,r,e[s+2],15,718787259),r=Rt(r,o,i,n,e[s+9],21,-343485551),n=er(n,a),r=er(r,l),o=er(o,h),i=er(i,p)}return[n,r,o,i]}function oS(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(z0(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function er(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function iS(e,t){return e<<t|e>>>32-t}function Ps(e,t,n,r,o,i){return er(iS(er(er(t,e),er(r,i)),o),n)}function Tt(e,t,n,r,o,i,s){return Ps(t&n|~t&r,e,t,o,i,s)}function Pt(e,t,n,r,o,i,s){return Ps(t&r|n&~r,e,t,o,i,s)}function Ot(e,t,n,r,o,i,s){return Ps(t^n^r,e,t,o,i,s)}function Rt(e,t,n,r,o,i,s){return Ps(n^(t|~r),e,t,o,i,s)}var sS=L0("v3",48,tS);function aS(e,t,n){e=e||{};var r=e.random||(e.rng||N0)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Ts(r)}function cS(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function qa(e,t){return e<<t|e>>>32-t}function uS(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var o=0;o<r.length;++o)e.push(r.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,s=Math.ceil(i/16),a=new Array(s),l=0;l<s;++l){for(var h=new Uint32Array(16),p=0;p<16;++p)h[p]=e[l*64+p*4]<<24|e[l*64+p*4+1]<<16|e[l*64+p*4+2]<<8|e[l*64+p*4+3];a[l]=h}a[s-1][14]=(e.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8&4294967295;for(var m=0;m<s;++m){for(var g=new Uint32Array(80),w=0;w<16;++w)g[w]=a[m][w];for(var S=16;S<80;++S)g[S]=qa(g[S-3]^g[S-8]^g[S-14]^g[S-16],1);for(var I=n[0],P=n[1],R=n[2],U=n[3],k=n[4],j=0;j<80;++j){var N=Math.floor(j/20),Z=qa(I,5)+cS(N,P,R,U)+k+t[N]+g[j]>>>0;k=U,U=R,R=qa(P,30)>>>0,P=I,I=Z}n[0]=n[0]+I>>>0,n[1]=n[1]+P>>>0,n[2]=n[2]+R>>>0,n[3]=n[3]+U>>>0,n[4]=n[4]+k>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var fS=L0("v5",80,uS);const lS="00000000-0000-0000-0000-000000000000";function hS(e){if(!$s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const dS=Object.freeze(Object.defineProperty({__proto__:null,NIL:lS,parse:j0,stringify:Ts,v1:XE,v3:sS,v4:aS,v5:fS,validate:$s,version:hS},Symbol.toStringTag,{value:"Module"})),D0=qu(dS),pS=D0.v4,yS=function(e,t,n,r){if(typeof e!="string")throw new TypeError(e+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:e};if(o===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof n>"u"){const s=typeof r.generator=="function"?r.generator:function(){return pS()};i.id=s(i,r)}else o===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var mS=yS;const gS=D0.v4,wS=mS,es=function(e,t){if(!(this instanceof es))return new es(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return gS()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};es.prototype.request=function(e,t,n,r){const o=this;let i=null;const s=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&e&&typeof e=="object"&&typeof t=="function")r=t,i=e;else{typeof n=="function"&&(r=n,n=void 0);const h=typeof r=="function";try{i=wS(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(p){if(h)return r(p);throw p}if(!h)return i}let l;try{l=JSON.stringify(i,this.options.replacer)}catch(h){return r(h)}return this.callServer(l,function(h,p){o._parseResponse(h,p,r)}),i};es.prototype._parseResponse=function(e,t,n){if(e){n(e);return}if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(o){return n(o)}if(n.length===3)if(Array.isArray(r)){const o=function(s){return typeof s.error<"u"},i=function(s){return!o(s)};return n(null,r.filter(o),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};var bS={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,h,p){this.fn=l,this.context=h,this.once=p||!1}function i(l,h,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new o(p,m||l,g),S=n?n+h:h;return l._events[S]?l._events[S].fn?l._events[S]=[l._events[S],w]:l._events[S].push(w):(l._events[S]=w,l._eventsCount++),l}function s(l,h){--l._eventsCount===0?l._events=new r:delete l._events[h]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},a.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,w=m.length,S=new Array(w);g<w;g++)S[g]=m[g].fn;return S},a.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},a.prototype.emit=function(h,p,m,g,w,S){var I=n?n+h:h;if(!this._events[I])return!1;var P=this._events[I],R=arguments.length,U,k;if(P.fn){switch(P.once&&this.removeListener(h,P.fn,void 0,!0),R){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,p),!0;case 3:return P.fn.call(P.context,p,m),!0;case 4:return P.fn.call(P.context,p,m,g),!0;case 5:return P.fn.call(P.context,p,m,g,w),!0;case 6:return P.fn.call(P.context,p,m,g,w,S),!0}for(k=1,U=new Array(R-1);k<R;k++)U[k-1]=arguments[k];P.fn.apply(P.context,U)}else{var j=P.length,N;for(k=0;k<j;k++)switch(P[k].once&&this.removeListener(h,P[k].fn,void 0,!0),R){case 1:P[k].fn.call(P[k].context);break;case 2:P[k].fn.call(P[k].context,p);break;case 3:P[k].fn.call(P[k].context,p,m);break;case 4:P[k].fn.call(P[k].context,p,m,g);break;default:if(!U)for(N=1,U=new Array(R-1);N<R;N++)U[N-1]=arguments[N];P[k].fn.apply(P[k].context,U)}}return!0},a.prototype.on=function(h,p,m){return i(this,h,p,m,!1)},a.prototype.once=function(h,p,m){return i(this,h,p,m,!0)},a.prototype.removeListener=function(h,p,m,g){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return s(this,w),this;var S=this._events[w];if(S.fn)S.fn===p&&(!g||S.once)&&(!m||S.context===m)&&s(this,w);else{for(var I=0,P=[],R=S.length;I<R;I++)(S[I].fn!==p||g&&!S[I].once||m&&S[I].context!==m)&&P.push(S[I]);P.length?this._events[w]=P.length===1?P[0]:P:s(this,w)}return this},a.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&s(this,p)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(bS);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fh=(e,t)=>(e+(e>=0?t:-t)/H0)/t;function vS(e,t,n){const[[r,o],[i,s]]=t,a=fh(s*e,n),l=fh(-o*e,n);let h=e-a*r-l*i,p=-a*o-l*s;const m=h<kn,g=p<kn;m&&(h=-h),g&&(p=-p);const w=si(Math.ceil(Np(n)/2))+Qr;if(h<kn||h>=w||p<kn||p>=w)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:m,k1:h,k2neg:g,k2:p}}function Cc(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Ga(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return _r(n.lowS,"lowS"),_r(n.prehash,"prehash"),n.format!==void 0&&Cc(n.format),n}class xS extends Error{constructor(t=""){super(t)}}const Cn={Err:xS,_tlv:{encode:(e,t)=>{const{Err:n}=Cn;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,o=$i(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?$i(o.length/2|128):"";return $i(e)+i+o+t},decode(e,t){const{Err:n}=Cn;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const o=t[r++],i=!!(o&128);let s=0;if(!i)s=o;else{const l=o&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const h=t.subarray(r,r+l);if(h.length!==l)throw new n("tlv.decode: length bytes not complete");if(h[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of h)s=s<<8|p;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Cn;if(e<kn)throw new t("integer: negative integers are not allowed");let n=$i(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Cn;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return As(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Cn,o=Je("signature",e),{v:i,l:s}=r.decode(48,o);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,i),{v:h,l:p}=r.decode(2,l);if(p.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(h)}},hexFromSig(e){const{_tlv:t,_int:n}=Cn,r=t.encode(2,n.encode(e.r)),o=t.encode(2,n.encode(e.s)),i=r+o;return t.encode(48,i)}},kn=BigInt(0),Qr=BigInt(1),H0=BigInt(2),Oi=BigInt(3),ES=BigInt(4);function Kr(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let o=Je("private key",t);try{r=e.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function SS(e,t={}){const n=e0("weierstrass",e,t),{Fp:r,Fn:o}=n;let i=n.CURVE;const{h:s,n:a}=i;ai(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=t;if(l&&(!r.is0(i.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const h=G0(r,o);function p(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function m(X,B,d){const{x:v,y:A}=B.toAffine(),T=r.toBytes(v);if(_r(d,"isCompressed"),d){p();const O=!r.isOdd(A);return wn(q0(O),T)}else return wn(Uint8Array.of(4),T,r.toBytes(A))}function g(X){on(X,void 0,"Point");const{publicKey:B,publicKeyUncompressed:d}=h,v=X.length,A=X[0],T=X.subarray(1);if(v===B&&(A===2||A===3)){const O=r.fromBytes(T);if(!r.isValid(O))throw new Error("bad point: is not on curve, wrong x");const M=I(O);let b;try{b=r.sqrt(M)}catch(_){const z=_ instanceof Error?": "+_.message:"";throw new Error("bad point: is not on curve, sqrt error"+z)}p();const x=r.isOdd(b);return(A&1)===1!==x&&(b=r.neg(b)),{x:O,y:b}}else if(v===d&&A===4){const O=r.BYTES,M=r.fromBytes(T.subarray(0,O)),b=r.fromBytes(T.subarray(O,O*2));if(!P(M,b))throw new Error("bad point: is not on curve");return{x:M,y:b}}else throw new Error(`bad point: got length ${v}, expected compressed=${B} or uncompressed=${d}`)}const w=t.toBytes||m,S=t.fromBytes||g;function I(X){const B=r.sqr(X),d=r.mul(B,X);return r.add(r.add(d,r.mul(X,i.a)),i.b)}function P(X,B){const d=r.sqr(B),v=I(X);return r.eql(d,v)}if(!P(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const R=r.mul(r.pow(i.a,Oi),ES),U=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(R,U)))throw new Error("bad curve params: a or b");function k(X,B,d=!1){if(!r.isValid(B)||d&&r.is0(B))throw new Error(`bad point coordinate ${X}`);return B}function j(X){if(!(X instanceof G))throw new Error("ProjectivePoint expected")}function N(X){if(!l||!l.basises)throw new Error("no endo");return vS(X,l.basises,o.ORDER)}const Z=Gi((X,B)=>{const{X:d,Y:v,Z:A}=X;if(r.eql(A,r.ONE))return{x:d,y:v};const T=X.is0();B==null&&(B=T?r.ONE:r.inv(A));const O=r.mul(d,B),M=r.mul(v,B),b=r.mul(A,B);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(b,r.ONE))throw new Error("invZ was invalid");return{x:O,y:M}}),Y=Gi(X=>{if(X.is0()){if(t.allowInfinityPoint&&!r.is0(X.Y))return;throw new Error("bad point: ZERO")}const{x:B,y:d}=X.toAffine();if(!r.isValid(B)||!r.isValid(d))throw new Error("bad point: x or y not field elements");if(!P(B,d))throw new Error("bad point: equation left != right");if(!X.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ne(X,B,d,v,A){return d=new G(r.mul(d.X,X),d.Y,d.Z),B=Vi(v,B),d=Vi(A,d),B.add(d)}class G{constructor(B,d,v){this.X=k("x",B),this.Y=k("y",d,!0),this.Z=k("z",v),Object.freeze(this)}static CURVE(){return i}static fromAffine(B){const{x:d,y:v}=B||{};if(!B||!r.isValid(d)||!r.isValid(v))throw new Error("invalid affine point");if(B instanceof G)throw new Error("projective point not allowed");return r.is0(d)&&r.is0(v)?G.ZERO:new G(d,v,r.ONE)}static fromBytes(B){const d=G.fromAffine(S(on(B,void 0,"point")));return d.assertValidity(),d}static fromHex(B){return G.fromBytes(Je("pointHex",B))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(B=8,d=!0){return K.createCache(this,B),d||this.multiply(Oi),this}assertValidity(){Y(this)}hasEvenY(){const{y:B}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(B)}equals(B){j(B);const{X:d,Y:v,Z:A}=this,{X:T,Y:O,Z:M}=B,b=r.eql(r.mul(d,M),r.mul(T,A)),x=r.eql(r.mul(v,M),r.mul(O,A));return b&&x}negate(){return new G(this.X,r.neg(this.Y),this.Z)}double(){const{a:B,b:d}=i,v=r.mul(d,Oi),{X:A,Y:T,Z:O}=this;let M=r.ZERO,b=r.ZERO,x=r.ZERO,y=r.mul(A,A),_=r.mul(T,T),z=r.mul(O,O),V=r.mul(A,T);return V=r.add(V,V),x=r.mul(A,O),x=r.add(x,x),M=r.mul(B,x),b=r.mul(v,z),b=r.add(M,b),M=r.sub(_,b),b=r.add(_,b),b=r.mul(M,b),M=r.mul(V,M),x=r.mul(v,x),z=r.mul(B,z),V=r.sub(y,z),V=r.mul(B,V),V=r.add(V,x),x=r.add(y,y),y=r.add(x,y),y=r.add(y,z),y=r.mul(y,V),b=r.add(b,y),z=r.mul(T,O),z=r.add(z,z),y=r.mul(z,V),M=r.sub(M,y),x=r.mul(z,_),x=r.add(x,x),x=r.add(x,x),new G(M,b,x)}add(B){j(B);const{X:d,Y:v,Z:A}=this,{X:T,Y:O,Z:M}=B;let b=r.ZERO,x=r.ZERO,y=r.ZERO;const _=i.a,z=r.mul(i.b,Oi);let V=r.mul(d,T),H=r.mul(v,O),ue=r.mul(A,M),J=r.add(d,v),le=r.add(T,O);J=r.mul(J,le),le=r.add(V,H),J=r.sub(J,le),le=r.add(d,A);let Le=r.add(T,M);return le=r.mul(le,Le),Le=r.add(V,ue),le=r.sub(le,Le),Le=r.add(v,A),b=r.add(O,M),Le=r.mul(Le,b),b=r.add(H,ue),Le=r.sub(Le,b),y=r.mul(_,le),b=r.mul(z,ue),y=r.add(b,y),b=r.sub(H,y),y=r.add(H,y),x=r.mul(b,y),H=r.add(V,V),H=r.add(H,V),ue=r.mul(_,ue),le=r.mul(z,le),H=r.add(H,ue),ue=r.sub(V,ue),ue=r.mul(_,ue),le=r.add(le,ue),V=r.mul(H,le),x=r.add(x,V),V=r.mul(Le,le),b=r.mul(J,b),b=r.sub(b,V),V=r.mul(J,H),y=r.mul(Le,y),y=r.add(y,V),new G(b,x,y)}subtract(B){return this.add(B.negate())}is0(){return this.equals(G.ZERO)}multiply(B){const{endo:d}=t;if(!o.isValidNot0(B))throw new Error("invalid scalar: out of range");let v,A;const T=O=>K.cached(this,O,M=>gr(G,M));if(d){const{k1neg:O,k1:M,k2neg:b,k2:x}=N(B),{p:y,f:_}=T(M),{p:z,f:V}=T(x);A=_.add(V),v=ne(d.beta,y,z,O,b)}else{const{p:O,f:M}=T(B);v=O,A=M}return gr(G,[v,A])[0]}multiplyUnsafe(B){const{endo:d}=t,v=this;if(!o.isValid(B))throw new Error("invalid scalar: out of range");if(B===kn||v.is0())return G.ZERO;if(B===Qr)return v;if(K.hasCache(this))return this.multiply(B);if(d){const{k1neg:A,k1:T,k2neg:O,k2:M}=N(B),{p1:b,p2:x}=mx(G,v,T,M);return ne(d.beta,b,x,A,O)}else return K.unsafe(v,B)}multiplyAndAddUnsafe(B,d,v){const A=this.multiplyUnsafe(d).add(B.multiplyUnsafe(v));return A.is0()?void 0:A}toAffine(B){return Z(this,B)}isTorsionFree(){const{isTorsionFree:B}=t;return s===Qr?!0:B?B(G,this):K.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:B}=t;return s===Qr?this:B?B(G,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(B=!0){return _r(B,"isCompressed"),this.assertValidity(),w(G,this,B)}toHex(B=!0){return vr(this.toBytes(B))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(B=!0){return this.toBytes(B)}_setWindowSize(B){this.precompute(B)}static normalizeZ(B){return gr(G,B)}static msm(B,d){return Qp(G,o,B,d)}static fromPrivateKey(B){return G.BASE.multiply(Kr(o,B))}}G.BASE=new G(i.Gx,i.Gy,r.ONE),G.ZERO=new G(r.ZERO,r.ONE,r.ZERO),G.Fp=r,G.Fn=o;const Q=o.BITS,K=new Yp(G,t.endo?Math.ceil(Q/2):Q);return G.BASE.precompute(8),G}function q0(e){return Uint8Array.of(e?2:3)}function G0(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function AS(e,t={}){const{Fn:n}=e,r=t.randomBytes||Au,o=Object.assign(G0(e.Fp,n),{seed:Zp(n.ORDER)});function i(w){try{return!!Kr(n,w)}catch{return!1}}function s(w,S){const{publicKey:I,publicKeyUncompressed:P}=o;try{const R=w.length;return S===!0&&R!==I||S===!1&&R!==P?!1:!!e.fromBytes(w)}catch{return!1}}function a(w=r(o.seed)){return dx(on(w,o.seed,"seed"),n.ORDER)}function l(w,S=!0){return e.BASE.multiply(Kr(n,w)).toBytes(S)}function h(w){const S=a(w);return{secretKey:S,publicKey:l(S)}}function p(w){if(typeof w=="bigint")return!1;if(w instanceof e)return!0;const{secretKey:S,publicKey:I,publicKeyUncompressed:P}=o;if(n.allowedLengths||S===I)return;const R=Je("key",w).length;return R===I||R===P}function m(w,S,I=!0){if(p(w)===!0)throw new Error("first arg must be private key");if(p(S)===!1)throw new Error("second arg must be public key");const P=Kr(n,w);return e.fromHex(S).multiply(P).toBytes(I)}return Object.freeze({getPublicKey:l,getSharedSecret:m,keygen:h,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:w=>Kr(n,w),precompute(w=8,S=e.BASE){return S.precompute(w,!1)}},lengths:o})}function BS(e,t,n={}){_d(t),ai(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Au,o=n.hmac||((d,...v)=>$p(t,d,wn(...v))),{Fp:i,Fn:s}=e,{ORDER:a,BITS:l}=s,{keygen:h,getPublicKey:p,getSharedSecret:m,utils:g,lengths:w}=AS(e,n),S={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},I="compact";function P(d){const v=a>>Qr;return d>v}function R(d,v){if(!s.isValidNot0(v))throw new Error(`invalid signature ${d}: out of range 1..Point.Fn.ORDER`);return v}function U(d,v){Cc(v);const A=w.signature,T=v==="compact"?A:v==="recovered"?A+1:void 0;return on(d,T,`${v} signature`)}class k{constructor(v,A,T){this.r=R("r",v),this.s=R("s",A),T!=null&&(this.recovery=T),Object.freeze(this)}static fromBytes(v,A=I){U(v,A);let T;if(A==="der"){const{r:x,s:y}=Cn.toSig(on(v));return new k(x,y)}A==="recovered"&&(T=v[0],A="compact",v=v.subarray(1));const O=s.BYTES,M=v.subarray(0,O),b=v.subarray(O,O*2);return new k(s.fromBytes(M),s.fromBytes(b),T)}static fromHex(v,A){return this.fromBytes(Li(v),A)}addRecoveryBit(v){return new k(this.r,this.s,v)}recoverPublicKey(v){const A=i.ORDER,{r:T,s:O,recovery:M}=this;if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");if(a*H0<A&&M>1)throw new Error("recovery id is ambiguous for h>1 curve");const x=M===2||M===3?T+a:T;if(!i.isValid(x))throw new Error("recovery id 2 or 3 invalid");const y=i.toBytes(x),_=e.fromBytes(wn(q0((M&1)===0),y)),z=s.inv(x),V=N(Je("msgHash",v)),H=s.create(-V*z),ue=s.create(O*z),J=e.BASE.multiplyUnsafe(H).add(_.multiplyUnsafe(ue));if(J.is0())throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return P(this.s)}toBytes(v=I){if(Cc(v),v==="der")return Li(Cn.hexFromSig(this));const A=s.toBytes(this.r),T=s.toBytes(this.s);if(v==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return wn(Uint8Array.of(this.recovery),A,T)}return wn(A,T)}toHex(v){return vr(this.toBytes(v))}assertValidity(){}static fromCompact(v){return k.fromBytes(Je("sig",v),"compact")}static fromDER(v){return k.fromBytes(Je("sig",v),"der")}normalizeS(){return this.hasHighS()?new k(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return vr(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return vr(this.toBytes("compact"))}}const j=n.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const A=As(v),T=v.length*8-l;return T>0?A>>BigInt(T):A},N=n.bits2int_modN||function(v){return s.create(j(v))},Z=si(l);function Y(d){return Pc("num < 2^"+l,d,kn,Z),s.toBytes(d)}function ne(d,v){return on(d,void 0,"message"),v?on(t(d),void 0,"prehashed message"):d}function G(d,v,A){if(["recovered","canonical"].some(H=>H in A))throw new Error("sign() legacy options not supported");const{lowS:T,prehash:O,extraEntropy:M}=Ga(A,S);d=ne(d,O);const b=N(d),x=Kr(s,v),y=[Y(x),Y(b)];if(M!=null&&M!==!1){const H=M===!0?r(w.secretKey):M;y.push(Je("extraEntropy",H))}const _=wn(...y),z=b;function V(H){const ue=j(H);if(!s.isValidNot0(ue))return;const J=s.inv(ue),le=e.BASE.multiply(ue).toAffine(),Le=s.create(le.x);if(Le===kn)return;const Pe=s.create(J*s.create(z+Le*x));if(Pe===kn)return;let Oe=(le.x===Le?0:2)|Number(le.y&Qr),xt=Pe;return T&&P(Pe)&&(xt=s.neg(Pe),Oe^=1),new k(Le,xt,Oe)}return{seed:_,k2sig:V}}function Q(d,v,A={}){d=Je("message",d);const{seed:T,k2sig:O}=G(d,v,A);return rx(t.outputLen,s.BYTES,o)(T,O)}function K(d){let v;const A=typeof d=="string"||ri(d),T=!A&&d!==null&&typeof d=="object"&&typeof d.r=="bigint"&&typeof d.s=="bigint";if(!A&&!T)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(T)v=new k(d.r,d.s);else if(A){try{v=k.fromBytes(Je("sig",d),"der")}catch(O){if(!(O instanceof Cn.Err))throw O}if(!v)try{v=k.fromBytes(Je("sig",d),"compact")}catch{return!1}}return v||!1}function X(d,v,A,T={}){const{lowS:O,prehash:M,format:b}=Ga(T,S);if(A=Je("publicKey",A),v=ne(Je("message",v),M),"strict"in T)throw new Error("options.strict was renamed to lowS");const x=b===void 0?K(d):k.fromBytes(Je("sig",d),b);if(x===!1)return!1;try{const y=e.fromBytes(A);if(O&&x.hasHighS())return!1;const{r:_,s:z}=x,V=N(v),H=s.inv(z),ue=s.create(V*H),J=s.create(_*H),le=e.BASE.multiplyUnsafe(ue).add(y.multiplyUnsafe(J));return le.is0()?!1:s.create(le.x)===_}catch{return!1}}function B(d,v,A={}){const{prehash:T}=Ga(A,S);return v=ne(v,T),k.fromBytes(d,"recovered").recoverPublicKey(v).toBytes()}return Object.freeze({keygen:h,getPublicKey:p,getSharedSecret:m,utils:g,lengths:w,Point:e,sign:Q,verify:X,recoverPublicKey:B,Signature:k,hash:t})}function _S(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const o=Or(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:o,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function IS(e){const{CURVE:t,curveOpts:n}=_S(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function $S(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,Kp(n.Fn.ORDER,n.Fn.BITS))})}function TS(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:o}=IS(e),i=SS(t,n),s=BS(i,r,o);return $S(e,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function PS(e,t){const n=r=>TS({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lf={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},OS={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},lh=BigInt(2);function RS(e){const t=lf.p,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),h=e*e*e%t,p=h*h*e%t,m=Ze(p,n,t)*p%t,g=Ze(m,n,t)*p%t,w=Ze(g,lh,t)*h%t,S=Ze(w,o,t)*w%t,I=Ze(S,i,t)*S%t,P=Ze(I,a,t)*I%t,R=Ze(P,l,t)*P%t,U=Ze(R,a,t)*I%t,k=Ze(U,n,t)*p%t,j=Ze(k,s,t)*S%t,N=Ze(j,r,t)*h%t,Z=Ze(N,lh,t);if(!Mc.eql(Mc.sqr(Z),e))throw new Error("Cannot find square root");return Z}const Mc=Or(lf.p,{sqrt:RS}),CS=PS({...lf,Fp:Mc,lowS:!0,endo:OS},ap);ci.utils.randomPrivateKey;const hh=()=>{const e=ci.utils.randomPrivateKey(),t=kc(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},kc=ci.getPublicKey;function dh(e){try{return ci.ExtendedPoint.fromHex(e),!0}catch{return!1}}ci.verify;const MS=e=>Xe.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Xe.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Xe.Buffer.from(e);class kS{constructor(t){Object.assign(this,t)}encode(){return Xe.Buffer.from(f0(Fi,this))}static decode(t){return l0(Fi,this,t)}static decodeUnchecked(t){return i0(Fi,this,t)}}const Fi=new Map;var V0;const US=32,Va=32;function FS(e){return e._bn!==void 0}let ph=1;class Ae extends kS{constructor(t){if(super({}),this._bn=void 0,FS(t))this._bn=t._bn;else{if(typeof t=="string"){const n=sh.decode(t);if(n.length!=Va)throw new Error("Invalid public key input");this._bn=new ih(n)}else this._bn=new ih(t);if(this._bn.byteLength()>Va)throw new Error("Invalid public key input")}}static unique(){const t=new Ae(ph);return ph+=1,new Ae(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return sh.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Xe.Buffer);if(t.length===Va)return t;const n=Xe.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const o=Xe.Buffer.concat([t.toBuffer(),Xe.Buffer.from(n),r.toBuffer()]),i=Ec(o);return new Ae(i)}static createProgramAddressSync(t,n){let r=Xe.Buffer.alloc(0);t.forEach(function(i){if(i.length>US)throw new TypeError("Max seed length exceeded");r=Xe.Buffer.concat([r,MS(i)])}),r=Xe.Buffer.concat([r,n.toBuffer(),Xe.Buffer.from("ProgramDerivedAddress")]);const o=Ec(r);if(dh(o))throw new Error("Invalid seeds, address must fall off the curve");return new Ae(o)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,o;for(;r!=0;){try{const i=t.concat(Xe.Buffer.from([r]));o=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new Ae(t);return dh(n.toBytes())}}V0=Ae;Ae.default=new V0("11111111111111111111111111111111");Fi.set(Ae,{kind:"struct",fields:[["_bn","u256"]]});new Ae("BPFLoader1111111111111111111111111111111111");const NS=64,$e=(e="publicKey")=>uo(32,e),Wr=(e="string")=>{const t=pe([de("length"),de("lengthPadding"),uo(Sr(de(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),o=t;return o.decode=(i,s)=>n(i,s).chars.toString(),o.encode=(i,s,a)=>{const l={chars:Xe.Buffer.from(i,"utf8")};return r(l,s,a)},o.alloc=i=>de().span+de().span+Xe.Buffer.from(i,"utf8").length,o},jS=(e="authorized")=>pe([$e("staker"),$e("withdrawer")],e),LS=(e="lockup")=>pe([Vt("unixTimestamp"),Vt("epoch"),$e("custodian")],e),zS=(e="voteInit")=>pe([$e("nodePubkey"),$e("authorizedVoter"),$e("authorizedWithdrawer"),vt("commission")],e),DS=(e="voteAuthorizeWithSeedArgs")=>pe([de("voteAuthorizationType"),$e("currentAuthorityDerivedKeyOwnerPubkey"),Wr("currentAuthorityDerivedKeySeed"),$e("newAuthorized")],e);Xe.Buffer.alloc(NS).fill(0);new Ae("SysvarC1ock11111111111111111111111111111111");new Ae("SysvarEpochSchedu1e111111111111111111111111");new Ae("Sysvar1nstructions1111111111111111111111111");new Ae("SysvarRecentB1ockHashes11111111111111111111");new Ae("SysvarRent111111111111111111111111111111111");new Ae("SysvarRewards111111111111111111111111111111");new Ae("SysvarS1otHashes111111111111111111111111111");new Ae("SysvarS1otHistory11111111111111111111111111");new Ae("SysvarStakeHistory1111111111111111111111111");const HS=Bt("lamportsPerSignature"),qS=pe([de("version"),de("state"),$e("authorizedPubkey"),$e("nonce"),pe([HS],"feeCalculator")]);qS.span;function fo(e){const t=uo(8,e),n=t.decode.bind(t),r=t.encode.bind(t),o=t,i=jE();return o.decode=(s,a)=>{const l=n(s,a);return i.decode(l)},o.encode=(s,a,l)=>{const h=i.encode(s);return r(h,a,l)},o}Object.freeze({Create:{index:0,layout:pe([de("instruction"),Vt("lamports"),Vt("space"),$e("programId")])},Assign:{index:1,layout:pe([de("instruction"),$e("programId")])},Transfer:{index:2,layout:pe([de("instruction"),fo("lamports")])},CreateWithSeed:{index:3,layout:pe([de("instruction"),$e("base"),Wr("seed"),Vt("lamports"),Vt("space"),$e("programId")])},AdvanceNonceAccount:{index:4,layout:pe([de("instruction")])},WithdrawNonceAccount:{index:5,layout:pe([de("instruction"),Vt("lamports")])},InitializeNonceAccount:{index:6,layout:pe([de("instruction"),$e("authorized")])},AuthorizeNonceAccount:{index:7,layout:pe([de("instruction"),$e("authorized")])},Allocate:{index:8,layout:pe([de("instruction"),Vt("space")])},AllocateWithSeed:{index:9,layout:pe([de("instruction"),$e("base"),Wr("seed"),Vt("space"),$e("programId")])},AssignWithSeed:{index:10,layout:pe([de("instruction"),$e("base"),Wr("seed"),$e("programId")])},TransferWithSeed:{index:11,layout:pe([de("instruction"),fo("lamports"),Wr("seed"),$e("programId")])},UpgradeNonceAccount:{index:12,layout:pe([de("instruction")])}});new Ae("11111111111111111111111111111111");new Ae("BPFLoader2111111111111111111111111111111111");pe([de("typeIndex"),fo("deactivationSlot"),Bt("lastExtendedSlot"),vt("lastExtendedStartIndex"),vt(),wr($e(),Sr(vt(),-1),"authority")]);const Ye=li(uf(Ae),te(),e=>new Ae(e)),K0=ff([te(),Ke("base64")]),hf=li(uf(Xe.Buffer),K0,e=>Xe.Buffer.from(e[0],"base64"));function W0(e){return Ft([W({jsonrpc:Ke("2.0"),id:te(),result:e}),W({jsonrpc:Ke("2.0"),id:te(),error:W({code:So(),message:te(),data:he(KE())})})])}const GS=W0(So());function je(e){return li(W0(e),GS,t=>"error"in t?t:{...t,result:Vo(t.result,e)})}function dn(e){return je(W({context:W({slot:L()}),value:e}))}function Os(e){return W({context:W({slot:L()}),value:e})}const VS=W({foundation:L(),foundationTerm:L(),initial:L(),taper:L(),terminal:L()});je(ie(se(W({epoch:L(),effectiveSlot:L(),amount:L(),postBalance:L(),commission:he(se(L()))}))));const KS=ie(W({slot:L(),prioritizationFee:L()})),WS=W({total:L(),validator:L(),foundation:L(),epoch:L()}),ZS=W({epoch:L(),slotIndex:L(),slotsInEpoch:L(),absoluteSlot:L(),blockHeight:he(L()),transactionCount:he(L())}),JS=W({slotsPerEpoch:L(),leaderScheduleSlotOffset:L(),warmup:An(),firstNormalEpoch:L(),firstNormalSlot:L()}),XS=F0(te(),ie(L())),Mr=se(Ft([W({}),te()])),YS=W({err:Mr}),QS=Ke("receivedSignature");W({"solana-core":te(),"feature-set":he(L())});const e3=W({program:te(),programId:Ye,parsed:So()}),t3=W({programId:Ye,accounts:ie(Ye),data:te()});dn(W({err:se(Ft([W({}),te()])),logs:se(ie(te())),accounts:he(se(ie(se(W({executable:An(),owner:te(),lamports:L(),data:ie(te()),rentEpoch:he(L())}))))),unitsConsumed:he(L()),returnData:he(se(W({programId:te(),data:ff([te(),Ke("base64")])}))),innerInstructions:he(se(ie(W({index:L(),instructions:ie(Ft([e3,t3]))}))))}));dn(W({byIdentity:F0(te(),ie(L())),range:W({firstSlot:L(),lastSlot:L()})}));je(VS);je(WS);je(KS);je(ZS);je(JS);je(XS);je(L());dn(W({total:L(),circulating:L(),nonCirculating:L(),nonCirculatingAccounts:ie(Ye)}));const n3=W({amount:te(),uiAmount:se(L()),decimals:L(),uiAmountString:he(te())});dn(ie(W({address:Ye,amount:te(),uiAmount:se(L()),decimals:L(),uiAmountString:he(te())})));dn(ie(W({pubkey:Ye,account:W({executable:An(),owner:Ye,lamports:L(),data:hf,rentEpoch:L()})})));const Uc=W({program:te(),parsed:So(),space:L()});dn(ie(W({pubkey:Ye,account:W({executable:An(),owner:Ye,lamports:L(),data:Uc,rentEpoch:L()})})));dn(ie(W({lamports:L(),address:Ye})));const df=W({executable:An(),owner:Ye,lamports:L(),data:hf,rentEpoch:L()});W({pubkey:Ye,account:df});const r3=li(Ft([uf(Xe.Buffer),Uc]),Ft([K0,Uc]),e=>Array.isArray(e)?Vo(e,hf):e),o3=W({executable:An(),owner:Ye,lamports:L(),data:r3,rentEpoch:L()});W({pubkey:Ye,account:o3});W({state:Ft([Ke("active"),Ke("inactive"),Ke("activating"),Ke("deactivating")]),active:L(),inactive:L()});je(ie(W({signature:te(),slot:L(),err:Mr,memo:se(te()),blockTime:he(se(L()))})));je(ie(W({signature:te(),slot:L(),err:Mr,memo:se(te()),blockTime:he(se(L()))})));W({subscription:L(),result:Os(df)});const i3=W({pubkey:Ye,account:df});W({subscription:L(),result:Os(i3)});const s3=W({parent:L(),slot:L(),root:L()});W({subscription:L(),result:s3});const a3=Ft([W({type:Ft([Ke("firstShredReceived"),Ke("completed"),Ke("optimisticConfirmation"),Ke("root")]),slot:L(),timestamp:L()}),W({type:Ke("createdBank"),parent:L(),slot:L(),timestamp:L()}),W({type:Ke("frozen"),slot:L(),timestamp:L(),stats:W({numTransactionEntries:L(),numSuccessfulTransactions:L(),numFailedTransactions:L(),maxTransactionsPerEntry:L()})}),W({type:Ke("dead"),slot:L(),timestamp:L(),err:te()})]);W({subscription:L(),result:a3});W({subscription:L(),result:Os(Ft([YS,QS]))});W({subscription:L(),result:L()});W({pubkey:te(),gossip:se(te()),tpu:se(te()),rpc:se(te()),version:se(te())});const yh=W({votePubkey:te(),nodePubkey:te(),activatedStake:L(),epochVoteAccount:An(),epochCredits:ie(ff([L(),L(),L()])),commission:L(),lastVote:L(),rootSlot:se(L())});je(W({current:ie(yh),delinquent:ie(yh)}));const c3=Ft([Ke("processed"),Ke("confirmed"),Ke("finalized")]),u3=W({slot:L(),confirmations:se(L()),err:Mr,confirmationStatus:he(c3)});dn(ie(se(u3)));je(L());const Z0=W({accountKey:Ye,writableIndexes:ie(L()),readonlyIndexes:ie(L())}),pf=W({signatures:ie(te()),message:W({accountKeys:ie(te()),header:W({numRequiredSignatures:L(),numReadonlySignedAccounts:L(),numReadonlyUnsignedAccounts:L()}),instructions:ie(W({accounts:ie(L()),data:te(),programIdIndex:L()})),recentBlockhash:te(),addressTableLookups:he(ie(Z0))})}),J0=W({pubkey:Ye,signer:An(),writable:An(),source:he(Ft([Ke("transaction"),Ke("lookupTable")]))}),X0=W({accountKeys:ie(J0),signatures:ie(te())}),Y0=W({parsed:So(),program:te(),programId:Ye}),Q0=W({accounts:ie(Ye),data:te(),programId:Ye}),f3=Ft([Q0,Y0]),l3=Ft([W({parsed:So(),program:te(),programId:te()}),W({accounts:ie(te()),data:te(),programId:te()})]),ey=li(f3,l3,e=>"accounts"in e?Vo(e,Q0):Vo(e,Y0)),ty=W({signatures:ie(te()),message:W({accountKeys:ie(J0),instructions:ie(ey),recentBlockhash:te(),addressTableLookups:he(se(ie(Z0)))})}),ts=W({accountIndex:L(),mint:te(),owner:he(te()),programId:he(te()),uiTokenAmount:n3}),ny=W({writable:ie(Ye),readonly:ie(Ye)}),Rs=W({err:Mr,fee:L(),innerInstructions:he(se(ie(W({index:L(),instructions:ie(W({accounts:ie(L()),data:te(),programIdIndex:L()}))})))),preBalances:ie(L()),postBalances:ie(L()),logMessages:he(se(ie(te()))),preTokenBalances:he(se(ie(ts))),postTokenBalances:he(se(ie(ts))),loadedAddresses:he(ny),computeUnitsConsumed:he(L()),costUnits:he(L())}),yf=W({err:Mr,fee:L(),innerInstructions:he(se(ie(W({index:L(),instructions:ie(ey)})))),preBalances:ie(L()),postBalances:ie(L()),logMessages:he(se(ie(te()))),preTokenBalances:he(se(ie(ts))),postTokenBalances:he(se(ie(ts))),loadedAddresses:he(ny),computeUnitsConsumed:he(L()),costUnits:he(L())}),Ao=Ft([Ke(0),Ke("legacy")]),kr=W({pubkey:te(),lamports:L(),postBalance:se(L()),rewardType:se(te()),commission:he(se(L()))});je(se(W({blockhash:te(),previousBlockhash:te(),parentSlot:L(),transactions:ie(W({transaction:pf,meta:se(Rs),version:he(Ao)})),rewards:he(ie(kr)),blockTime:se(L()),blockHeight:se(L())})));je(se(W({blockhash:te(),previousBlockhash:te(),parentSlot:L(),rewards:he(ie(kr)),blockTime:se(L()),blockHeight:se(L())})));je(se(W({blockhash:te(),previousBlockhash:te(),parentSlot:L(),transactions:ie(W({transaction:X0,meta:se(Rs),version:he(Ao)})),rewards:he(ie(kr)),blockTime:se(L()),blockHeight:se(L())})));je(se(W({blockhash:te(),previousBlockhash:te(),parentSlot:L(),transactions:ie(W({transaction:ty,meta:se(yf),version:he(Ao)})),rewards:he(ie(kr)),blockTime:se(L()),blockHeight:se(L())})));je(se(W({blockhash:te(),previousBlockhash:te(),parentSlot:L(),transactions:ie(W({transaction:X0,meta:se(yf),version:he(Ao)})),rewards:he(ie(kr)),blockTime:se(L()),blockHeight:se(L())})));je(se(W({blockhash:te(),previousBlockhash:te(),parentSlot:L(),rewards:he(ie(kr)),blockTime:se(L()),blockHeight:se(L())})));je(se(W({blockhash:te(),previousBlockhash:te(),parentSlot:L(),transactions:ie(W({transaction:pf,meta:se(Rs)})),rewards:he(ie(kr)),blockTime:se(L())})));je(se(W({blockhash:te(),previousBlockhash:te(),parentSlot:L(),signatures:ie(te()),blockTime:se(L())})));je(se(W({slot:L(),meta:se(Rs),blockTime:he(se(L())),transaction:pf,version:he(Ao)})));je(se(W({slot:L(),transaction:ty,meta:se(yf),blockTime:he(se(L())),version:he(Ao)})));dn(W({blockhash:te(),lastValidBlockHeight:L()}));dn(An());const h3=W({slot:L(),numTransactions:L(),numSlots:L(),samplePeriodSecs:L()});je(ie(h3));dn(se(W({feeCalculator:W({lamportsPerSignature:L()})})));je(te());je(te());const d3=W({err:Mr,logs:ie(te()),signature:te()});W({result:Os(d3),subscription:L()});class eo{constructor(t){this._keypair=void 0,this._keypair=t??hh()}static generate(){return new eo(hh())}static fromSecretKey(t,n){if(t.byteLength!==64)throw new Error("bad secret key size");const r=t.slice(32,64);if(!n||!n.skipValidation){const o=t.slice(0,32),i=kc(o);for(let s=0;s<32;s++)if(r[s]!==i[s])throw new Error("provided secretKey is invalid")}return new eo({publicKey:r,secretKey:t})}static fromSeed(t){const n=kc(t),r=new Uint8Array(64);return r.set(t),r.set(n,32),new eo({publicKey:n,secretKey:r})}get publicKey(){return new Ae(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:pe([de("instruction"),fo("recentSlot"),vt("bumpSeed")])},FreezeLookupTable:{index:1,layout:pe([de("instruction")])},ExtendLookupTable:{index:2,layout:pe([de("instruction"),fo(),wr($e(),Sr(de(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:pe([de("instruction")])},CloseLookupTable:{index:4,layout:pe([de("instruction")])}});new Ae("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:pe([vt("instruction"),de("units"),de("additionalFee")])},RequestHeapFrame:{index:1,layout:pe([vt("instruction"),de("bytes")])},SetComputeUnitLimit:{index:2,layout:pe([vt("instruction"),de("units")])},SetComputeUnitPrice:{index:3,layout:pe([vt("instruction"),fo("microLamports")])}});new Ae("ComputeBudget111111111111111111111111111111");pe([vt("numSignatures"),vt("padding"),Xt("signatureOffset"),Xt("signatureInstructionIndex"),Xt("publicKeyOffset"),Xt("publicKeyInstructionIndex"),Xt("messageDataOffset"),Xt("messageDataSize"),Xt("messageInstructionIndex")]);new Ae("Ed25519SigVerify111111111111111111111111111");CS.utils.isValidPrivateKey;pe([vt("numSignatures"),Xt("signatureOffset"),vt("signatureInstructionIndex"),Xt("ethAddressOffset"),vt("ethAddressInstructionIndex"),Xt("messageDataOffset"),Xt("messageDataSize"),vt("messageInstructionIndex"),uo(20,"ethAddress"),uo(64,"signature"),vt("recoveryId")]);new Ae("KeccakSecp256k11111111111111111111111111111");var ry;new Ae("StakeConfig11111111111111111111111111111111");class oy{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}ry=oy;oy.default=new ry(0,0,Ae.default);Object.freeze({Initialize:{index:0,layout:pe([de("instruction"),jS(),LS()])},Authorize:{index:1,layout:pe([de("instruction"),$e("newAuthorized"),de("stakeAuthorizationType")])},Delegate:{index:2,layout:pe([de("instruction")])},Split:{index:3,layout:pe([de("instruction"),Vt("lamports")])},Withdraw:{index:4,layout:pe([de("instruction"),Vt("lamports")])},Deactivate:{index:5,layout:pe([de("instruction")])},Merge:{index:7,layout:pe([de("instruction")])},AuthorizeWithSeed:{index:8,layout:pe([de("instruction"),$e("newAuthorized"),de("stakeAuthorizationType"),Wr("authoritySeed"),$e("authorityOwner")])}});new Ae("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:pe([de("instruction"),zS()])},Authorize:{index:1,layout:pe([de("instruction"),$e("newAuthorized"),de("voteAuthorizationType")])},Withdraw:{index:3,layout:pe([de("instruction"),Vt("lamports")])},UpdateValidatorIdentity:{index:4,layout:pe([de("instruction")])},AuthorizeWithSeed:{index:10,layout:pe([de("instruction"),DS()])}});new Ae("Vote111111111111111111111111111111111111111");new Ae("Va1idator1nfo111111111111111111111111111111");W({name:te(),website:he(te()),details:he(te()),iconUrl:he(te()),keybaseUsername:he(te())});new Ae("Vote111111111111111111111111111111111111111");pe([$e("nodePubkey"),$e("authorizedWithdrawer"),vt("commission"),Bt(),wr(pe([Bt("slot"),de("confirmationCount")]),Sr(de(),-8),"votes"),vt("rootSlotValid"),Bt("rootSlot"),Bt(),wr(pe([Bt("epoch"),$e("authorizedVoter")]),Sr(de(),-8),"authorizedVoters"),pe([wr(pe([$e("authorizedPubkey"),Bt("epochOfLastAuthorizedSwitch"),Bt("targetEpoch")]),32,"buf"),Bt("idx"),vt("isEmpty")],"priorVoters"),Bt(),wr(pe([Bt("epoch"),Bt("credits"),Bt("prevCredits")]),Sr(de(),-8),"epochCredits"),pe([Bt("slot"),Bt("timestamp")],"lastTimestamp")]);function p3(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let h=0;h<t.length;h++)t[h]=255;for(let h=0;h<e.length;h++){const p=e.charAt(h),m=p.charCodeAt(0);if(t[m]!==255)throw new TypeError(p+" is ambiguous");t[m]=h}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function s(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let p=0,m=0,g=0;const w=h.length;for(;g!==w&&h[g]===0;)g++,p++;const S=(w-g)*i+1>>>0,I=new Uint8Array(S);for(;g!==w;){let U=h[g],k=0;for(let j=S-1;(U!==0||k<m)&&j!==-1;j--,k++)U+=256*I[j]>>>0,I[j]=U%n>>>0,U=U/n>>>0;if(U!==0)throw new Error("Non-zero carry");m=k,g++}let P=S-m;for(;P!==S&&I[P]===0;)P++;let R=r.repeat(p);for(;P<S;++P)R+=e.charAt(I[P]);return R}function a(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let p=0,m=0,g=0;for(;h[p]===r;)m++,p++;const w=(h.length-p)*o+1>>>0,S=new Uint8Array(w);for(;p<h.length;){const U=h.charCodeAt(p);if(U>255)return;let k=t[U];if(k===255)return;let j=0;for(let N=w-1;(k!==0||j<g)&&N!==-1;N--,j++)k+=n*S[N]>>>0,S[N]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");g=j,p++}let I=w-g;for(;I!==w&&S[I]===0;)I++;const P=new Uint8Array(m+(w-I));let R=m;for(;I!==w;)P[R++]=S[I++];return P}function l(h){const p=a(h);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:s,decodeUnsafe:a,decode:l}}var y3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const mh=p3(y3),Zr=new TextEncoder,ns=new TextDecoder;function m3(...e){const t=e.reduce((o,{length:i})=>o+i,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}function g3(e){if(Uint8Array.prototype.toBase64)return e.toBase64();const t=32768,n=[];for(let r=0;r<e.length;r+=t)n.push(String.fromCharCode.apply(null,e.subarray(r,r+t)));return btoa(n.join(""))}function w3(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(e);const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}function b3(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof e=="string"?e:ns.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=ns.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return w3(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function Ka(e){let t=e;return typeof t=="string"&&(t=Zr.encode(t)),Uint8Array.prototype.toBase64?t.toBase64({alphabet:"base64url",omitPadding:!0}):g3(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var nc;let mf=(nc=class extends Error{constructor(n,r){var o;super(n,r);Be(this,"code","ERR_JOSE_GENERIC");this.name=this.constructor.name,(o=Error.captureStackTrace)==null||o.call(Error,this,this.constructor)}},Be(nc,"code","ERR_JOSE_GENERIC"),nc);var rc;let Jr=(rc=class extends mf{constructor(){super(...arguments);Be(this,"code","ERR_JOSE_NOT_SUPPORTED")}},Be(rc,"code","ERR_JOSE_NOT_SUPPORTED"),rc);var oc;let Co=(oc=class extends mf{constructor(){super(...arguments);Be(this,"code","ERR_JWS_INVALID")}},Be(oc,"code","ERR_JWS_INVALID"),oc);var ic;let v3=(ic=class extends mf{constructor(){super(...arguments);Be(this,"code","ERR_JWT_INVALID")}},Be(ic,"code","ERR_JWT_INVALID"),ic);const x3=(e,t)=>{const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new Jr(`alg ${e} is not supported either by JOSE or your javascript runtime`)}},E3=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function On(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Mo(e,t){return e.name===t}function Wa(e){return parseInt(e.name.slice(4),10)}function S3(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function A3(e,t){if(!e.usages.includes(t))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${t}.`)}function B3(e,t,n){switch(t){case"HS256":case"HS384":case"HS512":{if(!Mo(e.algorithm,"HMAC"))throw On("HMAC");const r=parseInt(t.slice(2),10);if(Wa(e.algorithm.hash)!==r)throw On(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Mo(e.algorithm,"RSASSA-PKCS1-v1_5"))throw On("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(Wa(e.algorithm.hash)!==r)throw On(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Mo(e.algorithm,"RSA-PSS"))throw On("RSA-PSS");const r=parseInt(t.slice(2),10);if(Wa(e.algorithm.hash)!==r)throw On(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!Mo(e.algorithm,"Ed25519"))throw On("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!Mo(e.algorithm,"ECDSA"))throw On("ECDSA");const r=S3(t);if(e.algorithm.namedCurve!==r)throw On(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}A3(e,n)}function iy(e,t,...n){var r;if(n=n.filter(Boolean),n.length>2){const o=n.pop();e+=`one of type ${n.join(", ")}, or ${o}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&((r=t.constructor)!=null&&r.name)&&(e+=` Received an instance of ${t.constructor.name}`),e}const _3=(e,...t)=>iy("Key must be ",e,...t);function sy(e,t,...n){return iy(`Key for the ${e} algorithm must be `,t,...n)}const I3=async(e,t,n)=>{if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(_3(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}return B3(t,e,n),t},$3=async(e,t,n)=>{const r=await I3(e,t,"sign");E3(e,r);const o=await crypto.subtle.sign(x3(e,r.algorithm),r,n);return new Uint8Array(o)},T3=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const o=Object.keys(r);if(!n||n.size===0){n=new Set(o);continue}for(const i of o){if(n.has(i))return!1;n.add(i)}}return!0};function ay(e){return(e==null?void 0:e[Symbol.toStringTag])==="CryptoKey"}function cy(e){return(e==null?void 0:e[Symbol.toStringTag])==="KeyObject"}const uy=e=>ay(e)||cy(e);function P3(e){return typeof e=="object"&&e!==null}const fy=e=>{if(!P3(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function gf(e){return fy(e)&&typeof e.kty=="string"}function O3(e){return e.kty!=="oct"&&typeof e.d=="string"}function R3(e){return e.kty!=="oct"&&typeof e.d>"u"}function C3(e){return e.kty==="oct"&&typeof e.k=="string"}const qr=e=>e==null?void 0:e[Symbol.toStringTag],Fc=(e,t,n)=>{var r,o;if(t.use!==void 0){let i;switch(n){case"sign":case"verify":i="sig";break;case"encrypt":case"decrypt":i="enc";break}if(t.use!==i)throw new TypeError(`Invalid key for this operation, its "use" must be "${i}" when present`)}if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let i;switch(!0){case n==="sign":case e==="dir":case e.includes("CBC-HS"):i=n;break;case e.startsWith("PBES2"):i="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):!e.includes("GCM")&&e.endsWith("KW")?i="unwrapKey":i=n;break;case n==="encrypt":i="wrapKey";break;case n==="decrypt":i=e.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(i&&((o=(r=t.key_ops)==null?void 0:r.includes)==null?void 0:o.call(r,i))===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${i}" when present`)}return!0},M3=(e,t,n)=>{if(!(t instanceof Uint8Array)){if(gf(t)){if(C3(t)&&Fc(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!uy(t))throw new TypeError(sy(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(t.type!=="secret")throw new TypeError(`${qr(t)} instances for symmetric algorithms must be of type "secret"`)}},k3=(e,t,n)=>{if(gf(t))switch(n){case"decrypt":case"sign":if(O3(t)&&Fc(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(R3(t)&&Fc(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!uy(t))throw new TypeError(sy(e,t,"CryptoKey","KeyObject","JSON Web Key"));if(t.type==="secret")throw new TypeError(`${qr(t)} instances for asymmetric algorithms must not be of type "secret"`);if(t.type==="public")switch(n){case"sign":throw new TypeError(`${qr(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${qr(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if(t.type==="private")switch(n){case"verify":throw new TypeError(`${qr(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${qr(t)} instances for asymmetric algorithm encryption must be of type "public"`)}},U3=(e,t,n)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(e)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(e)?M3(e,t,n):k3(e,t,n)},F3=(e,t,n,r,o)=>{if(o.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;n!==void 0?i=new Map([...Object.entries(n),...t.entries()]):i=t;for(const s of r.crit){if(!i.has(s))throw new Jr(`Extension Header Parameter "${s}" is not recognized`);if(o[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(i.get(s)&&r[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)};function N3(e){let t,n;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Jr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Jr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Jr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Jr('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}const j3=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=N3(e),r={...e};return delete r.alg,delete r.use,crypto.subtle.importKey("jwk",r,t,e.ext??!e.d,e.key_ops??n)};let to;const gh=async(e,t,n,r=!1)=>{to||(to=new WeakMap);let o=to.get(e);if(o!=null&&o[n])return o[n];const i=await j3({...t,alg:n});return r&&Object.freeze(e),o?o[n]=i:to.set(e,{[n]:i}),i},L3=(e,t)=>{var s;to||(to=new WeakMap);let n=to.get(e);if(n!=null&&n[t])return n[t];const r=e.type==="public",o=!!r;let i;if(e.asymmetricKeyType==="x25519"){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}i=e.toCryptoKey(e.asymmetricKeyType,o,r?[]:["deriveBits"])}if(e.asymmetricKeyType==="ed25519"){if(t!=="EdDSA"&&t!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,o,[r?"verify":"sign"])}if(e.asymmetricKeyType==="rsa"){let a;switch(t){case"RSA-OAEP":a="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":a="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":a="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":a="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:a},o,r?["encrypt"]:["decrypt"]);i=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:a},o,[r?"verify":"sign"])}if(e.asymmetricKeyType==="ec"){const a=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get((s=e.asymmetricKeyDetails)==null?void 0:s.namedCurve);if(!a)throw new TypeError("given KeyObject instance cannot be used for this algorithm");t==="ES256"&&a==="P-256"&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:a},o,[r?"verify":"sign"])),t==="ES384"&&a==="P-384"&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:a},o,[r?"verify":"sign"])),t==="ES512"&&a==="P-521"&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:a},o,[r?"verify":"sign"])),t.startsWith("ECDH-ES")&&(i=e.toCryptoKey({name:"ECDH",namedCurve:a},o,r?[]:["deriveBits"]))}if(!i)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[t]=i:to.set(e,{[t]:i}),i},z3=async(e,t)=>{if(e instanceof Uint8Array||ay(e))return e;if(cy(e)){if(e.type==="secret")return e.export();if("toCryptoKey"in e&&typeof e.toCryptoKey=="function")try{return L3(e,t)}catch(r){if(r instanceof TypeError)throw r}let n=e.export({format:"jwk"});return gh(e,n,t)}if(gf(e))return e.k?b3(e.k):gh(e,e,t,!0);throw new Error("unreachable")};var Xo,Gt,gn,Fh;let D3=(Fh=class{constructor(t){zn(this,Xo);zn(this,Gt);zn(this,gn);if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");Dn(this,Xo,t)}setProtectedHeader(t){if(me(this,Gt))throw new TypeError("setProtectedHeader can only be called once");return Dn(this,Gt,t),this}setUnprotectedHeader(t){if(me(this,gn))throw new TypeError("setUnprotectedHeader can only be called once");return Dn(this,gn,t),this}async sign(t,n){if(!me(this,Gt)&&!me(this,gn))throw new Co("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!T3(me(this,Gt),me(this,gn)))throw new Co("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...me(this,Gt),...me(this,gn)},o=F3(Co,new Map([["b64",!0]]),n==null?void 0:n.crit,me(this,Gt),r);let i=!0;if(o.has("b64")&&(i=me(this,Gt).b64,typeof i!="boolean"))throw new Co('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=r;if(typeof s!="string"||!s)throw new Co('JWS "alg" (Algorithm) Header Parameter missing or invalid');U3(s,t,"sign");let a=me(this,Xo);i&&(a=Zr.encode(Ka(a)));let l;me(this,Gt)?l=Zr.encode(Ka(JSON.stringify(me(this,Gt)))):l=Zr.encode("");const h=m3(l,Zr.encode("."),a),p=await z3(t,s),m=await $3(s,p,h),g={signature:Ka(m),payload:""};return i&&(g.payload=ns.decode(a)),me(this,gn)&&(g.header=me(this,gn)),me(this,Gt)&&(g.protected=ns.decode(l)),g}},Xo=new WeakMap,Gt=new WeakMap,gn=new WeakMap,Fh);var no,Nh;let H3=(Nh=class{constructor(t){zn(this,no);Dn(this,no,new D3(t))}setProtectedHeader(t){return me(this,no).setProtectedHeader(t),this}async sign(t,n){const r=await me(this,no).sign(t,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}},no=new WeakMap,Nh);const cr=e=>Math.floor(e.getTime()/1e3),q3=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Za=e=>{const t=q3.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]),r=t[3].toLowerCase();let o;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":o=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":o=Math.round(n*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":o=Math.round(n*3600);break;case"day":case"days":case"d":o=Math.round(n*86400);break;case"week":case"weeks":case"w":o=Math.round(n*604800);break;default:o=Math.round(n*31557600);break}return t[1]==="-"||t[4]==="ago"?-o:o};function ur(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}var We,jh;let G3=(jh=class{constructor(t){zn(this,We);if(!fy(t))throw new TypeError("JWT Claims Set MUST be an object");Dn(this,We,structuredClone(t))}data(){return Zr.encode(JSON.stringify(me(this,We)))}get iss(){return me(this,We).iss}set iss(t){me(this,We).iss=t}get sub(){return me(this,We).sub}set sub(t){me(this,We).sub=t}get aud(){return me(this,We).aud}set aud(t){me(this,We).aud=t}set jti(t){me(this,We).jti=t}set nbf(t){typeof t=="number"?me(this,We).nbf=ur("setNotBefore",t):t instanceof Date?me(this,We).nbf=ur("setNotBefore",cr(t)):me(this,We).nbf=cr(new Date)+Za(t)}set exp(t){typeof t=="number"?me(this,We).exp=ur("setExpirationTime",t):t instanceof Date?me(this,We).exp=ur("setExpirationTime",cr(t)):me(this,We).exp=cr(new Date)+Za(t)}set iat(t){typeof t>"u"?me(this,We).iat=cr(new Date):t instanceof Date?me(this,We).iat=ur("setIssuedAt",cr(t)):typeof t=="string"?me(this,We).iat=ur("setIssuedAt",cr(new Date)+Za(t)):me(this,We).iat=ur("setIssuedAt",t)}},We=new WeakMap,jh);var Yn,Jt,Lh;let V3=(Lh=class{constructor(t={}){zn(this,Yn);zn(this,Jt);Dn(this,Jt,new G3(t))}setIssuer(t){return me(this,Jt).iss=t,this}setSubject(t){return me(this,Jt).sub=t,this}setAudience(t){return me(this,Jt).aud=t,this}setJti(t){return me(this,Jt).jti=t,this}setNotBefore(t){return me(this,Jt).nbf=t,this}setExpirationTime(t){return me(this,Jt).exp=t,this}setIssuedAt(t){return me(this,Jt).iat=t,this}setProtectedHeader(t){return Dn(this,Yn,t),this}async sign(t,n){var o;const r=new H3(me(this,Jt).data());if(r.setProtectedHeader(me(this,Yn)),Array.isArray((o=me(this,Yn))==null?void 0:o.crit)&&me(this,Yn).crit.includes("b64")&&me(this,Yn).b64===!1)throw new v3("JWTs MUST NOT use unencoded payload");return r.sign(t,n)}},Yn=new WeakMap,Jt=new WeakMap,Lh);const lo=(e,t,n)=>{const r=new Date(t).getTime(),o=Cs(n);return{accessToken:e,expiresAt:r,user:o}},Cs=e=>{var t,n,r;return{userId:e.userId,evmAccounts:((t=e.evmAccounts)==null?void 0:t.map(o=>o))??[],evmSmartAccounts:((n=e.evmSmartAccounts)==null?void 0:n.map(o=>o))??[],solanaAccounts:((r=e.solanaAccounts)==null?void 0:r.map(o=>o))??[],authenticationMethods:e.authenticationMethods.reduce((o,i)=>(o[i.type]=i,o),{})}},Nc=e=>!e||typeof e!="object"?e:Array.isArray(e)?e.map(Nc):Object.keys(e).sort().reduce((t,n)=>(t[n]=Nc(e[n]),t),{}),K3=e=>Object.values(pd).includes(e),ly={"base-sepolia":84532,base:8453,ethereum:1,"ethereum-sepolia":11155111,avalanche:43114,polygon:137,optimism:10,arbitrum:42161},W3=Object.fromEntries(Object.entries(ly).map(([e,t])=>[t,e])),Z3=e=>Object.values(ly).includes(e),wf={"base-sepolia":84532,base:8453,ethereum:1,"ethereum-sepolia":11155111,avalanche:43114,polygon:137,optimism:10,arbitrum:42161,zora:7777777,bnb:56},rs=Object.fromEntries(Object.entries(wf).map(([e,t])=>[t,e])),hy=e=>Object.values(wf).includes(e);let jc=null,Lc=null,zc=null;const J3=e=>{jc=e},fe=()=>{if(!jc)throw new Error("SDK not initialized");return jc},wh=e=>{Lc=e},we=()=>{if(!Lc)throw new Error("SDK not initialized");return Lc},bh=e=>{zc=e},dy=()=>{if(!zc)throw new Error("SDK not initialized");return zc},Ri=60*1e3;let bf=class{constructor(t){Be(this,"projectId");Be(this,"authState",null);Be(this,"walletSecret",null);Be(this,"authStateChangeCallbacks",[]);Be(this,"initPromise",null);Be(this,"refreshTimeout",null);this.projectId=t,this.initPromise=this._doInitialize()}getUser(){var t;return((t=this.authState)==null?void 0:t.user)??null}async isSignedIn(){if(!this.authState)return!1;if(this.authState.expiresAt>Date.now()+Ri)return!0;try{return await this.getToken()!==null}catch{return!1}}async signOut(){try{await $w(this.projectId)}catch{}finally{await this.clearAuthState()}}addAuthStateChangeCallback(t){var n;this.authStateChangeCallbacks.push(t),t(((n=this.authState)==null?void 0:n.user)??null)}async getToken(){var t;return this.shouldRefreshToken()&&await this.refreshAccessToken(),((t=this.authState)==null?void 0:t.accessToken)??null}async getTokenExpiration(){var t;return((t=this.authState)==null?void 0:t.expiresAt)??null}async getWalletSecretId(){if(!await this.isSignedIn())throw new Error("Cannot get wallet secret ID if the user is not signed in");return this.shouldRefreshWalletSecret()&&await this.refreshWalletSecret(),this.walletSecret.walletSecretId}async getXWalletAuth(t){if(!await this.isSignedIn())throw new Error("Cannot get X-Wallet-Auth header if the user is not signed in");this.shouldRefreshWalletSecret()&&await this.refreshWalletSecret();const n=`${t.requestMethod} ${t.requestHost}${t.requestPath}`,r=Math.floor(Date.now()/1e3),o=qo(),i={uris:[n]};if(t.requestData&&Object.keys(t.requestData).length>0){const s=Nc(t.requestData);i.reqHash=await o.hash(new TextEncoder().encode(JSON.stringify(s)))}return await new V3(i).setProtectedHeader({alg:"ES256",typ:"JWT"}).setIssuedAt(r).setNotBefore(r).setJti(o.generateRandomId()).sign(this.walletSecret.keyPair.privateKey)}getAuthState(){return this.authState}async setAuthState(t){this.authState=t,this.authStateChangeCallbacks.forEach(n=>{var r;return n(((r=this.authState)==null?void 0:r.user)??null)}),this.scheduleTokenRefresh()}async clearAuthState(){this.authState=null,this.walletSecret=null,this.cancelTokenRefresh(),this.authStateChangeCallbacks.forEach(t=>t(null))}async ensureInitialized(){if(this.initPromise){await this.initPromise;return}throw new Error("AuthManager not initialized")}async _doInitialize(){try{await this.refreshAccessToken(),await dy().handleOAuthCode()}catch(t){console.warn("Failed to refresh access token during initialization:",t)}}shouldRefreshToken(){return!(this.authState&&this.authState.expiresAt>Date.now()+Ri)}async refreshAccessToken(){try{const t=await Iw(this.projectId,{grantType:"refresh_token"}),n=lo(t.accessToken,t.validUntil,t.endUser);await this.setAuthState(n)}catch{await this.signOut()}}scheduleTokenRefresh(){if(this.cancelTokenRefresh(),!this.authState)return;const t=this.authState.expiresAt-Ri-Date.now();t<=0||(this.refreshTimeout=setTimeout(async()=>{await this.refreshAccessToken(),this.scheduleTokenRefresh()},t))}cancelTokenRefresh(){this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null)}shouldRefreshWalletSecret(){return!(this.walletSecret&&this.walletSecret.expiresAt>Date.now()+Ri)}async refreshWalletSecret(){var s,a;const t=qo(),n=((s=this.walletSecret)==null?void 0:s.walletSecretId)??t.generateRandomId(),r=((a=this.walletSecret)==null?void 0:a.keyPair)??await t.createKeyPair(),o=this.authState.expiresAt,i=new Date(o).toISOString();this.walletSecret={walletSecretId:n,keyPair:r,expiresAt:o};try{await Pw(this.projectId,this.authState.user.userId,{walletSecretId:n,publicKey:r.publicKeyBase64,validUntil:i})}catch(l){throw this.walletSecret=null,l}}},No=class extends Error{constructor(t){super(t),this.name="CustomAuthError"}};const py=60*60*1e3;let X3=class extends bf{async signOut(){await this.clearAuthState()}async getToken(){const t=fe();if(!t.customAuth)return console.error("Custom auth configuration not found"),await this.clearAuthState(),null;try{const n=await t.customAuth.getJwt();return n?(this.authState&&(this.authState.accessToken=n,this.authState.expiresAt=Date.now()+py),n):(await this.clearAuthState(),null)}catch(n){const r=new No(n instanceof Error?n.message:"Failed to get custom auth JWT");return console.error(r),await this.clearAuthState(),null}}async _doInitialize(){}shouldRefreshToken(){return!1}async refreshAccessToken(){}scheduleTokenRefresh(){this.cancelTokenRefresh()}};function Y3(e){var t;return(t=fe().customAuth)!=null&&t.getJwt?new X3(e):new bf(e)}let Q3=class{constructor(){Be(this,"oauthFlowState",null);Be(this,"oauthStateChangeCallbacks",[])}async addOAuthStateChangeCallback(t){this.oauthStateChangeCallbacks.push(t),t(this.oauthFlowState)}async setOAuthFlowState(t){this.oauthFlowState=t,this.oauthStateChangeCallbacks.forEach(n=>n(this.oauthFlowState))}async clearOAuthFlowState(){this.oauthFlowState=null,this.oauthStateChangeCallbacks.forEach(t=>t(null))}async getOAuthFlowState(){return this.oauthFlowState}async handleOAuthCode(t){try{const n=await En().getOAuthParams(t);if(await En().cleanupOAuthParams(),!n)return;const{providerType:r,code:o,flowId:i,error:s,errorDescription:a}=n;if(s||a){await this.setOAuthFlowState({providerType:r,status:"error",errorDescription:s??a,code:o,flowId:i,error:s});return}if(!o||!r||!i)return;await this.setOAuthFlowState({providerType:r,status:"pending",code:o,flowId:i}),await Sf({code:o,providerType:r,flowId:i}),await this.setOAuthFlowState({providerType:r,status:"success",code:o,flowId:i})}catch(n){const r=n instanceof Error?n.message:"Unknown error";await En().cleanupOAuthParams(),await this.setOAuthFlowState({status:"error",errorDescription:r})}}};const eA=async e=>await e.isSignedIn();async function Nt(e,t,n){var i,s,a;if(!await eA(t))throw new Error("User not signed in");const r=t.getUser();if("evmAccount"in e&&!((i=r.evmAccounts)!=null&&i.find(l=>l===e.evmAccount)))throw new Error("EVM account not found");if("evmSmartAccount"in e&&!((s=r.evmSmartAccounts)!=null&&s.find(l=>l===e.evmSmartAccount)))throw new Error("EVM Smart Account not found");if("solanaAccount"in e&&!((a=r.solanaAccounts)!=null&&a.find(l=>l===e.solanaAccount)))throw new Error("Solana account not found");const o=await t.getWalletSecretId();return n({...e,user:r,walletSecretId:o})}const tA="0x0000000000000000000000000000000000000000",Ko={userId:"mock-user-id",evmAccounts:[tA],evmSmartAccounts:[],solanaAccounts:["5fNfvyp5f3BB9T24s6bC8QjDXuJqvU8WjziJpEQi9PWT"],authenticationMethods:{email:{type:"email",email:"test@test.com"}}};let nA=class{constructor(t){Be(this,"authState",null);Be(this,"authStateChangeCallback",null)}async ensureInitialized(){return Promise.resolve()}getUser(){var t;return((t=this.authState)==null?void 0:t.user)??null}async isSignedIn(){return this.authState?Promise.resolve(this.authState.expiresAt>Date.now()):Promise.resolve(!1)}async signOut(){await this.clearAuthState()}addAuthStateChangeCallback(t){var n;this.authStateChangeCallback=t,t(((n=this.authState)==null?void 0:n.user)??null)}async getToken(){var t;return this.authState?(this.authState.expiresAt<=Date.now()&&await this.refreshToken(),((t=this.authState)==null?void 0:t.accessToken)??null):null}async getTokenExpiration(){var t;return((t=this.authState)==null?void 0:t.expiresAt)??null}async getWalletSecretId(){return"mock-wallet-secret-id"}async getXWalletAuth(t){if(!this.authState)throw new Error("User not signed in");return"x-wallet-auth"}getAuthState(){return this.authState}async setAuthState(t){var n;this.authState=t,this.authStateChangeCallback&&this.authStateChangeCallback(((n=this.authState)==null?void 0:n.user)??null)}async clearAuthState(){this.authState=null,this.authStateChangeCallback&&this.authStateChangeCallback(null)}async refreshToken(){this.authState&&await this.setAuthState({accessToken:"mock-access-token",expiresAt:Date.now()+1e3*60*60*24,user:Ko})}},rA=class{constructor(){Be(this,"oauthFlowState",null);Be(this,"oauthStateChangeCallbacks",[]);this.handleOAuthCode()}async getOAuthFlowState(){return this.oauthFlowState??null}async setOAuthFlowState(t){this.oauthFlowState=t,this.oauthStateChangeCallbacks.forEach(n=>n(this.oauthFlowState))}async addOAuthStateChangeCallback(t){this.oauthStateChangeCallbacks.push(t),t(this.oauthFlowState)}async clearOAuthFlowState(){this.oauthFlowState=null,this.oauthStateChangeCallbacks.forEach(t=>t(null))}async handleOAuthCode(){var t;await((t=En())==null?void 0:t.cleanupOAuthParams()),await this.setOAuthFlowState({providerType:"google",status:"pending",code:"mock-oauth-code",flowId:"mock-flow-id"}),await Sf({code:"mock-oauth-code",providerType:"google",flowId:"mock-flow-id"}),await this.setOAuthFlowState({providerType:"google",status:"success",code:"mock-oauth-code",flowId:"mock-flow-id"})}};const yy="2.33.0";let ko={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${yy}`},et=class Dc extends Error{constructor(t,n={}){var a,l;const r=n.cause instanceof Dc?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,o=n.cause instanceof Dc&&n.cause.docsPath||n.docsPath,i=(l=ko.getDocsUrl)==null?void 0:l.call(ko,{...n,docsPath:o}),s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...ko.version?[`Version: ${ko.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=yy}walk(t){return my(this,t)}};function my(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?my(e.cause,t):t?null:e}let oA=class extends et{constructor({max:t,min:n,signed:r,size:o,value:i}){super(`Number "${i}" is not in safe ${o?`${o*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},iA=class extends et{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}},sA=class extends et{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},gy=class extends et{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function Bo(e,{dir:t,size:n=32}={}){return typeof e=="string"?aA(e,{dir:t,size:n}):cA(e,{dir:t,size:n})}function aA(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new gy({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function cA(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new gy({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let o=0;o<n;o++){const i=t==="right";r[i?o:n-o-1]=e[i?o:e.length-o-1]}return r}function hi(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ho(e){return hi(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function _o(e,{size:t}){if(ho(e)>t)throw new iA({givenSize:ho(e),maxSize:t})}function uA(e,t={}){const{signed:n}=t;t.size&&_o(e,{size:t.size});const r=BigInt(e);if(!n)return r;const o=(e.length-2)/2,i=(1n<<BigInt(o)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function fA(e,t={}){return Number(uA(e,t))}const lA=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vh(e,t={}){return typeof e=="number"||typeof e=="bigint"?Se(e,t):typeof e=="string"?pA(e,t):typeof e=="boolean"?hA(e,t):ar(e,t)}function hA(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(_o(n,{size:t.size}),Bo(n,{size:t.size})):n}function ar(e,t={}){let n="";for(let o=0;o<e.length;o++)n+=lA[e[o]];const r=`0x${n}`;return typeof t.size=="number"?(_o(r,{size:t.size}),Bo(r,{dir:"right",size:t.size})):r}function Se(e,t={}){const{signed:n,size:r}=t,o=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<s){const l=typeof e=="bigint"?"n":"";throw new oA({max:i?`${i}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${e}${l}`})}const a=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?Bo(a,{size:r}):a}const dA=new TextEncoder;function pA(e,t={}){const n=dA.encode(e);return ar(n,t)}function yA(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:o,...i}=n,s=n.address;t.push([r?vh(r):"0x",s,o?vh(o):"0x",...di({},i)])}return t}const mA=new TextEncoder;function wy(e,t={}){return typeof e=="number"||typeof e=="bigint"?wA(e,t):typeof e=="boolean"?gA(e,t):hi(e)?Ir(e,t):by(e,t)}function gA(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(_o(n,{size:t.size}),Bo(n,{size:t.size})):n}const Rn={zero:48,nine:57,A:65,F:70,a:97,f:102};function xh(e){if(e>=Rn.zero&&e<=Rn.nine)return e-Rn.zero;if(e>=Rn.A&&e<=Rn.F)return e-(Rn.A-10);if(e>=Rn.a&&e<=Rn.f)return e-(Rn.a-10)}function Ir(e,t={}){let n=e;t.size&&(_o(n,{size:t.size}),n=Bo(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,i=new Uint8Array(o);for(let s=0,a=0;s<o;s++){const l=xh(r.charCodeAt(a++)),h=xh(r.charCodeAt(a++));if(l===void 0||h===void 0)throw new et(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[s]=l*16+h}return i}function wA(e,t){const n=Se(e,t);return Ir(n)}function by(e,t={}){const n=mA.encode(e);return typeof t.size=="number"?(_o(n,{size:t.size}),Bo(n,{dir:"right",size:t.size})):n}function vy(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ir(i)):e.blobs,o=[];for(const i of r)o.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?o:o.map(i=>ar(i))}function xy(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>Ir(s)):e.blobs,o=typeof e.commitments[0]=="string"?e.commitments.map(s=>Ir(s)):e.commitments,i=[];for(let s=0;s<r.length;s++){const a=r[s],l=o[s];i.push(Uint8Array.from(t.computeBlobKzgProof(a,l)))}return n==="bytes"?i:i.map(s=>ar(s))}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Eh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Wo(e,...t){if(!bA(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function os(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ey(e,t){Wo(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function vA(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Zo(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ja(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mn(e,t){return e<<32-t|e>>>t}const xA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function EA(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function SA(e){for(let t=0;t<e.length;t++)e[t]=EA(e[t]);return e}const Sh=xA?e=>e:SA;function AA(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function vf(e){return typeof e=="string"&&(e=AA(e)),Wo(e),e}let Sy=class{};function Ay(e){const t=r=>e().update(vf(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function BA(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),l=r?4:0,h=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+h,a,r)}function _A(e,t,n){return e&t^~e&n}function IA(e,t,n){return e&t^e&n^t&n}let $A=class extends Sy{constructor(t,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(t),this.view=Ja(this.buffer)}update(t){os(this),t=vf(t),Wo(t);const{view:n,buffer:r,blockLen:o}=this,i=t.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const l=Ja(t);for(;o<=i-s;s+=o)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){os(this),Ey(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,Zo(this.buffer.subarray(s)),this.padOffset>o-s&&(this.process(r,0),s=0);for(let m=s;m<o;m++)n[m]=0;BA(r,o-8,BigInt(this.length*8),i),this.process(r,0);const a=Ja(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=l/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<h;m++)a.setUint32(4*m,p[m],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=i,t.length=o,t.pos=a,o%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Wn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),TA=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zn=new Uint32Array(64);let PA=class extends $A{constructor(t=32){super(64,t,8,!1),this.A=Wn[0]|0,this.B=Wn[1]|0,this.C=Wn[2]|0,this.D=Wn[3]|0,this.E=Wn[4]|0,this.F=Wn[5]|0,this.G=Wn[6]|0,this.H=Wn[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:s,G:a,H:l}=this;return[t,n,r,o,i,s,a,l]}set(t,n,r,o,i,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let m=0;m<16;m++,n+=4)Zn[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const g=Zn[m-15],w=Zn[m-2],S=mn(g,7)^mn(g,18)^g>>>3,I=mn(w,17)^mn(w,19)^w>>>10;Zn[m]=I+Zn[m-7]+S+Zn[m-16]|0}let{A:r,B:o,C:i,D:s,E:a,F:l,G:h,H:p}=this;for(let m=0;m<64;m++){const g=mn(a,6)^mn(a,11)^mn(a,25),w=p+g+_A(a,l,h)+TA[m]+Zn[m]|0,S=(mn(r,2)^mn(r,13)^mn(r,22))+IA(r,o,i)|0;p=h,h=l,l=a,a=s+w|0,s=i,i=o,o=r,r=w+S|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(r,o,i,s,a,l,h,p)}roundClean(){Zo(Zn)}destroy(){this.set(0,0,0,0,0,0,0,0),Zo(this.buffer)}};const OA=Ay(()=>new PA),RA=OA;function CA(e,t){return RA(hi(e,{strict:!1})?wy(e):e)}function MA(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),o=CA(t);return o.set([n],0),r==="bytes"?o:ar(o)}function kA(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),o=[];for(const i of t)o.push(MA({commitment:i,to:r,version:n}));return o}const UA=32,FA=4096,NA=131072,Ah=761855,By=1;let jA=class extends et{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}},_y=class extends et{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}},LA=class extends et{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}},zA=class extends et{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${By}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}},Bh=class extends et{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},DA=class extends et{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},HA=class extends et{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const qA={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new HA({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new DA({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Bh({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Bh({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Iy(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(qA);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function GA(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ir(e.data):e.data,r=ho(n);if(!r)throw new _y;if(r>Ah)throw new jA({maxSize:Ah,size:r});const o=[];let i=!0,s=0;for(;i;){const a=Iy(new Uint8Array(NA));let l=0;for(;l<FA;){const h=n.slice(s,s+(UA-1));if(a.pushByte(0),a.pushBytes(h),h.length<31){a.pushByte(128),i=!1;break}l++,s+=31}o.push(a)}return t==="bytes"?o.map(a=>a.bytes):o.map(a=>ar(a.bytes))}function VA(e){const{data:t,kzg:n,to:r}=e,o=e.blobs??GA({data:t,to:r}),i=e.commitments??vy({blobs:o,kzg:n,to:r}),s=e.proofs??xy({blobs:o,commitments:i,kzg:n,to:r}),a=[];for(let l=0;l<o.length;l++)a.push({blob:o[l],commitment:i[l],proof:s[l]});return a}function Ms(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function _h(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let o=0;o<n.length-1&&n[t==="left"?o:n.length-o-1].toString()==="0";o++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function po(e,t="hex"){const n=$y(e),r=Iy(new Uint8Array(n.length));return n.encode(r),t==="hex"?ar(r.bytes):r.bytes}function $y(e){return Array.isArray(e)?KA(e.map(t=>$y(t))):WA(e)}function KA(e){const t=e.reduce((r,o)=>r+o.length,0),n=Ty(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),n===1?r.pushUint8(t):n===2?r.pushUint16(t):n===3?r.pushUint24(t):r.pushUint32(t));for(const{encode:o}of e)o(r)}}}function WA(e){const t=typeof e=="string"?Ir(e):e,n=Ty(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(r){t.length===1&&t[0]<128?r.pushBytes(t):t.length<=55?(r.pushByte(128+t.length),r.pushBytes(t)):(r.pushByte(183+n),n===1?r.pushUint8(t.length):n===2?r.pushUint16(t.length):n===3?r.pushUint24(t.length):r.pushUint32(t.length),r.pushBytes(t))}}}function Ty(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new et("Length is too large.")}const xf=2n**256n-1n;let $r=class extends et{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},ks=class extends et{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}};const ZA={ether:-9,wei:9};function JA(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[o,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${o||"0"}${i?`.${i}`:""}`}function Hc(e,t="wei"){return JA(e,ZA[t])}let Us=class extends et{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Hc(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}};Object.defineProperty(Us,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});let Py=class extends et{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Hc(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Hc(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}};Object.defineProperty(Py,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});let Oy=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Ci=BigInt(4294967295),Ih=BigInt(32);function XA(e,t=!1){return t?{h:Number(e&Ci),l:Number(e>>Ih&Ci)}:{h:Number(e>>Ih&Ci)|0,l:Number(e&Ci)|0}}function YA(e,t=!1){const n=e.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let i=0;i<n;i++){const{h:s,l:a}=XA(e[i],t);[r[i],o[i]]=[s,a]}return[r,o]}const QA=(e,t,n)=>e<<n|t>>>32-n,e6=(e,t,n)=>t<<n|e>>>32-n,t6=(e,t,n)=>t<<n-32|e>>>64-n,n6=(e,t,n)=>e<<n-32|t>>>64-n,r6=BigInt(0),Uo=BigInt(1),o6=BigInt(2),i6=BigInt(7),s6=BigInt(256),a6=BigInt(113),Ry=[],Cy=[],My=[];for(let e=0,t=Uo,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Ry.push(2*(5*r+n)),Cy.push((e+1)*(e+2)/2%64);let o=r6;for(let i=0;i<7;i++)t=(t<<Uo^(t>>i6)*a6)%s6,t&o6&&(o^=Uo<<(Uo<<BigInt(i))-Uo);My.push(o)}const ky=YA(My,!0),c6=ky[0],u6=ky[1],$h=(e,t,n)=>n>32?t6(e,t,n):QA(e,t,n),Th=(e,t,n)=>n>32?n6(e,t,n):e6(e,t,n);function f6(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,h=n[l],p=n[l+1],m=$h(h,p,1)^n[a],g=Th(h,p,1)^n[a+1];for(let w=0;w<50;w+=10)e[s+w]^=m,e[s+w+1]^=g}let o=e[2],i=e[3];for(let s=0;s<24;s++){const a=Cy[s],l=$h(o,i,a),h=Th(o,i,a),p=Ry[s];o=e[p],i=e[p+1],e[p]=l,e[p+1]=h}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=c6[r],e[1]^=u6[r]}Zo(n)}let l6=class Uy extends Sy{constructor(t,n,r,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,Eh(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=vA(this.state)}clone(){return this._cloneInto()}keccak(){Sh(this.state32),f6(this.state32,this.rounds),Sh(this.state32),this.posOut=0,this.pos=0}update(t){os(this),t=vf(t),Wo(t);const{blockLen:n,state:r}=this,o=t.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);for(let a=0;a<s;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:o}=this;t[r]^=n,n&128&&r===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){os(this,!1),Wo(t),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=t.length;o<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-o);t.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Eh(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ey(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Zo(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return t||(t=new Uy(n,r,o,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=o,t.enableXOF=s,t.destroyed=this.destroyed,t}};const h6=(e,t,n)=>Ay(()=>new l6(t,e,n)),d6=h6(1,136,256/8);function p6(e,t){return d6(hi(e,{strict:!1})?wy(e):e)}const Xa=new Oy(8192);function y6(e,t){if(Xa.has(`${e}.${t}`))return Xa.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=p6(by(n)),o=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&o[s]&&(o[s]=o[s].toUpperCase()),(r[s>>1]&15)>=8&&o[s+1]&&(o[s+1]=o[s+1].toUpperCase());const i=`0x${o.join("")}`;return Xa.set(`${e}.${t}`,i),i}const m6=/^0x[a-fA-F0-9]{40}$/,Ya=new Oy(8192);function Tr(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Ya.has(r))return Ya.get(r);const o=m6.test(e)?e.toLowerCase()===e?!0:n?y6(e)===e:!0:!1;return Ya.set(r,o),o}function g6(e,t,n,{strict:r}={}){return hi(e,{strict:!1})?b6(e,t,n,{strict:r}):w6(e,t,n,{strict:r})}function Fy(e,t,n){if(ho(e)!==n-t)throw new sA({offset:n,position:"end",size:ho(e)})}function w6(e,t,n,{strict:r}={}){const o=e.slice(t,n);return r&&Fy(o,t,n),o}function b6(e,t,n,{strict:r}={}){const o=`0x${e.replace("0x","").slice(t*2,n*2)}`;return r&&Fy(o,t,n),o}function v6(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,o=n.address;if(!Tr(o))throw new $r({address:o});if(r<0)throw new ks({chainId:r})}Ef(e)}function x6(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new _y;for(const n of t){const r=ho(n),o=fA(g6(n,0,1));if(r!==32)throw new LA({hash:n,size:r});if(o!==By)throw new zA({hash:n,version:o})}}Ef(e)}function Ef(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:o}=e;if(t<=0)throw new ks({chainId:t});if(o&&!Tr(o))throw new $r({address:o});if(r&&r>xf)throw new Us({maxFeePerGas:r});if(n&&r&&n>r)throw new Py({maxFeePerGas:r,maxPriorityFeePerGas:n})}function E6(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:o,to:i}=e;if(t<=0)throw new ks({chainId:t});if(i&&!Tr(i))throw new $r({address:i});if(n||o)throw new et("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>xf)throw new Us({maxFeePerGas:r})}function S6(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:o,to:i}=e;if(i&&!Tr(i))throw new $r({address:i});if(typeof t<"u"&&t<=0)throw new ks({chainId:t});if(n||o)throw new et("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>xf)throw new Us({maxFeePerGas:r})}function A6(e){const t=Object.entries(e).map(([r,o])=>o===void 0||o===!1?null:[r,o]).filter(Boolean),n=t.reduce((r,[o])=>Math.max(r,o.length),0);return t.map(([r,o])=>`  ${`${r}:`.padEnd(n+1)}  ${o}`).join(`
`)}let B6=class extends et{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",A6(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},_6=class extends et{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}};function I6(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new B6({transaction:e})}function Fs(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:o}=e[n];for(let i=0;i<o.length;i++)if(o[i].length-2!==64)throw new _6({storageKey:o[i]});if(!Tr(r,{strict:!1}))throw new $r({address:r});t.push([r,o])}return t}function Ny(e,t){const n=I6(e);return n==="eip1559"?P6(e,t):n==="eip2930"?O6(e,t):n==="eip4844"?T6(e,t):n==="eip7702"?$6(e,t):R6(e)}function $6(e,t){const{authorizationList:n,chainId:r,gas:o,nonce:i,to:s,value:a,maxFeePerGas:l,maxPriorityFeePerGas:h,accessList:p,data:m}=e;v6(e);const g=Fs(p),w=yA(n);return Ms(["0x04",po([Se(r),i?Se(i):"0x",h?Se(h):"0x",l?Se(l):"0x",o?Se(o):"0x",s??"0x",a?Se(a):"0x",m??"0x",g,w,...di(e,t)])])}function T6(e,t){const{chainId:n,gas:r,nonce:o,to:i,value:s,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:h,accessList:p,data:m}=e;x6(e);let g=e.blobVersionedHashes,w=e.sidecars;if(e.blobs&&(typeof g>"u"||typeof w>"u")){const k=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(Z=>ar(Z)),j=e.kzg,N=vy({blobs:k,kzg:j});if(typeof g>"u"&&(g=kA({commitments:N})),typeof w>"u"){const Z=xy({blobs:k,commitments:N,kzg:j});w=VA({blobs:k,commitments:N,proofs:Z})}}const S=Fs(p),I=[Se(n),o?Se(o):"0x",h?Se(h):"0x",l?Se(l):"0x",r?Se(r):"0x",i??"0x",s?Se(s):"0x",m??"0x",S,a?Se(a):"0x",g??[],...di(e,t)],P=[],R=[],U=[];if(w)for(let k=0;k<w.length;k++){const{blob:j,commitment:N,proof:Z}=w[k];P.push(j),R.push(N),U.push(Z)}return Ms(["0x03",po(w?[I,P,R,U]:I)])}function P6(e,t){const{chainId:n,gas:r,nonce:o,to:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:h,data:p}=e;Ef(e);const m=Fs(h),g=[Se(n),o?Se(o):"0x",l?Se(l):"0x",a?Se(a):"0x",r?Se(r):"0x",i??"0x",s?Se(s):"0x",p??"0x",m,...di(e,t)];return Ms(["0x02",po(g)])}function O6(e,t){const{chainId:n,gas:r,data:o,nonce:i,to:s,value:a,accessList:l,gasPrice:h}=e;E6(e);const p=Fs(l),m=[Se(n),i?Se(i):"0x",h?Se(h):"0x",r?Se(r):"0x",s??"0x",a?Se(a):"0x",o??"0x",p,...di(e,t)];return Ms(["0x01",po(m)])}function R6(e,t){const{chainId:n=0,gas:r,data:o,nonce:i,to:s,value:a,gasPrice:l}=e;S6(e);let h=[i?Se(i):"0x",l?Se(l):"0x",r?Se(r):"0x",s??"0x",a?Se(a):"0x",o??"0x"];return n>0&&(h=[...h,Se(n),"0x","0x"]),po(h)}function di(e,t){const n=t??e,{v:r,yParity:o}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof o>"u")return[];const i=_h(n.r),s=_h(n.s);return[typeof o=="number"?o?Se(1):"0x":r===0n?"0x":r===1n?Se(1):r===27n?"0x":Se(1),i==="0x00"?"0x":i,s==="0x00"?"0x":s]}const C6=async e=>{if(!e.projectId)throw new Error("Project ID is required");e.disableAnalytics===void 0||e.disableAnalytics===!1?(ge.identifier=e.projectId,ge.isUsingMocks=e.useMock===!0,ge.isProduction=!e.basePath||e.basePath==="https://api.cdp.coinbase.com/platform"):ge.enabled=!1;let t;try{t=fe().projectId!==e.projectId}catch{t=!0}if(J3(e),fe().useMock){wh(new nA(fe().projectId)),bh(new rA);return}let n;try{const r=Er();n=r.secureStorage?{getRefreshToken:()=>r.secureStorage.getItem("cdp_refresh_token"),setRefreshToken:o=>r.secureStorage.setItem("cdp_refresh_token",o),removeRefreshToken:()=>r.secureStorage.removeItem("cdp_refresh_token")}:{getRefreshToken:()=>r.storage.getItem("cdp_refresh_token"),setRefreshToken:o=>r.storage.setItem("cdp_refresh_token",o),removeRefreshToken:()=>r.storage.removeItem("cdp_refresh_token")}}catch{n=void 0}if(yw({debugging:fe().debugging,basePath:fe().basePath,refreshTokenStorage:n}),t){const r=new Q3;bh(r);const o=Y3(fe().projectId);wh(o),mw(o)}await we().ensureInitialized()},M6=async e=>(ge.sendActionCallEvent({name:"sign_in_with_email"}),If({email:e.email,type:"email"})),k6=async e=>(ge.sendActionCallEvent({name:"sign_in_with_sms"}),If({phoneNumber:e.phoneNumber,type:"sms"})),U6=async e=>{ge.sendActionCallEvent({name:"sign_in_with_oauth"});const t=Er().oauth.getRedirectUrl();if(fe().useMock){const r=new URL(t);r.searchParams.set("code","mock-oauth-code"),r.searchParams.set("provider_type",e),r.searchParams.set("flow_id","mock-flow-id"),Er().oauth.initiateOAuthFlow(r.toString());return}const{authUrl:n}=await If({redirectUrl:t,type:e});Er().oauth.initiateOAuthFlow(n)},F6=async e=>(ge.sendActionCallEvent({name:"verify_email_otp"}),$f(e,"Mock email OTP verified",(t,n)=>Aw(t,n))),N6=async e=>(ge.sendActionCallEvent({name:"verify_sms_otp"}),$f(e,"Mock SMS OTP verified",(t,n)=>Bw(t,n))),Sf=async e=>(ge.sendActionCallEvent({name:"verify_oauth"}),$f(e,"Mock OAuth code verified",(t,n)=>_w(t,n.providerType,n))),j6=async()=>{var i,s,a;ge.sendActionCallEvent({name:"authenticate_with_jwt"});const e=fe();if(!((i=e.customAuth)!=null&&i.getJwt))throw new No("customAuth.getJwt callback not configured. Please provide customAuth with getJwt in initialize() config.");let t;try{t=await e.customAuth.getJwt()}catch(l){throw new No(l instanceof Error?l.message:"Failed to get custom auth JWT")}if(!t)throw new No("customAuth.getJwt returned null or undefined");if(e.useMock)return await we().setAuthState({accessToken:t,expiresAt:Date.now()+1e3*60*60*24,user:Ko}),{message:"Mock JWT authentication successful",user:Ko,isNewUser:!1};const n=await Tw(fe().projectId),r=new Date(Date.now()+py).toISOString();let o=lo(t,r,n.endUser);return await we().setAuthState(o),(s=e.ethereum)!=null&&s.createOnLogin&&(o=await Gy(o,t,r,e.ethereum.createOnLogin)),(a=e.solana)!=null&&a.createOnLogin&&(o=await Vy(o,t,r)),{message:"Authentication successful",user:we().getUser(),isNewUser:n.isNewEndUser}},pi=async()=>(ge.sendActionCallEvent({name:"get_current_user"}),we().getUser()),L6=async()=>(ge.sendActionCallEvent({name:"is_signed_in"}),we().isSignedIn()),jy=async()=>{if(ge.sendActionCallEvent({name:"sign_out"}),fe().useMock){await we().signOut();return}if(!await we().isSignedIn())throw new Error("User not signed in");await we().signOut()},z6=async()=>(ge.sendActionCallEvent({name:"get_access_token"}),we().getToken()),D6=async()=>(ge.sendActionCallEvent({name:"get_access_token_expiration"}),we().getTokenExpiration()),Ly=e=>{we().addAuthStateChangeCallback(e)},H6=e=>{dy().addOAuthStateChangeCallback(e)},Af=async e=>(ge.sendActionCallEvent({name:"sign_evm_hash"}),fe().useMock?{signature:"0x0"}:Nt(e,we(),async({user:t,walletSecretId:n})=>({signature:(await Ow(fe().projectId,t.userId,{hash:e.hash,address:e.evmAccount,walletSecretId:n})).signature}))),Bf=async e=>(ge.sendActionCallEvent({name:"sign_evm_transaction"}),fe().useMock?{signedTransaction:"0x0"}:Nt(e,we(),async({user:t,walletSecretId:n})=>{const r=Ny(e.transaction);return{signedTransaction:(await Rw(fe().projectId,t.userId,{transaction:r,address:e.evmAccount,walletSecretId:n})).signedTransaction}})),zy=async e=>(ge.sendActionCallEvent({name:"sign_solana_transaction"}),fe().useMock?{signedTransaction:"mock-signed-transaction"}:Nt(e,we(),async({user:t,walletSecretId:n})=>({signedTransaction:(await qw(fe().projectId,t.userId,{transaction:e.transaction,address:e.solanaAccount,walletSecretId:n})).signedTransaction}))),Dy=async e=>{if(ge.sendActionCallEvent({name:"send_evm_transaction"}),!K3(e.network))throw new Error(`Chain ${e.network} is not supported by the CDP Apis`);if(fe().useMock)return{transactionHash:"0x0"};const t=Ny(e.transaction);return Nt(e,we(),async({user:n,walletSecretId:r})=>({transactionHash:(await Cw(fe().projectId,n.userId,{transaction:t,address:e.evmAccount,walletSecretId:r,network:e.network})).transactionHash}))},q6=async e=>(ge.sendActionCallEvent({name:"send_solana_transaction"}),fe().useMock?{transactionSignature:"mock-signature"}:Nt(e,we(),async({user:t,walletSecretId:n})=>({transactionSignature:(await Gw(fe().projectId,t.userId,{transaction:e.transaction,address:e.solanaAccount,walletSecretId:n,network:e.network})).transactionSignature}))),_f=async e=>(ge.sendActionCallEvent({name:"sign_evm_message"}),fe().useMock?{signature:"0x0"}:Nt(e,we(),async({user:t,walletSecretId:n})=>({signature:(await Mw(fe().projectId,t.userId,{message:e.message,address:e.evmAccount,walletSecretId:n})).signature}))),G6=async e=>(ge.sendActionCallEvent({name:"sign_solana_message"}),fe().useMock?{signature:"mockSignature"}:Nt(e,we(),async({user:t,walletSecretId:n})=>({signature:(await Hw(fe().projectId,t.userId,{message:e.message,address:e.solanaAccount,walletSecretId:n})).signature}))),Ns=async e=>(ge.sendActionCallEvent({name:"sign_evm_typed_data"}),fe().useMock?{signature:"0x0"}:Nt(e,we(),async({user:t,walletSecretId:n})=>({signature:(await kw(fe().projectId,t.userId,{typedData:e.typedData,address:e.evmAccount,walletSecretId:n})).signature}))),Hy=async e=>(ge.sendActionCallEvent({name:"send_user_operation"}),fe().useMock?{userOperationHash:"0x1234567890123456789012345678901234567890123456789012345678901234"}:Nt(e,we(),async({user:t,walletSecretId:n})=>({userOperationHash:(await Nw(fe().projectId,t.userId,e.evmSmartAccount,{network:e.network,calls:e.calls.map(r=>({to:r.to,value:String(r.value??0n),data:r.data??"0x"})),walletSecretId:n,useCdpPaymaster:e.useCdpPaymaster??!1,paymasterUrl:e.paymasterUrl})).userOpHash}))),qy=async e=>(ge.sendActionCallEvent({name:"get_user_operation"}),fe().useMock?{userOpHash:e.userOperationHash,network:e.network,calls:[{to:"0x1234567890123456789012345678901234567890",value:"0",data:"0x"}],status:"complete",transactionHash:"0x9876543210987654321098765432109876543210987654321098765432109876",receipts:[]}:Nt(e,we(),async({user:t})=>await Fw(fe().projectId,t.userId,e.evmSmartAccount,e.userOperationHash))),V6=async e=>{if(ge.sendActionCallEvent({name:"export_evm_account"}),fe().useMock)return{privateKey:Vr.Buffer.from("mock-private-key").toString("hex")};const t=qo(),n=await t.createExportKeyPair();return Nt(e,we(),async({user:r,walletSecretId:o})=>{const i=await Uw(fe().projectId,r.userId,{address:e.evmAccount,walletSecretId:o,exportEncryptionKey:n.publicKeyBase64}),s=await t.decryptWithPrivateKey(n.privateKey,i.encryptedPrivateKey);return{privateKey:Vr.Buffer.from(s).toString("hex")}})},K6=async e=>{if(ge.sendActionCallEvent({name:"export_solana_account"}),fe().useMock){const r=Vr.Buffer.from("mock-private-key").subarray(0,32),o=Vr.Buffer.alloc(32);r.copy(o);const i=eo.fromSeed(o),s=Vr.Buffer.concat([i.secretKey.subarray(0,32),i.publicKey.toBytes()]);return{privateKey:mh.encode(s)}}const t=qo(),n=await t.createExportKeyPair();return Nt(e,we(),async({user:r,walletSecretId:o})=>{const i=await Dw(fe().projectId,r.userId,{address:e.solanaAccount,walletSecretId:o,exportEncryptionKey:n.publicKeyBase64}),s=await t.decryptWithPrivateKey(n.privateKey,i.encryptedPrivateKey),a=eo.fromSeed(new Uint8Array(s)),l=Vr.Buffer.concat([a.secretKey.subarray(0,32),a.publicKey.toBytes()]);return{privateKey:mh.encode(l)}})},If=async e=>{if(fe().useMock)return"redirectUrl"in e?{authUrl:"mock-auth-url",flowId:"mock-flow-id"}:{message:"Mock sign in initiated",flowId:"mock-flow-id"};if(await we().isSignedIn())throw new Error("User is already authenticated. Please sign out first.");const t=await wo(fe().projectId,e);return"authUrl"in t?{flowId:t.flowId,authUrl:t.authUrl}:{flowId:t.flowId,message:"message"in t?t.message:""}},$f=async(e,t,n)=>{var a,l;if(fe().useMock)return await we().setAuthState({accessToken:"mock-access-token",expiresAt:Date.now()+1e3*60*60*24,user:Ko}),{message:t,user:Ko,isNewUser:!1};const r=await n(fe().projectId,e);let o=lo(r.accessToken,r.validUntil,r.endUser);await we().setAuthState(o);const i=fe();(a=i.ethereum)!=null&&a.createOnLogin&&(o=await Gy(o,r.accessToken,r.validUntil,i.ethereum.createOnLogin)),(l=i.solana)!=null&&l.createOnLogin&&(o=await Vy(o,r.accessToken,r.validUntil));const s=we().getUser();return{message:r.message,user:s,isNewUser:r.isNewEndUser}},Gy=async(e,t,n,r)=>{let o=e;if(!e.user.evmAccounts||e.user.evmAccounts.length===0)try{const i=await we().getWalletSecretId();let s=await hd(fe().projectId,e.user.userId,{walletSecretId:i}),a=!1;const l=fe().ethereum;if((l==null?void 0:l.createOnLogin)==="smart"&&(a=l.enableSpendPermissions??!1),r==="smart"){const[h]=s.evmAccounts;s=await fc(fe().projectId,e.user.userId,{owner:h,enableSpendPermissions:a})}o=lo(t,n,s),await we().setAuthState(o)}catch(i){throw new Error(`Failed to create EVM account: ${i}`)}if(r==="smart"&&(!o.user.evmSmartAccounts||o.user.evmSmartAccounts.length===0))try{const[i]=o.user.evmAccounts,s=await fc(fe().projectId,o.user.userId,{owner:i,enableSpendPermissions:!1});o=lo(t,n,s),await we().setAuthState(o)}catch(i){throw new Error(`Failed to create EVM Smart Account: ${i}`)}return o},Vy=async(e,t,n)=>{let r=e;if(!e.user.solanaAccounts||e.user.solanaAccounts.length===0)try{const o=await we().getWalletSecretId(),i=await dd(fe().projectId,e.user.userId,{walletSecretId:o});r=lo(t,n,i),await we().setAuthState(r)}catch(o){throw new Error(`Failed to create Solana account: ${o}`)}return r};let W6=class extends Error{constructor(n,r,o){const i=`${r} is not available in this React Native environment. Please ensure ${n} is installed.`;super(o||i);Be(this,"moduleName");Be(this,"requiredFor");this.name="ModuleResolutionError",this.moduleName=n,this.requiredFor=r}},is=class extends Error{constructor(t){super(t),this.name="InputValidationError"}},Fo=class extends Error{constructor(t){super(t),this.name="ValidationError"}},yi=class extends Error{constructor(t){super(t),this.name="InternalError"}};function Z6(e,t){if(e.period!==void 0&&e.periodInDays!==void 0)throw new is("Cannot specify both 'period' and 'periodInDays'. Please provide only one.");if(e.period===void 0&&e.periodInDays===void 0)throw new is("Must specify either 'period' (in seconds) or 'periodInDays'.");const n=e.period??e.periodInDays*24*60*60,r=new Date,o=e.start??r,i=e.end,s=Math.floor(o.getTime()/1e3),a=i?Math.floor(i.getTime()/1e3):0xffffffffffff;return{account:e.account,spender:e.spender,allowance:e.allowance,token:J6(e.token,t),period:n,start:s,end:a,salt:e.salt??qo().generateRandomSalt(),extraData:e.extraData??"0x"}}function J6(e,t){var n;if(e==="eth")return"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE";if(e==="usdc"){const r=(n=X6[t])==null?void 0:n.usdc;if(!r)throw new is(`Automatic token address lookup for ${e} is not supported on ${t}. Please provide the token address manually.`);return r}return e}const X6={base:{usdc:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913"},"base-sepolia":{usdc:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"}},Y6=async e=>(ge.sendActionCallEvent({name:"create_spend_permission"}),fe().useMock?{userOperationHash:"0x1234567890123456789012345678901234567890123456789012345678901234"}:Nt(e,we(),async({user:t,walletSecretId:n})=>{const r=Z6({...e,account:e.evmSmartAccount},e.network);return{userOperationHash:(await jw(fe().projectId,t.userId,e.evmSmartAccount,{spender:r.spender,token:r.token,allowance:r.allowance.toString(),period:r.period.toString(),start:r.start.toString(),end:r.end.toString(),salt:r.salt.toString(),walletSecretId:n,network:e.network,useCdpPaymaster:e.useCdpPaymaster??!1,paymasterUrl:e.paymasterUrl})).userOpHash}})),Q6=async e=>(ge.sendActionCallEvent({name:"list_spend_permissions"}),fe().useMock?{spendPermissions:[{permission:{account:e.evmSmartAccount,spender:"0x5678901234567890123456789012345678901234",token:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",allowance:"1000000000000000000",period:"86400",start:"1640995200",end:"1672531200",salt:"123456789",extraData:"0x"},permissionHash:"0x1234567890123456789012345678901234567890123456789012345678901234",revoked:!1,createdAt:"2024-01-01T00:00:00Z",network:e.network}],hasNextPage:!1}:Nt(e,we(),async({user:t})=>{const n={};e.pageSize!==void 0&&(n.pageSize=e.pageSize),e.pageToken!==void 0&&(n.pageToken=e.pageToken);const r=await Lw(fe().projectId,t.userId,e.evmSmartAccount,n);return{spendPermissions:r.spendPermissions,hasNextPage:!!r.nextPageToken,nextPageToken:r.nextPageToken}})),e8=async e=>(ge.sendActionCallEvent({name:"revoke_spend_permission"}),fe().useMock?{userOperationHash:"0x1234567890123456789012345678901234567890123456789012345678901234"}:Nt(e,we(),async({user:t,walletSecretId:n})=>({userOperationHash:(await zw(fe().projectId,t.userId,e.evmSmartAccount,{permissionHash:e.permissionHash,walletSecretId:n,network:e.network,useCdpPaymaster:e.useCdpPaymaster??!1,paymasterUrl:e.paymasterUrl})).userOpHash}))),js=()=>(ge.sendActionCallEvent({name:"get_current_user_sync"}),we().getUser());function t8(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Ht(yE,{alphabet:e,base:e.length,value:n})}var n8=e=>sr({getSizeFromValue:t=>{const[n,r]=Ph(t,e[0]);if(!r)return t.length;const o=Oh(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(t8(e,t),t==="")return r;const[o,i]=Ph(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let s=Oh(i,e);const a=[];for(;s>0n;)a.unshift(Number(s%256n)),s/=256n;const l=[...Array(o.length).fill(0),...a];return n.set(l,r),r+l.length}}),r8=e=>tn({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let o=r.findIndex(l=>l!==0);o=o===-1?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const s=r.slice(o).reduce((l,h)=>l*256n+BigInt(h),0n),a=o8(s,e);return[i+a,t.length]}});function Ph(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Oh(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}function o8(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var Ky="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",i8=()=>n8(Ky),s8=()=>r8(Ky),Qa,ec;function a8(){return Qa||(Qa=i8()),Qa}function c8(){return ec||(ec=s8()),ec}function u8(e){if(e.length<32||e.length>44)throw new Ht(iE,{actualLength:e.length});const r=a8().encode(e).byteLength;if(r!==32)throw new Ht(oE,{actualLength:r})}function f8(e){return u8(e),e}function l8(){return O0(c8(),32)}function h8(e,t,n){if(t!==n)throw new Ht(dE,{actual:n,codecDescription:e,expected:t})}function yo(e){return e.reduce((t,n)=>t===null||n===null?null:t+n,0)}function mi(e){return rn(e)?e.fixedSize:null}function gi(e){return rn(e)?e.fixedSize:e.maxSize??null}function d8(e,t={}){const n=t.size??kE(),r=ss(n,mi(e)),o=ss(n,gi(e))??void 0;return sr({...r!==null?{fixedSize:r}:{getSizeFromValue:i=>(typeof n=="object"?Yi(i.length,n):0)+[...i].reduce((a,l)=>a+Yi(l,e),0),maxSize:o},write:(i,s,a)=>(typeof n=="number"&&h8("array",n,i.length),typeof n=="object"&&(a=n.write(i.length,s,a)),i.forEach(l=>{a=e.write(l,s,a)}),a)})}function Wy(e,t={}){const n=t.size??UE(),r=mi(e),o=ss(n,r),i=ss(n,gi(e))??void 0;return tn({...o!==null?{fixedSize:o}:{maxSize:i},read:(s,a)=>{const l=[];if(typeof n=="object"&&s.slice(a).length===0)return[l,a];if(n==="remainder"){for(;a<s.length;){const[m,g]=e.read(s,a);a=g,l.push(m)}return[l,a]}const[h,p]=typeof n=="number"?[n,a]:n.read(s,a);a=p;for(let m=0;m<h;m+=1){const[g,w]=e.read(s,a);a=w,l.push(g)}return[l,a]}})}function ss(e,t){return typeof e!="number"?null:e===0?0:t===null?null:t*e}function Zy(){return sr({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function Rh(){return tn({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}function p8(e){const t=yo(e.map(mi)),n=yo(e.map(gi))??void 0;return tn({...t===null?{maxSize:n}:{fixedSize:t},read:(r,o)=>{const i=[];return e.forEach(s=>{const[a,l]=s.read(r,o);i.push(a),o=l}),[i,o]}})}function y8(e){const t=e.map(([,o])=>o),n=yo(t.map(mi)),r=yo(t.map(gi))??void 0;return sr({...n===null?{getSizeFromValue:o=>e.map(([i,s])=>Yi(o[i],s)).reduce((i,s)=>i+s,0),maxSize:r}:{fixedSize:n},write:(o,i,s)=>(e.forEach(([a,l])=>{s=l.write(o[a],i,s)}),s)})}function m8(e){const t=e.map(([,o])=>o),n=yo(t.map(mi)),r=yo(t.map(gi))??void 0;return tn({...n===null?{maxSize:r}:{fixedSize:n},read:(o,i)=>{const s={};return e.forEach(([a,l])=>{const[h,p]=l.read(o,i);i=p,s[a]=h}),[s,i]}})}var Ch=128;function g8(){return tn({maxSize:1,read:(e,t)=>{const n=e[t];return n&Ch?[n^Ch,t+1]:["legacy",t]}})}function w8(e){const t=Object.values(e);if(t.length===0)throw new Ht(sE);return t.map(n=>n||new Uint8Array(64).fill(0))}function b8(){return OE(d8(_E(Zy(),64),{size:ME()}),w8)}function v8(){return y8([["signatures",b8()],["messageBytes",Zy()]])}function x8(){return RE(m8([["signatures",Wy(O0(Rh(),64),{size:k0()})],["messageBytes",Rh()]]),E8)}function E8(e){const{messageBytes:t,signatures:n}=e,r=p8([g8(),PE(LE(),2),Wy(l8(),{size:k0()})]),[o,i,s]=r.decode(t),a=s.slice(0,i);if(a.length!==n.length)throw new Ht(aE,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:a});const l={};return a.forEach((h,p)=>{const m=n[p];m.every(g=>g===0)?l[h]=null:l[h]=m}),{messageBytes:t,signatures:Object.freeze(l)}}function Mh(e){var o;const t=js();if(!t||!((o=t.solanaAccounts)!=null&&o.length))throw new Error("No accounts found. User must be authenticated and have at least one Solana account");const n=v8(),r=x8();return{address:f8(e),signTransactions:async i=>{const s=[];for(const a of i){const l=new Uint8Array(n.encode(a)),{signedTransaction:h}=await zy({solanaAccount:e,transaction:$c(l)}),p=r.decode(Rp(h)).signatures[e];if(!p)throw new Error("Wallet did not return a signature for the selected account.");s.push(Object.freeze({[e]:p}))}return s}}}const S8="0xba5ed110efdba3d005bfc882d75358acbbb85842",A8=[{inputs:[{name:"implementation_",type:"address"}],stateMutability:"payable",type:"constructor"},{inputs:[],name:"OwnerRequired",type:"error"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"createAccount",outputs:[{name:"account",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"getAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initCodeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"}];async function Ls(e){const{smartAccount:t,hash:n,chainId:r,ownerAddress:o}=e,i=B8({hash:n,chainId:r,smartAccountAddress:t}),{signature:s}=await Ns({evmAccount:o,typedData:i});return{signature:_8({signatureHex:s})}}function B8({hash:e,chainId:t,smartAccountAddress:n}){return{domain:{name:"Coinbase Smart Wallet",version:"1",chainId:t,verifyingContract:n},types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],CoinbaseSmartWalletMessage:[{name:"hash",type:"bytes32"}]},primaryType:"CoinbaseSmartWalletMessage",message:{hash:e}}}function _8({signatureHex:e}){const t=Lo(e,0,32),n=Lo(e,32,64),r=+`0x${e.slice(130,132)}`,o=D2(["bytes32","bytes32","uint8"],[t,n,r]);return bo([I8],[{ownerIndex:0,signatureData:o}])}const I8={components:[{name:"ownerIndex",type:"uint8"},{name:"signatureData",type:"bytes"}],name:"SignatureWrapper",type:"tuple"};function $8(e){if(typeof e=="string"){if(!Tr(e,{strict:!1}))throw new $r({address:e});return{address:e,type:"json-rpc"}}if(!Tr(e.address,{strict:!1}))throw new $r({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}function Ni(e){var o,i,s,a;const t=js();if(!t||!((o=t.evmAccounts)!=null&&o.length)&&!((i=t.evmSmartAccounts)!=null&&i.length))throw new Error("No accounts found - user must be authenticated and have at least one EVM account or smart account");const n=((s=t.evmAccounts)==null?void 0:s.includes(e))??!1,r=((a=t.evmSmartAccounts)==null?void 0:a.includes(e))??!1;if(!n&&!r)throw new Error(`Cannot sign for address ${e} - not authorized for this account`);return $8({address:e,async signMessage({message:l}){let h;if(typeof l=="string")h=l;else if("raw"in l)typeof l.raw=="string"?h=l.raw:h=new TextDecoder().decode(l.raw);else throw new Error("Unsupported message format");return(await _f({evmAccount:e,message:h})).signature},async signTransaction(l){const h={to:l.to,value:l.value,data:l.data,nonce:l.nonce,gas:l.gas,chainId:l.chainId??1};return l.gasPrice!==void 0?(h.maxFeePerGas=l.gasPrice,h.maxPriorityFeePerGas=l.gasPrice):(h.maxFeePerGas=l.maxFeePerGas,h.maxPriorityFeePerGas=l.maxPriorityFeePerGas),(await Bf({evmAccount:e,transaction:h})).signedTransaction},async signTypedData(l){var h,p;if(r){const m=await Ls({smartAccount:e,ownerAddress:(h=t.evmAccounts)==null?void 0:h[0],hash:Ep(l),chainId:Number(l.domain.chainId)});return ev({address:S8,data:Ou({abi:A8,functionName:"createAccount",args:[[xn((p=t.evmAccounts)==null?void 0:p[0])],0n]}),signature:m.signature})}else{const m={domain:l.domain,types:{EIP712Domain:Hu({domain:l.domain}),...l.types},primaryType:l.primaryType,message:l.message};return(await Ns({evmAccount:e,typedData:m})).signature}},async sign(l){return(await Af({evmAccount:e,hash:l.hash})).signature}})}function T8(e={}){const t=e.fetch??globalThis.fetch;let n=null;return{fetchWithPayment:async(...r)=>{if(!n){const o=js();if(!o)throw new Error("User not authenticated");const i=(()=>{var s,a,l;if(e.address&&qt(e.address))return Ni(e.address);if(e.address&&!qt(e.address))return Mh(e.address);if((s=o.evmSmartAccounts)!=null&&s.length)return Ni(o.evmSmartAccounts[0]);if((a=o.evmAccounts)!=null&&a.length)return Ni(o.evmAccounts[0]);if((l=o.solanaAccounts)!=null&&l.length)return Mh(o.solanaAccounts[0]);throw new Error("No account found")})();try{const{wrapFetchWithPayment:s}=await Wd(async()=>{const{wrapFetchWithPayment:a}=await Promise.resolve().then(()=>M4);return{wrapFetchWithPayment:a}},void 0);n=s(t,i,e.maxValue,e.paymentRequirementsSelector,e.config)}catch{throw new Error("x402-fetch is not installed. Make sure x402-fetch is installed and try again.")}}return n(...r)}}}async function P8(){if(ge.sendActionCallEvent({name:"link_google"}),!await we().isSignedIn())throw new Error("User must be signed in to link a Google account");const e=await wo(fe().projectId,{type:"google",redirectUrl:En().getRedirectUrl()});if(!("authUrl"in e))throw new Error("Failed to initiate Google authentication");En().initiateOAuthFlow(e.authUrl)}async function O8(e){if(ge.sendActionCallEvent({name:"link_sms"}),!await we().isSignedIn())throw new Error("User must be signed in to link a phone number");const t=await wo(fe().projectId,{phoneNumber:e,type:"sms"});return{flowId:t.flowId,message:"message"in t?t.message:""}}async function R8(e){if(ge.sendActionCallEvent({name:"link_email"}),!await we().isSignedIn())throw new Error("User must be signed in to link an email");const t=await wo(fe().projectId,{email:e,type:"email"});return{flowId:t.flowId,message:"message"in t?t.message:""}}async function C8(e){if(ge.sendActionCallEvent({name:"link_oauth"}),!await we().isSignedIn())throw new Error("User must be signed in to link an OAuth account");const t=await wo(fe().projectId,{type:e,redirectUrl:En().getRedirectUrl()});if(!("authUrl"in t))throw new Error(`Failed to initiate ${e} authentication`);En().initiateOAuthFlow(t.authUrl)}async function M8(){if(ge.sendActionCallEvent({name:"link_apple"}),!await we().isSignedIn())throw new Error("User must be signed in to link an Apple account");const e=await wo(fe().projectId,{type:"apple",redirectUrl:En().getRedirectUrl()});if(!("authUrl"in e))throw new Error("Failed to initiate Apple authentication");En().initiateOAuthFlow(e.authUrl)}function Tf(e,t,n){if(!e)throw new Fo("User must be signed in");if(!t)throw new yi("No auth state found");switch(n){case"eoa":if(e.evmAccounts&&e.evmAccounts.length>0)throw new Fo("User already has an EVM EOA account");break;case"smart":if(e.evmSmartAccounts&&e.evmSmartAccounts.length>0)throw new Fo("User already has an EVM Smart Account");break;case"solana":if(e.solanaAccounts&&e.solanaAccounts.length>0)throw new Fo("User already has a Solana account");break}return{user:e,authState:t}}async function Jy(){var s;ge.sendActionCallEvent({name:"create_evm_eoa_account"});const e=we(),{user:t,authState:n}=Tf(e.getUser(),e.getAuthState(),"eoa"),r=await hd(fe().projectId,t.userId,{walletSecretId:await e.getWalletSecretId()}),o=Cs(r);await e.setAuthState({...n,user:o});const i=(s=o.evmAccounts)==null?void 0:s[0];if(!i)throw new yi("EVM EOA account was not created. Check the network log for more details.");return i}async function k8(e){var l;ge.sendActionCallEvent({name:"create_evm_smart_account"});const t=we(),{user:n,authState:r}=Tf(t.getUser(),t.getAuthState(),"smart"),o=await(async()=>{var h;return((h=n.evmAccounts)==null?void 0:h[0])??Jy()})(),i=await fc(fe().projectId,n.userId,{owner:o,enableSpendPermissions:(e==null?void 0:e.enableSpendPermissions)??!1}),s=Cs(i);await t.setAuthState({...r,user:s});const a=(l=s.evmSmartAccounts)==null?void 0:l[0];if(!a)throw new yi("EVM Smart Account was not created. Check the network log for more details.");return a}async function U8(){var s;ge.sendActionCallEvent({name:"create_solana_account"});const e=we(),{user:t,authState:n}=Tf(e.getUser(),e.getAuthState(),"solana"),r=await dd(fe().projectId,t.userId,{walletSecretId:await e.getWalletSecretId()}),o=Cs(r);await e.setAuthState({...n,user:o});const i=(s=o.solanaAccounts)==null?void 0:s[0];if(!i)throw new yi("Solana account was not created. Check the network log for more details.");return i}const F8=e=>{let t;const n=new Set,r=(h,p)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const g=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(w=>w(t,g))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>l,subscribe:h=>(n.add(h),()=>n.delete(h))},l=t=e(r,o,a);return a},N8=e=>F8,j8=e=>(t,n,r)=>{const o=r.subscribe;return r.subscribe=(i,s,a)=>{let l=i;if(s){const h=(a==null?void 0:a.equalityFn)||Object.is;let p=i(r.getState());l=m=>{const g=i(m);if(!h(p,g)){const w=p;s(p=g,w)}},a!=null&&a.fireImmediately&&s(p,p)}return o(l)},e(t,n,r)},L8=j8;function Xy(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var o;const i=a=>a===null?null:JSON.parse(a,void 0),s=(o=n.getItem(r))!=null?o:null;return s instanceof Promise?s.then(i):i(s)},setItem:(r,o)=>n.setItem(r,JSON.stringify(o,void 0)),removeItem:r=>n.removeItem(r)}}const qc=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return qc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return qc(r)(n)}}}},z8=(e,t)=>(n,r,o)=>{let i={storage:Xy(()=>localStorage),partialize:I=>I,version:0,merge:(I,P)=>({...P,...I}),...t},s=!1;const a=new Set,l=new Set;let h=i.storage;if(!h)return e((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...I)},r,o);const p=()=>{const I=i.partialize({...r()});return h.setItem(i.name,{state:I,version:i.version})},m=o.setState;o.setState=(I,P)=>{m(I,P),p()};const g=e((...I)=>{n(...I),p()},r,o);o.getInitialState=()=>g;let w;const S=()=>{var I,P;if(!h)return;s=!1,a.forEach(U=>{var k;return U((k=r())!=null?k:g)});const R=((P=i.onRehydrateStorage)==null?void 0:P.call(i,(I=r())!=null?I:g))||void 0;return qc(h.getItem.bind(h))(i.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==i.version){if(i.migrate){const k=i.migrate(U.state,U.version);return k instanceof Promise?k.then(j=>[!0,j]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var k;const[j,N]=U;if(w=i.merge(N,(k=r())!=null?k:g),n(w,!0),j)return p()}).then(()=>{R==null||R(w,void 0),w=r(),s=!0,l.forEach(U=>U(w))}).catch(U=>{R==null||R(void 0,U)})};return o.persist={setOptions:I=>{i={...i,...I},I.storage&&(h=I.storage)},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>S(),hasHydrated:()=>s,onHydrate:I=>(a.add(I),()=>{a.delete(I)}),onFinishHydration:I=>(l.add(I),()=>{l.delete(I)})},i.skipHydration||S(),w||g},D8=z8;let H8=class{constructor(){Be(this,"events",{})}on(t,n){this.events[t]||(this.events[t]=[]),this.events[t].push(n)}removeListener(t,n){if(!this.events[t])return;const r=this.events[t].indexOf(n);r>-1&&this.events[t].splice(r,1)}emit(t,...n){this.events[t]&&this.events[t].forEach(r=>{try{r(...n)}catch(o){console.error(`Error in event listener for ${t}:`,o)}})}removeAllListeners(t){t?delete this.events[t]:this.events={}}};const q8="0.0.67";ge.registerPackageVersion("core",q8);var tc={exports:{}},kh;function G8(){return kh||(kh=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,h,p){this.fn=l,this.context=h,this.once=p||!1}function i(l,h,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new o(p,m||l,g),S=n?n+h:h;return l._events[S]?l._events[S].fn?l._events[S]=[l._events[S],w]:l._events[S].push(w):(l._events[S]=w,l._eventsCount++),l}function s(l,h){--l._eventsCount===0?l._events=new r:delete l._events[h]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],h,p;if(this._eventsCount===0)return l;for(p in h=this._events)t.call(h,p)&&l.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(h)):l},a.prototype.listeners=function(l){var h=n?n+l:l,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,g=p.length,w=new Array(g);m<g;m++)w[m]=p[m].fn;return w},a.prototype.listenerCount=function(l){var h=n?n+l:l,p=this._events[h];return p?p.fn?1:p.length:0},a.prototype.emit=function(l,h,p,m,g,w){var S=n?n+l:l;if(!this._events[S])return!1;var I=this._events[S],P=arguments.length,R,U;if(I.fn){switch(I.once&&this.removeListener(l,I.fn,void 0,!0),P){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,h),!0;case 3:return I.fn.call(I.context,h,p),!0;case 4:return I.fn.call(I.context,h,p,m),!0;case 5:return I.fn.call(I.context,h,p,m,g),!0;case 6:return I.fn.call(I.context,h,p,m,g,w),!0}for(U=1,R=new Array(P-1);U<P;U++)R[U-1]=arguments[U];I.fn.apply(I.context,R)}else{var k=I.length,j;for(U=0;U<k;U++)switch(I[U].once&&this.removeListener(l,I[U].fn,void 0,!0),P){case 1:I[U].fn.call(I[U].context);break;case 2:I[U].fn.call(I[U].context,h);break;case 3:I[U].fn.call(I[U].context,h,p);break;case 4:I[U].fn.call(I[U].context,h,p,m);break;default:if(!R)for(j=1,R=new Array(P-1);j<P;j++)R[j-1]=arguments[j];I[U].fn.apply(I[U].context,R)}}return!0},a.prototype.on=function(l,h,p){return i(this,l,h,p,!1)},a.prototype.once=function(l,h,p){return i(this,l,h,p,!0)},a.prototype.removeListener=function(l,h,p,m){var g=n?n+l:l;if(!this._events[g])return this;if(!h)return s(this,g),this;var w=this._events[g];if(w.fn)w.fn===h&&(!m||w.once)&&(!p||w.context===p)&&s(this,g);else{for(var S=0,I=[],P=w.length;S<P;S++)(w[S].fn!==h||m&&!w[S].once||p&&w[S].context!==p)&&I.push(w[S]);I.length?this._events[g]=I.length===1?I[0]:I:s(this,g)}return this},a.prototype.removeAllListeners=function(l){var h;return l?(h=n?n+l:l,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(tc)),tc.exports}G8();const V8="0.1.1";function K8(){return V8}let Pf=class Gc extends Error{constructor(t,n={}){const r=(()=>{var a;if(n.cause instanceof Gc){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details})(),o=n.cause instanceof Gc&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${o??""}`,s=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||o?["",r?`Details: ${r}`:void 0,o?`See: ${i}`:void 0]:[]].filter(a=>typeof a=="string").join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${K8()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=o,this.shortMessage=t}walk(t){return Yy(this,t)}};function Yy(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Yy(e.cause,t):t?null:e}function W8(e,t={}){const{raw:n=!1}=t,r=e;if(n)return e;if(r.error)throw Qy(r.error);return r.result}function Qy(e){const t=e;if(t instanceof Error&&!("code"in t))return new Xr({cause:t,data:t,message:t.message});const{code:n}=t;return n===Xr.code?new Xr(t):n===Vc.code?new Vc(t):n===tu.code?new tu(t):n===Qc.code?new Qc(t):n===Xc.code?new Xc(t):n===eu.code?new eu(t):n===Jc.code?new Jc(t):n===Jo.code?new Jo(t):n===Kc.code?new Kc(t):n===Wc.code?new Wc(t):n===Zc.code?new Zc(t):n===Yc.code?new Yc(t):new Xr({cause:t instanceof Error?t:void 0,data:t,message:t.message})}class nn extends Error{constructor(t){const{cause:n,code:r,message:o,data:i}=t;super(o,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=n,this.code=r,this.data=i}}let Vc=class em extends nn{constructor(t={}){super({code:em.code,data:t.data,message:t.message??"Missing or invalid parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}};Object.defineProperty(Vc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});let Kc=class tm extends nn{constructor(t={}){super({code:tm.code,data:t.data,message:t.message??"Requested resource not found."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}};Object.defineProperty(Kc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});let Wc=class nm extends nn{constructor(t={}){super({code:nm.code,data:t.data,message:t.message??"Requested resource not available."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}};Object.defineProperty(Wc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});let Zc=class rm extends nn{constructor(t={}){super({code:rm.code,data:t.data,message:t.message??"Transaction creation failed."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}};Object.defineProperty(Zc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});let Jc=class om extends nn{constructor(t={}){super({code:om.code,data:t.data,message:t.message??"Method is not implemented."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}};Object.defineProperty(Jc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});let Xc=class im extends nn{constructor(t={}){super({code:im.code,data:t.data,message:t.message??"Rate limit exceeded."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}};Object.defineProperty(Xc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});let Yc=class sm extends nn{constructor(t={}){super({code:sm.code,data:t.data,message:t.message??"JSON-RPC version not supported."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}};Object.defineProperty(Yc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let Qc=class am extends nn{constructor(t={}){super({code:am.code,data:t.data,message:t.message??"Input is not a valid JSON-RPC request."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}};Object.defineProperty(Qc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});let eu=class cm extends nn{constructor(t={}){super({code:cm.code,data:t.data,message:t.message??"Method does not exist."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}};Object.defineProperty(eu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});let tu=class um extends nn{constructor(t={}){super({code:um.code,data:t.data,message:t.message??"Invalid method parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}};Object.defineProperty(tu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});let Xr=class fm extends nn{constructor(t={}){super({cause:t.cause,code:fm.code,data:t.data,message:t.message??"Internal JSON-RPC error."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalError"})}};Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Jo extends nn{constructor(t={}){super({code:Jo.code,data:t.data,message:t.message??"Failed to parse JSON-RPC response."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(Jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});let Wt=class extends Error{constructor(t,n){super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}},nu=class extends Wt{constructor({message:t="The user rejected the request."}={}){super(4001,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}};Object.defineProperty(nu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});let ru=class extends Wt{constructor({message:t="The requested method and/or account has not been authorized by the user."}={}){super(4100,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}};Object.defineProperty(ru,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});let ou=class extends Wt{constructor({message:t="The provider does not support the requested method."}={}){super(4200,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}};Object.defineProperty(ou,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});let as=class extends Wt{constructor({message:t="The provider is disconnected from all chains."}={}){super(4900,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}};Object.defineProperty(as,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let iu=class extends Wt{constructor({message:t="The provider is not connected to the requested chain."}={}){super(4901,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}};Object.defineProperty(iu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});let su=class extends Wt{constructor({message:t="An error occurred when attempting to switch chain."}={}){super(4902,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.SwitchChainError"})}};Object.defineProperty(su,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class au extends Wt{constructor({message:t="This Wallet does not support a capability that was not marked as optional."}={}){super(5700,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedNonOptionalCapabilityError"})}}Object.defineProperty(au,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});let cu=class extends Wt{constructor({message:t="This Wallet does not support the requested chain ID."}={}){super(5710,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedChainIdError"})}};Object.defineProperty(cu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});let uu=class extends Wt{constructor({message:t="There is already a bundle submitted with this ID."}={}){super(5720,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DuplicateIdError"})}};Object.defineProperty(uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});let fu=class extends Wt{constructor({message:t="This bundle id is unknown / has not been submitted."}={}){super(5730,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnknownBundleIdError"})}};Object.defineProperty(fu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});let lu=class extends Wt{constructor({message:t="The call bundle is too large for the Wallet to process."}={}){super(5740,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.BundleTooLargeError"})}};Object.defineProperty(lu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});let hu=class extends Wt{constructor({message:t="The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."}={}){super(5750,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicReadyWalletRejectedUpgradeError"})}};Object.defineProperty(hu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class du extends Wt{constructor({message:t="The wallet does not support atomic execution but the request requires it."}={}){super(5760,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicityNotSupportedError"})}}Object.defineProperty(du,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});function Z8(e,t={}){var r,o;const{includeEvents:n=!0}=t;if(!e)throw new X8;return{...n?{on:(r=e.on)==null?void 0:r.bind(e),removeListener:(o=e.removeListener)==null?void 0:o.bind(e)}:{},async request(i){try{const s=await e.request(i);return s&&typeof s=="object"&&"jsonrpc"in s?W8(s):s}catch(s){throw J8(s)}}}}function J8(e){const t=Qy(e);if(t instanceof Xr){if(!t.data)return t;const{code:n}=t.data;if(n===as.code)return new as(t);if(n===iu.code)return new iu(t);if(n===nu.code)return new nu(t);if(n===ru.code)return new ru(t);if(n===ou.code)return new ou(t);if(n===su.code)return new su(t);if(n===hu.code)return new hu(t);if(n===du.code)return new du(t);if(n===lu.code)return new lu(t);if(n===fu.code)return new fu(t);if(n===uu.code)return new uu(t);if(n===cu.code)return new cu(t);if(n===au.code)return new au(t)}return t}let X8=class extends Pf{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}};const Ue={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};let St=class extends Error{constructor(n,r){super(r);Be(this,"code");this.code=n}},vn=class extends Error{constructor(n,r){super(r);Be(this,"code");this.code=n}};const Y8=new Set(["eth_accounts","eth_requestAccounts","personal_sign","eth_sendTransaction","eth_signTypedData_v4","eth_chainId","eth_sign","wallet_disconnect","wallet_switchEthereumChain","wallet_sendCalls","wallet_getCallsStatus","wallet_getCapabilities"]);function Q8(e,{chains:t}){var i;const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw new vn(Ue.rpc.invalidParams,"'method' must be a non-empty string.");const o=(i=(r??[])[0])==null?void 0:i.chainId;if(typeof o=="string"&&!t.some(s=>s.id===Number.parseInt(o,16)))throw new St(Ue.provider.unsupportedChain,`Chain ${o} not supported - make sure the provider is configured with the correct chains.`);if(r!==void 0&&!Array.isArray(r))throw new vn(Ue.rpc.invalidParams,"'params' must be an array if provided.");if(!Y8.has(n))throw new St(Ue.provider.unsupportedMethod,`Method ${e.method} not supported`)}async function Ur(){const e=await pi();if(!e)throw new St(Ue.provider.unauthorized,"User not connected");return e}async function e4(e){var n,r;const t=await Ur();if(!((n=t.evmAccounts)!=null&&n.includes(e))&&!((r=t.evmSmartAccounts)!=null&&r.includes(e)))throw new St(Ue.provider.unauthorized,"Address not owned by user");return t}async function Of(e){var n;const t=await Ur();if(!((n=t.evmAccounts)!=null&&n.includes(e)))throw new St(Ue.provider.unauthorized,"EOA not owned by user");return t}async function Rf(e){var n;const t=await Ur();if(!((n=t.evmSmartAccounts)!=null&&n.includes(e)))throw new St(Ue.provider.unauthorized,"Smart account not owned by user");return t}async function lm(){var t;const e=await Ur();if(!((t=e.evmSmartAccounts)!=null&&t[0]))throw new St(Ue.provider.unauthorized,"No EVM smart accounts available");return e}async function t4(){var e;return((e=await pi())==null?void 0:e.evmAccounts)||[]}async function n4(e){const[t,n]=e;await Of(n);try{const{signature:r}=await Af({evmAccount:n,hash:t});return r}catch(r){throw new St(Ue.provider.userRejectedRequest,r instanceof Error?r.message:"Signing failed")}}async function r4(e,t){throw new St(Ue.provider.unsupportedMethod,"wallet_getCallsStatus is not supported with EOAs")}async function o4(){return{}}async function i4(e){const[t,n]=e;await e4(n);const r=s4(t);try{const{signature:o}=await _f({evmAccount:n,message:r});return o}catch(o){throw new St(Ue.provider.userRejectedRequest,o instanceof Error?o.message:"Signing failed")}}function s4(e){return typeof e=="string"?Sd(e):typeof e.raw=="string"?e.raw:_c(Cu(e.raw))}function a4(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const o=e.replace("0x","");if(o.length>r*2)throw new f4({size:Math.ceil(o.length/2),targetSize:r,type:"Hex"});return`0x${o[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function hm(e,t={}){const{signed:n,size:r}=t,o=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<s){const l=typeof e=="bigint"?"n":"";throw new u4({max:i?`${i}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${e}${l}`})}const a=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?c4(a,r):a}function c4(e,t){return a4(e,{dir:"left",size:t})}class u4 extends Pf{constructor({max:t,min:n,signed:r,size:o,value:i}){super(`Number \`${i}\` is not in safe${o?` ${o*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}let f4=class extends Pf{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};async function l4(e,t){const n=await Ur();return e.emit("connect",{chainId:hm(t.getState().chainId)}),n.evmAccounts||[]}async function h4(e,t){throw new St(Ue.provider.unsupportedMethod,"wallet_sendCalls is not supported with EOAs")}async function d4(e,t,n){const[r]=e;if(!r||typeof r!="object")throw new vn(Ue.rpc.invalidParams,"Transaction parameter must be an object");if(!r.to)throw new vn(Ue.rpc.invalidParams,"Transaction must include 'to' field");await Of(r.from);const o=t.getState(),i=r.chainId?Number(r.chainId):o.chainId;if(Z3(i))try{const{transactionHash:s}=await Dy({evmAccount:r.from,transaction:{...Uh(r),chainId:i},network:W3[i]});return s}catch(s){throw new vn(Ue.rpc.transactionRejected,s instanceof Error?s.message:"Transaction failed")}else try{const s=xv({chain:o.chains.find(p=>p.id===i),transport:n[i],account:r.from}),a=o.chains.find(p=>p.id===i),l=await s.prepareTransactionRequest({...Uh(r),chain:a}),{signedTransaction:h}=await Bf({evmAccount:r.from,transaction:{...l,type:"eip1559"}});return await s.sendRawTransaction({serializedTransaction:h})}catch(s){throw new vn(Ue.rpc.transactionRejected,s instanceof Error?s.message:"Transaction failed")}}function Uh(e){return{to:e.to,data:e.data,value:e.value?BigInt(e.value):void 0,nonce:e.nonce?Number(e.nonce):void 0,gas:e.gas?BigInt(e.gas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,type:"eip1559"}}async function p4(e){const[t,n]=e;await Of(t);try{const{signature:r}=await Ns({evmAccount:t,typedData:JSON.parse(n)});return r}catch(r){throw new St(Ue.provider.userRejectedRequest,r instanceof Error?r.message:"Signing failed")}}async function dm(e){return`0x${e.getState().chainId.toString(16)}`}async function pm(){await pi()&&await jy()}function ym(e,t){const n=Number.parseInt(e[0].chainId,16);t.getState().setChainId(n)}function y4(){return{eth_accounts:t4,eth_requestAccounts:l4,personal_sign:i4,eth_sendTransaction:d4,eth_signTypedData_v4:p4,wallet_disconnect:pm,wallet_switchEthereumChain:ym,eth_sign:n4,eth_chainId:dm,wallet_sendCalls:h4,wallet_getCallsStatus:r4,wallet_getCapabilities:o4}}async function m4(){var e;return((e=await pi())==null?void 0:e.evmSmartAccounts)||[]}async function g4(e,t){const[n,r]=e,o=await Rf(r);try{const{signature:i}=await Ls({smartAccount:r,ownerAddress:o.evmAccounts[0],hash:n,chainId:t.getState().chainId});return i}catch(i){throw new St(Ue.provider.userRejectedRequest,i instanceof Error?i.message:"Signing failed")}}async function w4(e,t){var i;const n=e[0],r=(i=(await lm()).evmSmartAccounts)==null?void 0:i[0],o=t.getState().chainId;if(!hy(o)||!rs[o])throw new vn(Ue.rpc.invalidParams,"Chain ID is not supported for user operations");try{const s=await qy({userOperationHash:n,evmSmartAccount:r,network:rs[o]});return b4(s)}catch(s){throw console.log("Failed to get user operation status",s),new vn(Ue.rpc.internal,"Failed to get user operation status")}}function b4(e){var t;return{atomic:!0,chainId:wf[e.network]??0,receipts:(t=e.receipts)==null?void 0:t.map(n=>({transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:BigInt(n.blockNumber??0),gasUsed:BigInt(n.gasUsed??0),logs:[],status:""})),id:e.userOpHash,status:v4(e.status),version:"1"}}function v4(e){switch(e){case"dropped":case"failed":return 400;case"complete":return 200;default:return 100}}async function x4(){var e;return(e=(await Ur()).evmSmartAccounts)!=null&&e.length?Object.keys(rs).reduce((t,n)=>{const r=Br(Number(n));return t[r]={atomic:{status:"supported"},paymasterService:{supported:!0}},t},{}):{}}async function E4(e,t){const[n,r]=e,o=await Rf(r);try{const{signature:i}=await Ls({smartAccount:r,ownerAddress:o.evmAccounts[0],hash:S4(n),chainId:t.getState().chainId});return i}catch(i){throw new St(Ue.provider.userRejectedRequest,i instanceof Error?i.message:"Signing failed")}}function S4(e){return typeof e=="string"?_c(Sd(e)):typeof e.raw=="string"?e.raw:_c(Cu(e.raw))}async function A4(e,t){const n=await Ur();return e.emit("connect",{chainId:hm(t.getState().chainId)}),n.evmSmartAccounts||[]}async function B4(e,t){const[{calls:n}]=e,r=(await lm()).evmSmartAccounts[0],o=t.getState().chainId;if(!hy(o))throw new vn(Ue.rpc.invalidParams,"Chain ID is not supported for user operations");try{return(await Hy({evmSmartAccount:r,calls:_4(n),network:rs[o]})).userOperationHash}catch(i){throw new vn(Ue.rpc.transactionRejected,i instanceof Error?i.message:"User operation failed")}}function _4(e){return e.map(t=>({to:t.to,data:t.data,value:t.value?BigInt(t.value):void 0}))}async function I4(e,t,n){throw new St(Ue.provider.unsupportedMethod,"eth_sendTransaction is not supported with smart accounts. Use wallet_sendCalls instead.")}async function $4(e,t){const[n,r]=e,o=await Rf(n);try{const{signature:i}=await Ls({smartAccount:n,ownerAddress:o.evmAccounts[0],hash:Ep(JSON.parse(r)),chainId:t.getState().chainId});return i}catch(i){throw new St(Ue.provider.userRejectedRequest,i instanceof Error?i.message:"Signing failed")}}function T4(){return{eth_accounts:m4,eth_requestAccounts:A4,personal_sign:E4,eth_sendTransaction:I4,eth_signTypedData_v4:$4,wallet_disconnect:pm,wallet_switchEthereumChain:ym,eth_sign:g4,eth_chainId:dm,wallet_sendCalls:B4,wallet_getCallsStatus:w4,wallet_getCapabilities:x4}}function P4(e,t,n){t.subscribe(s=>s.chainId,(s,a)=>{s!==a&&e.emit("chainChanged",s)}),t.subscribe(s=>s.user,(s,a)=>{var l,h,p,m;if(!((s==null?void 0:s.userId)===(a==null?void 0:a.userId)&&((l=s==null?void 0:s.evmAccounts)==null?void 0:l.length)===((h=a==null?void 0:a.evmAccounts)==null?void 0:h.length))){if(!s&&a){e.emit("disconnect",new as);return}if(s&&((p=s.evmAccounts)!=null&&p.length)&&(!a||((m=a.evmAccounts)==null?void 0:m.length)===0)){const g=t.getState().chainId;e.emit("connect",{chainId:g});return}}});const{chainId:r,setChainId:o}=t.getState(),i=r||n.chains[0].id;return r||o(i),Z8({request:async s=>{Q8(s,n);const a=s,l=t.getState().user,h=l!=null&&l.evmSmartAccounts&&l.evmSmartAccounts.length>0?T4():y4();switch(a.method){case"eth_accounts":return h.eth_accounts();case"eth_requestAccounts":return h.eth_requestAccounts(e,t);case"personal_sign":return h.personal_sign(a.params,t);case"eth_sendTransaction":return h.eth_sendTransaction(a.params,t,n.transports);case"wallet_disconnect":return h.wallet_disconnect();case"wallet_switchEthereumChain":return h.wallet_switchEthereumChain(a.params,t);case"eth_sign":return h.eth_sign(a.params,t);case"eth_signTypedData_v4":return h.eth_signTypedData_v4(a.params,t);case"eth_chainId":return h.eth_chainId(t);case"wallet_sendCalls":return h.wallet_sendCalls(a.params,t);case"wallet_getCallsStatus":return h.wallet_getCallsStatus(a.params,t);case"wallet_getCapabilities":return h.wallet_getCapabilities();default:throw new St(Ue.provider.unsupportedMethod,`Method ${a.method} not supported`)}},on:e.on.bind(e),removeListener:e.removeListener.bind(e)})}function O4(e){if(e.chains.length===0)throw new Error("At least one chain must be configured");if(!e.transports)throw new Error("Transports must be provided");const t=e.chains,n=e.transports;if(t.length===0)throw new Error("No chains found in configuration");const r=new H8,o=Sv(),i={getItem:a=>o.getItem(a),setItem:(a,l)=>o.setItem(a,l),removeItem:a=>o.removeItem(a)},s=N8()(L8(D8(a=>({chainId:t[0].id,setChainId:l=>a({chainId:l}),chains:t,user:null,setUser:l=>a({user:l})}),{name:"cdp-provider-store",storage:Xy(()=>i)})));return s.persist.rehydrate(),Ly(a=>{s.getState().setUser(a)}),{provider:P4(r,s,{chains:t,transports:n})}}Ev({crypto:Av,storage:_v,oauth:Bv});const R4=Object.freeze(Object.defineProperty({__proto__:null,APIError:Xn,AuthManager:bf,CustomAuthError:No,EIP1193ProviderError:St,ErrorType:Vw,HttpErrorType:fr,InputValidationError:is,InternalError:yi,ModuleResolutionError:W6,OAuth2ProviderType:Kw,STANDARD_ERROR_CODES:Ue,SendEvmTransactionWithEndUserAccountBodyNetwork:pd,SendSolanaTransactionWithEndUserAccountBodyNetwork:Ww,ValidationError:Fo,authenticateWithJWT:j6,createCDPEmbeddedWallet:O4,createEvmEoaAccount:Jy,createEvmSmartAccount:k8,createSolanaAccount:U8,createSpendPermission:Y6,exportEvmAccount:V6,exportSolanaAccount:K6,fetchWithX402:T8,getAccessToken:z6,getAccessTokenExpiration:D6,getCurrentUser:pi,getCurrentUserSync:js,getUserOperation:qy,initialize:C6,isSignedIn:L6,linkApple:M8,linkEmail:R8,linkGoogle:P8,linkOAuth:C8,linkSms:O8,listSpendPermissions:Q6,onAuthStateChange:Ly,onOAuthStateChange:H6,revokeSpendPermission:e8,sendEvmTransaction:Dy,sendSolanaTransaction:q6,sendUserOperation:Hy,signEvmHash:Af,signEvmMessage:_f,signEvmTransaction:Bf,signEvmTypedData:Ns,signInWithEmail:M6,signInWithOAuth:U6,signInWithSms:k6,signOut:jy,signSolanaMessage:G6,signSolanaTransaction:zy,toViemAccount:Ni,verifyEmailOTP:F6,verifyOAuth:Sf,verifySmsOTP:N6},Symbol.toStringTag,{value:"Module"}));function C4(e){const t={};try{for(const n of Object.getOwnPropertyNames(e)){const r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}for(const n of Object.getOwnPropertySymbols(e)){const r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}}catch{Object.assign(t,e)}return Object.defineProperty(t,"__module",{value:e,enumerable:!1,writable:!1,configurable:!1}),t}window.CDP=C4(R4);window.CDP.__loadedBy="vite-bundle";console.info("CDP bundled by Vite and attached to window.CDP",window.CDP);try{window.dispatchEvent(new Event("CDP:loaded"))}catch(e){console.warn("Could not dispatch CDP:loaded event",e)}const M4=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{jo as a,wn as c,$p as h,Au as r,ap as s};
