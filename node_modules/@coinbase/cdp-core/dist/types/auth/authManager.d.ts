import { AuthState, IAuthManager, WalletSecret } from './types.js';
import { OnAuthStateChangeFn, User } from '../types.js';
export declare class AuthManager implements IAuthManager {
    protected projectId: string;
    protected authState: AuthState | null;
    protected walletSecret: WalletSecret | null;
    protected authStateChangeCallbacks: OnAuthStateChangeFn[];
    protected initPromise: Promise<void> | null;
    protected refreshTimeout: NodeJS.Timeout | null;
    constructor(projectId: string);
    getUser(): User | null;
    isSignedIn(): Promise<boolean>;
    signOut(): Promise<void>;
    addAuthStateChangeCallback(callback: OnAuthStateChangeFn): void;
    getToken(): Promise<string | null>;
    getTokenExpiration(): Promise<number | null>;
    getWalletSecretId(): Promise<string>;
    getXWalletAuth(options: {
        requestMethod: string;
        requestHost: string;
        requestPath: string;
        requestData?: Record<string, unknown>;
    }): Promise<string>;
    getAuthState(): AuthState | null;
    setAuthState(authState: AuthState): Promise<void>;
    clearAuthState(): Promise<void>;
    ensureInitialized(): Promise<void>;
    protected _doInitialize(): Promise<void>;
    protected shouldRefreshToken(): boolean;
    protected refreshAccessToken(): Promise<void>;
    protected scheduleTokenRefresh(): void;
    protected cancelTokenRefresh(): void;
    private shouldRefreshWalletSecret;
    private refreshWalletSecret;
}
