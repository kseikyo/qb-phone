import "@coinbase/cdp-api-client";
import "viem";
const n = {
  /**
   * Retrieves a value from secure storage.
   *
   * @param key - The storage key.
   * @returns Promise that resolves to the stored value or null if not found.
   */
  async getItem(t) {
    try {
      const { getItemAsync: e } = await import("expo-secure-store");
      return await e(t);
    } catch (e) {
      if (e instanceof Error && e.message.includes("Cannot resolve module"))
        throw new Error(
          "SecureStore is not available. Please install expo-secure-store and ensure it's properly configured in your React Native project."
        );
      return console.warn(`Failed to get item from SecureStore: ${e}`), null;
    }
  },
  /**
   * Stores a value in secure storage.
   *
   * @param key - The storage key.
   * @param value - The value to store.
   * @returns Promise that resolves when the value is stored.
   */
  async setItem(t, e) {
    try {
      const { setItemAsync: r } = await import("expo-secure-store");
      await r(t, e);
    } catch (r) {
      throw r instanceof Error && r.message.includes("Cannot resolve module") ? new Error(
        "SecureStore is not available. Please install expo-secure-store and ensure it's properly configured in your React Native project."
      ) : (console.warn(`Failed to set item in SecureStore: ${r}`), r);
    }
  },
  /**
   * Removes a value from secure storage.
   *
   * @param key - The storage key.
   * @returns Promise that resolves when the value is removed.
   */
  async removeItem(t) {
    try {
      const { deleteItemAsync: e } = await import("expo-secure-store");
      await e(t);
    } catch (e) {
      throw e instanceof Error && e.message.includes("Cannot resolve module") ? new Error(
        "SecureStore is not available. Please install expo-secure-store and ensure it's properly configured in your React Native project."
      ) : (console.warn(`Failed to remove item from SecureStore: ${e}`), e);
    }
  },
  /**
   * Clears all values from secure storage.
   * Note: SecureStore doesn't have a built-in clear method, so this would need
   * to be implemented by tracking keys or clearing known keys individually.
   *
   * @returns Promise that resolves when storage is cleared.
   */
  async clear() {
    const t = ["cdp_refresh_token"];
    try {
      const { deleteItemAsync: e } = await import("expo-secure-store");
      await Promise.all(
        t.map(
          (r) => e(r).catch(() => {
          })
        )
      );
    } catch (e) {
      throw e instanceof Error && e.message.includes("Cannot resolve module") ? new Error(
        "SecureStore is not available. Please install expo-secure-store and ensure it's properly configured in your React Native project."
      ) : (console.warn(`Failed to clear SecureStore: ${e}`), e);
    }
  }
};
export {
  n as nativeSecureStorage
};
