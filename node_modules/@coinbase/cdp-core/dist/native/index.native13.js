import { initiateAuthentication as o } from "@coinbase/cdp-api-client";
import { Analytics as e } from "./index.native30.js";
import "./index.native31.js";
import { getPlatformOAuth as i } from "./index.native6.js";
import { getCoreAuthManager as n, getConfig as r } from "./index.native28.js";
async function u() {
  if (e.sendActionCallEvent({ name: "link_google" }), !await n().isSignedIn())
    throw new Error("User must be signed in to link a Google account");
  const t = await o(r().projectId, {
    type: "google",
    redirectUrl: i().getRedirectUrl()
  });
  if (!("authUrl" in t))
    throw new Error("Failed to initiate Google authentication");
  i().initiateOAuthFlow(t.authUrl);
}
export {
  u as linkGoogle
};
