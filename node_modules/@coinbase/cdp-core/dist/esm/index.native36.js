import "@coinbase/cdp-api-client";
import "viem";
const i = async (n) => await n.isSignedIn();
async function f(n, r, o) {
  if (!await i(r))
    throw new Error("User not signed in");
  const c = r.getUser();
  if ("evmAccount" in n && !c.evmAccounts?.find((t) => t === n.evmAccount))
    throw new Error("EVM account not found");
  if ("evmSmartAccount" in n && !c.evmSmartAccounts?.find((t) => t === n.evmSmartAccount))
    throw new Error("EVM Smart Account not found");
  if ("solanaAccount" in n && !c.solanaAccounts?.find((t) => t === n.solanaAccount))
    throw new Error("Solana account not found");
  const e = await r.getWalletSecretId();
  return o({ ...n, user: c, walletSecretId: e });
}
export {
  i as isSignedIn,
  f as withAuth
};
