import { hashTypedData as s } from "viem";
import { signAndWrapTypedDataForSmartAccount as c } from "./index.web46.js";
import { validateUserOwnsSmartAccount as i, EIP1193ProviderError as d, STANDARD_ERROR_CODES as m } from "./index.web25.js";
async function A(a, e) {
  const [t, n] = a, o = await i(t);
  try {
    const { signature: r } = await c({
      smartAccount: t,
      ownerAddress: o.evmAccounts[0],
      hash: s(JSON.parse(n)),
      chainId: e.getState().chainId
    });
    return r;
  } catch (r) {
    throw new d(
      m.provider.userRejectedRequest,
      r instanceof Error ? r.message : "Signing failed"
    );
  }
}
export {
  A as handleSignTypedData
};
