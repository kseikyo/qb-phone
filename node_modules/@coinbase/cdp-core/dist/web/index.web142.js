import { signAndWrapTypedDataForSmartAccount as s } from "./index.web46.js";
import { validateUserOwnsSmartAccount as c, EIP1193ProviderError as i, STANDARD_ERROR_CODES as d } from "./index.web25.js";
async function h(e, n) {
  const [a, t] = e, o = await c(t);
  try {
    const { signature: r } = await s({
      smartAccount: t,
      ownerAddress: o.evmAccounts[0],
      hash: a,
      chainId: n.getState().chainId
    });
    return r;
  } catch (r) {
    throw new i(
      d.provider.userRejectedRequest,
      r instanceof Error ? r.message : "Signing failed"
    );
  }
}
export {
  h as handleEthSign
};
